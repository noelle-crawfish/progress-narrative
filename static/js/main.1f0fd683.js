/*! For license information please see main.1f0fd683.js.LICENSE.txt */
(()=>{var e={3861:(e,t,i)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}i.default=e,t&&t.set(e,i);return i}(i(5043));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s.apply(this,arguments)}function a(e,t){return o.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),o.createElement("path",{d:"M2.784 2.089l.069.058 5.146 5.147 5.146-5.147a.5.5 0 01.765.638l-.058.069L8.705 8l5.147 5.146a.5.5 0 01-.638.765l-.069-.058-5.146-5.147-5.146 5.147a.5.5 0 01-.765-.638l.058-.069L7.293 8 2.146 2.854a.5.5 0 01.638-.765z"}))}var l=o.forwardRef(a);t.default=l},4411:(e,t,i)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return o.default}});var n,o=(n=i(4482))&&n.__esModule?n:{default:n}},8474:(e,t,i)=>{"use strict";var n=i(4994);t.__esModule=!0,t.default=void 0;var o=n(i(4634)),r=n(i(4893)),s=n(i(5043)),a=n(i(8139)),l=n(i(5173)),u=i(4765);var c=s.default.forwardRef((function(e,t){var i,n=e.as,l=e.spin,c=e.pulse,d=e.flip,h=e.fill,p=e.className,g=e.rotate,f=e.children,m=e.viewBox,v=e.width,C=e.height,y=e.style,w=(0,r.default)(e,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),b=(0,u.useClassNames)(),E=b[0],S=b[1],x=(0,a.default)(p,E,((i={})[S("spin")]=l,i[S("pulse")]=c,i[S("flip-"+d)]=!!d,i)),R={msTransform:"rotate("+g+"deg)",transform:"rotate("+g+"deg)"};(0,u.useInsertStyles)();var T=function(e){var t={};return Object.entries(e).forEach((function(e){var i=e[0],n=e[1];"undefined"!==typeof n&&(t[i]=n)})),t}({width:v,height:C,fill:h,viewBox:m,className:x,style:g?(0,o.default)({},R,y):y});return s.default.createElement(n,(0,o.default)({"aria-hidden":!0,focusable:!1,ref:t},T,w),f)}));c.displayName="Icon",c.defaultProps={as:"svg",fill:"currentColor",width:"1em",height:"1em"},c.propTypes={spin:l.default.bool,pulse:l.default.bool,rotate:l.default.number,viewBox:l.default.string,as:l.default.oneOfType([l.default.elementType,l.default.string]),flip:l.default.oneOf(["horizontal","vertical"]),fill:l.default.string};var d=c;t.default=d,e.exports=t.default},8596:(e,t,i)=>{"use strict";var n=i(4994);t.__esModule=!0,t.default=void 0;var o=n(i(4634)),r=n(i(5043)),s=n(i(8474));var a=function(e){var t=e.as,i=e.ariaLabel,n=e.displayName,a=e.category,l=r.default.forwardRef((function(e,n){return r.default.createElement(s.default,(0,o.default)({"aria-label":i,"data-category":a,ref:n,as:t},e))}));return l.displayName=n,l};t.default=a,e.exports=t.default},4482:(e,t,i)=>{"use strict";var n=i(4994);t.__esModule=!0,t.default=void 0;var o=n(i(8596)),r=n(i(3861)),s=(0,o.default)({as:r.default,ariaLabel:"close",category:"application",displayName:"Close"});t.default=s,e.exports=t.default},5929:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(){return"undefined"!==typeof document&&"undefined"!==typeof window&&"function"===typeof document.createElement},e.exports=t.default},4765:(e,t,i)=>{"use strict";var n=i(4994);t.__esModule=!0;var o={useClassNames:!0,inBrowserEnv:!0,useInsertStyles:!0};t.useInsertStyles=t.inBrowserEnv=t.useClassNames=void 0;var r=i(9485);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===r[e]||(t[e]=r[e]))}));var s=n(i(9130));t.useClassNames=s.default;var a=n(i(5929));t.inBrowserEnv=a.default;var l=n(i(2265));t.useInsertStyles=l.default},9485:(e,t,i)=>{"use strict";var n=i(4994);t.__esModule=!0,t.prefix=t.defaultClassPrefix=t.getClassNamePrefix=t.globalKey=void 0;var o=n(i(4430)),r=n(i(8139));t.globalKey="rs-";var s=function(){return"rs-"};t.getClassNamePrefix=s;t.defaultClassPrefix=function(e){return e?"rs-"+e:void 0};var a=(0,o.default)((function(e,t){return e&&t?Array.isArray(t)?(0,r.default)(t.filter((function(e){return!!e})).map((function(t){return e+"-"+t}))):e+"-"+t:""}));t.prefix=a},9130:(e,t,i)=>{"use strict";var n=i(4994);t.__esModule=!0,t.default=function(e){var t=(0,o.defaultClassPrefix)("icon"),i=(0,s.useCallback)((function(e){return(0,o.prefix)(t,e)}),[]);return[(0,r.default)(t,(0,o.defaultClassPrefix)(e)),i]};var o=i(9485),r=n(i(8139)),s=i(5043);e.exports=t.default},2265:(e,t,i)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=i(5179),o=i(9485),r=i(5043),s=(0,o.getClassNamePrefix)(),a="."+s+"icon {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  vertical-align: middle;\n}\n."+s+"icon[tabindex] {\n  cursor: pointer;\n}\n."+s+"icon-spin {\n  -webkit-animation: icon-spin 2s infinite linear;\n          animation: icon-spin 2s infinite linear;\n}\n."+s+"icon-pulse {\n  -webkit-animation: icon-spin 1s infinite steps(8);\n          animation: icon-spin 1s infinite steps(8);\n}\n."+s+"icon-flip-horizontal {\n  -webkit-transform: scaleX(-1);\n      -ms-transform: scaleX(-1);\n          transform: scaleX(-1);\n}\n."+s+"icon-flip-vertical {\n  -webkit-transform: scaleY(-1);\n      -ms-transform: scaleY(-1);\n          transform: scaleY(-1);\n}\n@-webkit-keyframes icon-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n            transform: rotate(359deg);\n  }\n}\n@keyframes icon-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n            transform: rotate(359deg);\n  }\n}",l=!1,u=function(e){void 0===e&&(e=a),(0,r.useEffect)((function(){l||((0,n.insertCss)(e,{prepend:!0}),l=!0)}),[])};t.default=u,e.exports=t.default},5179:e=>{var t=[],i=[];function n(e,n){if(n=n||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var o,r=!0===n.prepend?"prepend":"append",s=void 0!==n.container?n.container:document.querySelector("head"),a=t.indexOf(s);return-1===a&&(a=t.push(s)-1,i[a]={}),void 0!==i[a]&&void 0!==i[a][r]?o=i[a][r]:(o=i[a][r]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===r?s.insertBefore(o,s.childNodes[0]):s.appendChild(o)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}e.exports=n,e.exports.insertCss=n},7685:(e,t,i)=>{var n=i(7937)(i(6552),"DataView");e.exports=n},8724:(e,t,i)=>{var n=i(7615),o=i(5051),r=i(2154),s=i(8734),a=i(2662);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},523:(e,t,i)=>{var n=i(1817),o=i(2112);function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}r.prototype=n(o.prototype),r.prototype.constructor=r,e.exports=r},7160:(e,t,i)=>{var n=i(7563),o=i(9935),r=i(4190),s=i(1946),a=i(1714);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},2990:(e,t,i)=>{var n=i(1817),o=i(2112);function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}r.prototype=n(o.prototype),r.prototype.constructor=r,e.exports=r},5204:(e,t,i)=>{var n=i(7937)(i(6552),"Map");e.exports=n},4816:(e,t,i)=>{var n=i(7251),o=i(7159),r=i(438),s=i(9394),a=i(6874);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},5387:(e,t,i)=>{var n=i(7937)(i(6552),"Promise");e.exports=n},2070:(e,t,i)=>{var n=i(7937)(i(6552),"Set");e.exports=n},5538:(e,t,i)=>{var n=i(7160),o=i(4545),r=i(793),s=i(7760),a=i(3892),l=i(6788);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=s,u.prototype.has=a,u.prototype.set=l,e.exports=u},9812:(e,t,i)=>{var n=i(6552).Symbol;e.exports=n},2929:(e,t,i)=>{var n=i(6552).Uint8Array;e.exports=n},6600:(e,t,i)=>{var n=i(7937)(i(6552),"WeakMap");e.exports=n},1170:e=>{e.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},726:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}},7529:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}},5866:(e,t,i)=>{var n=i(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},3204:(e,t,i)=>{var n=i(3343),o=i(2777),r=i(4052),s=i(4543),a=i(9194),l=i(1268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var i=r(e),c=!i&&o(e),d=!i&&!c&&s(e),h=!i&&!c&&!d&&l(e),p=i||c||d||h,g=p?n(e.length,String):[],f=g.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,f))||g.push(m);return g}},149:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}},8895:e=>{e.exports=function(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}},9421:e=>{e.exports=function(e,t,i,n){var o=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++o]);++o<r;)i=t(i,e[o],o,e);return i}},9648:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},8420:(e,t,i)=>{var n=i(1775),o=i(3211),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){var s=e[t];r.call(e,t)&&o(s,i)&&(void 0!==i||t in e)||n(e,t,i)}},1340:(e,t,i)=>{var n=i(3211);e.exports=function(e,t){for(var i=e.length;i--;)if(n(e[i][0],t))return i;return-1}},1104:(e,t,i)=>{var n=i(6614),o=i(8673);e.exports=function(e,t){return e&&n(t,o(t),e)}},5119:(e,t,i)=>{var n=i(6614),o=i(474);e.exports=function(e,t){return e&&n(t,o(t),e)}},1775:(e,t,i)=>{var n=i(5654);e.exports=function(e,t,i){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},7132:(e,t,i)=>{var n=i(5538),o=i(726),r=i(8420),s=i(1104),a=i(5119),l=i(4353),u=i(1980),c=i(8124),d=i(9075),h=i(9395),p=i(8592),g=i(6924),f=i(8268),m=i(8630),v=i(310),C=i(4052),y=i(4543),w=i(7887),b=i(6686),E=i(5921),S=i(8673),x=i(474),R="[object Arguments]",T="[object Function]",D="[object Object]",P={};P[R]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[D]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[T]=P["[object WeakMap]"]=!1,e.exports=function e(t,i,A,M,_,k){var F,L=1&i,N=2&i,O=4&i;if(A&&(F=_?A(t,M,_,k):A(t)),void 0!==F)return F;if(!b(t))return t;var I=C(t);if(I){if(F=f(t),!L)return u(t,F)}else{var G=g(t),V=G==T||"[object GeneratorFunction]"==G;if(y(t))return l(t,L);if(G==D||G==R||V&&!_){if(F=N||V?{}:v(t),!L)return N?d(t,a(F,t)):c(t,s(F,t))}else{if(!P[G])return _?t:{};F=m(t,G,L)}}k||(k=new n);var H=k.get(t);if(H)return H;k.set(t,F),E(t)?t.forEach((function(n){F.add(e(n,i,A,n,t,k))})):w(t)&&t.forEach((function(n,o){F.set(o,e(n,i,A,o,t,k))}));var B=I?void 0:(O?N?p:h:N?x:S)(t);return o(B||t,(function(n,o){B&&(n=t[o=n]),r(F,o,e(n,i,A,o,t,k))})),F}},1817:(e,t,i)=>{var n=i(6686),o=Object.create,r=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=r},5816:e=>{e.exports=function(e,t,i,n){for(var o=e.length,r=i+(n?1:-1);n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},755:(e,t,i)=>{var n=i(8895),o=i(7116);e.exports=function e(t,i,r,s,a){var l=-1,u=t.length;for(r||(r=o),a||(a=[]);++l<u;){var c=t[l];i>0&&r(c)?i>1?e(c,i-1,r,s,a):n(a,c):s||(a[a.length]=c)}return a}},2969:(e,t,i)=>{var n=i(5324),o=i(914);e.exports=function(e,t){for(var i=0,r=(t=n(t,e)).length;null!=e&&i<r;)e=e[o(t[i++])];return i&&i==r?e:void 0}},4262:(e,t,i)=>{var n=i(8895),o=i(4052);e.exports=function(e,t,i){var r=t(e);return o(e)?r:n(r,i(e))}},6913:(e,t,i)=>{var n=i(9812),o=i(4552),r=i(6095),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):r(e)}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,i)=>{var n=i(5816),o=i(644),r=i(4020);e.exports=function(e,t,i){return t===t?r(e,t,i):n(e,o,i)}},5193:(e,t,i)=>{var n=i(6913),o=i(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},5791:(e,t,i)=>{var n=i(6924),o=i(2761);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,i)=>{var n=i(1629),o=i(7857),r=i(6686),s=i(6996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||o(e))&&(n(e)?h:a).test(s(e))}},449:(e,t,i)=>{var n=i(6924),o=i(2761);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},5428:(e,t,i)=>{var n=i(6913),o=i(6173),r=i(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&o(e.length)&&!!s[n(e)]}},3713:(e,t,i)=>{var n=i(6140),o=i(1143),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var i in Object(e))r.call(e,i)&&"constructor"!=i&&t.push(i);return t}},8122:(e,t,i)=>{var n=i(6686),o=i(6140),r=i(3516),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=o(e),i=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&i.push(a);return i}},2112:e=>{e.exports=function(){}},4008:(e,t,i)=>{var n=i(7449),o=i(3366);e.exports=function(e,t){return n(e,t,(function(t,i){return o(e,i)}))}},7449:(e,t,i)=>{var n=i(2969),o=i(9261),r=i(5324);e.exports=function(e,t,i){for(var s=-1,a=t.length,l={};++s<a;){var u=t[s],c=n(e,u);i(c,u)&&o(l,r(u,e),c)}return l}},2037:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},9261:(e,t,i)=>{var n=i(8420),o=i(5324),r=i(9194),s=i(6686),a=i(914);e.exports=function(e,t,i,l){if(!s(e))return e;for(var u=-1,c=(t=o(t,e)).length,d=c-1,h=e;null!=h&&++u<c;){var p=a(t[u]),g=i;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=d){var f=h[p];void 0===(g=l?l(f,p,h):void 0)&&(g=s(f)?f:r(t[u+1])?[]:{})}n(h,p,g),h=h[p]}return e}},6365:(e,t,i)=>{var n=i(3279),o=i(2867),r=o?function(e,t){return o.set(e,t),e}:n;e.exports=r},8325:(e,t,i)=>{var n=i(2541),o=i(5654),r=i(3279),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;e.exports=s},3871:e=>{e.exports=function(e,t,i){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(o);++n<o;)r[n]=e[n+t];return r}},3343:e=>{e.exports=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}},8541:(e,t,i)=>{var n=i(9812),o=i(149),r=i(4052),s=i(9841),a=n?n.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}},1141:(e,t,i)=>{var n=i(143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},8140:(e,t,i)=>{var n=i(5324),o=i(4065),r=i(1676),s=i(914);e.exports=function(e,t){return t=n(t,e),null==(e=r(e,t))||delete e[s(o(t))]}},5324:(e,t,i)=>{var n=i(4052),o=i(2597),r=i(4079),s=i(1069);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:r(s(e))}},1516:(e,t,i)=>{var n=i(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4353:(e,t,i)=>{e=i.nmd(e);var n=i(6552),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,n=a?a(i):new e.constructor(i);return e.copy(n),n}},6806:(e,t,i)=>{var n=i(1516);e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},8962:e=>{var t=/\w*$/;e.exports=function(e){var i=new e.constructor(e.source,t.exec(e));return i.lastIndex=e.lastIndex,i}},1295:(e,t,i)=>{var n=i(9812),o=n?n.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},8710:(e,t,i)=>{var n=i(1516);e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},2823:e=>{var t=Math.max;e.exports=function(e,i,n,o){for(var r=-1,s=e.length,a=n.length,l=-1,u=i.length,c=t(s-a,0),d=Array(u+c),h=!o;++l<u;)d[l]=i[l];for(;++r<a;)(h||r<s)&&(d[n[r]]=e[r]);for(;c--;)d[l++]=e[r++];return d}},1093:e=>{var t=Math.max;e.exports=function(e,i,n,o){for(var r=-1,s=e.length,a=-1,l=n.length,u=-1,c=i.length,d=t(s-l,0),h=Array(d+c),p=!o;++r<d;)h[r]=e[r];for(var g=r;++u<c;)h[g+u]=i[u];for(;++a<l;)(p||r<s)&&(h[g+n[a]]=e[r++]);return h}},1980:e=>{e.exports=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}},6614:(e,t,i)=>{var n=i(8420),o=i(1775);e.exports=function(e,t,i,r){var s=!i;i||(i={});for(var a=-1,l=t.length;++a<l;){var u=t[a],c=r?r(i[u],e[u],u,i,e):void 0;void 0===c&&(c=e[u]),s?o(i,u,c):n(i,u,c)}return i}},8124:(e,t,i)=>{var n=i(6614),o=i(9621);e.exports=function(e,t){return n(e,o(e),t)}},9075:(e,t,i)=>{var n=i(6614),o=i(6326);e.exports=function(e,t){return n(e,o(e),t)}},3440:(e,t,i)=>{var n=i(6552)["__core-js_shared__"];e.exports=n},1830:e=>{e.exports=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}},4495:(e,t,i)=>{var n=i(966),o=i(6552);e.exports=function(e,t,i){var r=1&t,s=n(e);return function t(){return(this&&this!==o&&this instanceof t?s:e).apply(r?i:this,arguments)}}},6882:(e,t,i)=>{var n=i(9421),o=i(4971),r=i(7676),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return n(r(o(t).replace(s,"")),e,"")}}},966:(e,t,i)=>{var n=i(1817),o=i(6686);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=n(e.prototype),r=e.apply(i,t);return o(r)?r:i}}},7425:(e,t,i)=>{var n=i(1170),o=i(966),r=i(7918),s=i(8762),a=i(4736),l=i(4159),u=i(6552);e.exports=function(e,t,i){var c=o(e);return function o(){for(var d=arguments.length,h=Array(d),p=d,g=a(o);p--;)h[p]=arguments[p];var f=d<3&&h[0]!==g&&h[d-1]!==g?[]:l(h,g);return(d-=f.length)<i?s(e,t,r,o.placeholder,void 0,h,f,void 0,void 0,i-d):n(this&&this!==u&&this instanceof o?c:e,this,h)}}},7918:(e,t,i)=>{var n=i(2823),o=i(1093),r=i(1830),s=i(966),a=i(8762),l=i(4736),u=i(7193),c=i(4159),d=i(6552);e.exports=function e(t,i,h,p,g,f,m,v,C,y){var w=128&i,b=1&i,E=2&i,S=24&i,x=512&i,R=E?void 0:s(t);return function T(){for(var D=arguments.length,P=Array(D),A=D;A--;)P[A]=arguments[A];if(S)var M=l(T),_=r(P,M);if(p&&(P=n(P,p,g,S)),f&&(P=o(P,f,m,S)),D-=_,S&&D<y){var k=c(P,M);return a(t,i,e,T.placeholder,h,P,k,v,C,y-D)}var F=b?h:this,L=E?F[t]:t;return D=P.length,v?P=u(P,v):x&&D>1&&P.reverse(),w&&C<D&&(P.length=C),this&&this!==d&&this instanceof T&&(L=R||s(L)),L.apply(F,P)}}},3851:(e,t,i)=>{var n=i(1170),o=i(966),r=i(6552);e.exports=function(e,t,i,s){var a=1&t,l=o(e);return function t(){for(var o=-1,u=arguments.length,c=-1,d=s.length,h=Array(d+u),p=this&&this!==r&&this instanceof t?l:e;++c<d;)h[c]=s[c];for(;u--;)h[c++]=arguments[++o];return n(p,a?i:this,h)}}},8762:(e,t,i)=>{var n=i(402),o=i(4390),r=i(3846);e.exports=function(e,t,i,s,a,l,u,c,d,h){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var g=[e,t,a,p?l:void 0,p?u:void 0,p?void 0:l,p?void 0:u,c,d,h],f=i.apply(void 0,g);return n(e)&&o(f,g),f.placeholder=s,r(f,e,t)}},6196:(e,t,i)=>{var n=i(6365),o=i(4495),r=i(7425),s=i(7918),a=i(3851),l=i(8218),u=i(8406),c=i(4390),d=i(3846),h=i(9140),p=Math.max;e.exports=function(e,t,i,g,f,m,v,C){var y=2&t;if(!y&&"function"!=typeof e)throw new TypeError("Expected a function");var w=g?g.length:0;if(w||(t&=-97,g=f=void 0),v=void 0===v?v:p(h(v),0),C=void 0===C?C:h(C),w-=f?f.length:0,64&t){var b=g,E=f;g=f=void 0}var S=y?void 0:l(e),x=[e,t,i,g,f,b,E,m,v,C];if(S&&u(x,S),e=x[0],t=x[1],i=x[2],g=x[3],f=x[4],!(C=x[9]=void 0===x[9]?y?0:e.length:p(x[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)R=8==t||16==t?r(e,t,C):32!=t&&33!=t||f.length?s.apply(void 0,x):a(e,t,i,g);else var R=o(e,t,i);return d((S?n:c)(R,x),e,t)}},6761:(e,t,i)=>{var n=i(2322);e.exports=function(e){return n(e)?void 0:e}},3086:(e,t,i)=>{var n=i(2037)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=n},5654:(e,t,i)=>{var n=i(7937),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5857:(e,t,i)=>{var n=i(819),o=i(5636),r=i(6350);e.exports=function(e){return r(o(e,void 0,n),e+"")}},7105:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},9395:(e,t,i)=>{var n=i(4262),o=i(9621),r=i(8673);e.exports=function(e){return n(e,r,o)}},8592:(e,t,i)=>{var n=i(4262),o=i(6326),r=i(474);e.exports=function(e){return n(e,r,o)}},8218:(e,t,i)=>{var n=i(2867),o=i(5713),r=n?function(e){return n.get(e)}:o;e.exports=r},911:(e,t,i)=>{var n=i(7530),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",i=n[t],r=o.call(n,t)?i.length:0;r--;){var s=i[r],a=s.func;if(null==a||a==e)return s.name}return t}},4736:e=>{e.exports=function(e){return e.placeholder}},2622:(e,t,i)=>{var n=i(705);e.exports=function(e,t){var i=e.__data__;return n(t)?i["string"==typeof t?"string":"hash"]:i.map}},7937:(e,t,i)=>{var n=i(6954),o=i(4657);e.exports=function(e,t){var i=o(e,t);return n(i)?i:void 0}},5990:(e,t,i)=>{var n=i(3028)(Object.getPrototypeOf,Object);e.exports=n},4552:(e,t,i)=>{var n=i(9812),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(l){}var o=s.call(e);return n&&(t?e[a]=i:delete e[a]),o}},9621:(e,t,i)=>{var n=i(7529),o=i(7828),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return r.call(e,t)})))}:o;e.exports=a},6326:(e,t,i)=>{var n=i(8895),o=i(5990),r=i(9621),s=i(7828),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,r(e)),e=o(e);return t}:s;e.exports=a},6924:(e,t,i)=>{var n=i(7685),o=i(5204),r=i(5387),s=i(2070),a=i(6600),l=i(6913),u=i(6996),c="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",f=u(n),m=u(o),v=u(r),C=u(s),y=u(a),w=l;(n&&w(new n(new ArrayBuffer(1)))!=g||o&&w(new o)!=c||r&&w(r.resolve())!=d||s&&w(new s)!=h||a&&w(new a)!=p)&&(w=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,n=i?u(i):"";if(n)switch(n){case f:return g;case m:return c;case v:return d;case C:return h;case y:return p}return t}),e.exports=w},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1130:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;e.exports=function(e){var n=e.match(t);return n?n[1].split(i):[]}},9057:(e,t,i)=>{var n=i(5324),o=i(2777),r=i(4052),s=i(9194),a=i(6173),l=i(914);e.exports=function(e,t,i){for(var u=-1,c=(t=n(t,e)).length,d=!1;++u<c;){var h=l(t[u]);if(!(d=null!=e&&i(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&a(c)&&s(h,c)&&(r(e)||o(e))}},5967:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},7615:(e,t,i)=>{var n=i(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,i)=>{var n=i(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return o.call(t,e)?t[e]:void 0}},8734:(e,t,i)=>{var n=i(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},2662:(e,t,i)=>{var n=i(5575);e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var i=e.length,n=new e.constructor(i);return i&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},8630:(e,t,i)=>{var n=i(1516),o=i(6806),r=i(8962),s=i(1295),a=i(8710);e.exports=function(e,t,i){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,i);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Symbol]":return s(e)}}},310:(e,t,i)=>{var n=i(1817),o=i(5990),r=i(6140);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:n(o(e))}},8479:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,i){var n=i.length;if(!n)return e;var o=n-1;return i[o]=(n>1?"& ":"")+i[o],i=i.join(n>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+i+"] */\n")}},7116:(e,t,i)=>{var n=i(9812),o=i(2777),r=i(4052),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||o(e)||!!(s&&e&&e[s])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,i){var n=typeof e;return!!(i=null==i?9007199254740991:i)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<i}},2597:(e,t,i)=>{var n=i(4052),o=i(9841),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},402:(e,t,i)=>{var n=i(523),o=i(8218),r=i(911),s=i(8991);e.exports=function(e){var t=r(e),i=s[t];if("function"!=typeof i||!(t in n.prototype))return!1;if(e===i)return!0;var a=o(i);return!!a&&e===a[0]}},7857:(e,t,i)=>{var n=i(3440),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var i=e&&e.constructor;return e===("function"==typeof i&&i.prototype||t)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,i)=>{var n=i(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,i=n(t,e);return!(i<0)&&(i==t.length-1?t.pop():o.call(t,i,1),--this.size,!0)}},4190:(e,t,i)=>{var n=i(1340);e.exports=function(e){var t=this.__data__,i=n(t,e);return i<0?void 0:t[i][1]}},1946:(e,t,i)=>{var n=i(1340);e.exports=function(e){return n(this.__data__,e)>-1}},1714:(e,t,i)=>{var n=i(1340);e.exports=function(e,t){var i=this.__data__,o=n(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}},7251:(e,t,i)=>{var n=i(8724),o=i(7160),r=i(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||o),string:new n}}},7159:(e,t,i)=>{var n=i(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,i)=>{var n=i(2622);e.exports=function(e){return n(this,e).get(e)}},9394:(e,t,i)=>{var n=i(2622);e.exports=function(e){return n(this,e).has(e)}},6874:(e,t,i)=>{var n=i(2622);e.exports=function(e,t){var i=n(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}},8259:(e,t,i)=>{var n=i(5797);e.exports=function(e){var t=n(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}},8406:(e,t,i)=>{var n=i(2823),o=i(1093),r=i(4159),s="__lodash_placeholder__",a=128,l=Math.min;e.exports=function(e,t){var i=e[1],u=t[1],c=i|u,d=c<131,h=u==a&&8==i||u==a&&256==i&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==i;if(!d&&!h)return e;1&u&&(e[2]=t[2],c|=1&i?0:4);var p=t[3];if(p){var g=e[3];e[3]=g?n(g,p,t[4]):p,e[4]=g?r(e[3],s):t[4]}return(p=t[5])&&(g=e[5],e[5]=g?o(g,p,t[6]):p,e[6]=g?r(e[5],s):t[6]),(p=t[7])&&(e[7]=p),u&a&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}},2867:(e,t,i)=>{var n=i(6600),o=n&&new n;e.exports=o},5575:(e,t,i)=>{var n=i(7937)(Object,"create");e.exports=n},1143:(e,t,i)=>{var n=i(3028)(Object.keys,Object);e.exports=n},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},6832:(e,t,i)=>{e=i.nmd(e);var n=i(7105),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o&&n.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(i){return e(t(i))}}},5636:(e,t,i)=>{var n=i(1170),o=Math.max;e.exports=function(e,t,i){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=o(r.length-t,0),l=Array(a);++s<a;)l[s]=r[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=r[s];return u[t]=i(l),n(e,this,u)}}},1676:(e,t,i)=>{var n=i(2969),o=i(3871);e.exports=function(e,t){return t.length<2?e:n(e,o(t,0,-1))}},7530:e=>{e.exports={}},7193:(e,t,i)=>{var n=i(1980),o=i(9194),r=Math.min;e.exports=function(e,t){for(var i=e.length,s=r(t.length,i),a=n(e);s--;){var l=t[s];e[s]=o(l,i)?a[l]:void 0}return e}},4159:e=>{var t="__lodash_placeholder__";e.exports=function(e,i){for(var n=-1,o=e.length,r=0,s=[];++n<o;){var a=e[n];a!==i&&a!==t||(e[n]=t,s[r++]=n)}return s}},6552:(e,t,i)=>{var n=i(7105),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();e.exports=r},4390:(e,t,i)=>{var n=i(6365),o=i(6578)(n);e.exports=o},6350:(e,t,i)=>{var n=i(8325),o=i(6578)(n);e.exports=o},3846:(e,t,i)=>{var n=i(1130),o=i(8479),r=i(6350),s=i(7823);e.exports=function(e,t,i){var a=t+"";return r(e,o(a,s(n(a),i)))}},6578:e=>{var t=Date.now;e.exports=function(e){var i=0,n=0;return function(){var o=t(),r=16-(o-n);if(n=o,r>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},4545:(e,t,i)=>{var n=i(7160);e.exports=function(){this.__data__=new n,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,i)=>{var n=i(7160),o=i(5204),r=i(4816);e.exports=function(e,t){var i=this.__data__;if(i instanceof n){var s=i.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new r(s)}return i.set(e,t),this.size=i.size,this}},4020:e=>{e.exports=function(e,t,i){for(var n=i-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},4079:(e,t,i)=>{var n=i(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,i,n,o){t.push(n?o.replace(r,"$1"):i||e)})),t}));e.exports=s},914:(e,t,i)=>{var n=i(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(i){}try{return e+""}catch(i){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},1540:e=>{var t="\\ud800-\\udfff",i="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+r+"]",a="\\d+",l="["+i+"]",u="["+n+"]",c="[^"+t+r+a+i+n+o+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+o+"]",g="(?:"+u+"|"+c+")",f="(?:"+p+"|"+c+")",m="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",C="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",w=y+C+("(?:\\u200d(?:"+["[^"+t+"]",d,h].join("|")+")"+y+C+")*"),b="(?:"+[l,d,h].join("|")+")"+w,E=RegExp([p+"?"+u+"+"+m+"(?="+[s,p,"$"].join("|")+")",f+"+"+v+"(?="+[s,p+g,"$"].join("|")+")",p+"?"+g+"+"+m,p+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,b].join("|"),"g");e.exports=function(e){return e.match(E)||[]}},7823:(e,t,i)=>{var n=i(726),o=i(5866),r=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(r,(function(i){var n="_."+i[0];t&i[1]&&!o(e,n)&&e.push(n)})),e.sort()}},9360:(e,t,i)=>{var n=i(523),o=i(2990),r=i(1980);e.exports=function(e){if(e instanceof n)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},2541:e=>{e.exports=function(e){return function(){return e}}},4430:(e,t,i)=>{var n=i(6196);function o(e,t,i){var r=n(e,8,void 0,void 0,void 0,void 0,void 0,t=i?void 0:t);return r.placeholder=o.placeholder,r}o.placeholder={},e.exports=o},4971:(e,t,i)=>{var n=i(3086),o=i(1069),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(r,n).replace(s,"")}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},819:(e,t,i)=>{var n=i(755);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},3366:(e,t,i)=>{var n=i(7894),o=i(9057);e.exports=function(e,t){return null!=e&&o(e,t,n)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,i)=>{var n=i(5193),o=i(2761),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,i)=>{var n=i(1629),o=i(6173);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4543:(e,t,i)=>{e=i.nmd(e);var n=i(6552),o=i(14),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,a=s&&s.exports===r?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},1629:(e,t,i)=>{var n=i(6913),o=i(6686);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7887:(e,t,i)=>{var n=i(5791),o=i(7574),r=i(6832),s=r&&r.isMap,a=s?o(s):n;e.exports=a},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,i)=>{var n=i(6913),o=i(5990),r=i(2761),s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var i=u.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==c}},5921:(e,t,i)=>{var n=i(449),o=i(7574),r=i(6832),s=r&&r.isSet,a=s?o(s):n;e.exports=a},9841:(e,t,i)=>{var n=i(6913),o=i(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},1268:(e,t,i)=>{var n=i(5428),o=i(7574),r=i(6832),s=r&&r.isTypedArray,a=s?o(s):n;e.exports=a},940:(e,t,i)=>{var n=i(6882)((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}));e.exports=n},8673:(e,t,i)=>{var n=i(3204),o=i(3713),r=i(6571);e.exports=function(e){return r(e)?n(e):o(e)}},474:(e,t,i)=>{var n=i(3204),o=i(8122),r=i(6571);e.exports=function(e){return r(e)?n(e,!0):o(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},5797:(e,t,i)=>{var n=i(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(o.Cache||n),i}o.Cache=n,e.exports=o},5713:e=>{e.exports=function(){}},1488:(e,t,i)=>{var n=i(149),o=i(7132),r=i(8140),s=i(5324),a=i(6614),l=i(6761),u=i(5857),c=i(8592),d=u((function(e,t){var i={};if(null==e)return i;var u=!1;t=n(t,(function(t){return t=s(t,e),u||(u=t.length>1),t})),a(e,c(e),i),u&&(i=o(i,7,l));for(var d=t.length;d--;)r(i,t[d]);return i}));e.exports=d},2616:(e,t,i)=>{var n=i(4008),o=i(5857)((function(e,t){return null==e?{}:n(e,t)}));e.exports=o},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},7303:(e,t,i)=>{var n=i(801),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,i)=>{var n=i(7303);e.exports=function(e){var t=n(e),i=t%1;return t===t?i?t-i:t:0}},801:(e,t,i)=>{var n=i(1141),o=i(6686),r=i(9841),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=a.test(e);return i||l.test(e)?u(e.slice(2),i?2:8):s.test(e)?NaN:+e}},1069:(e,t,i)=>{var n=i(8541);e.exports=function(e){return null==e?"":n(e)}},111:(e,t,i)=>{var n=i(1069),o=0;e.exports=function(e){var t=++o;return n(e)+t}},7676:(e,t,i)=>{var n=i(9648),o=i(5967),r=i(1069),s=i(1540);e.exports=function(e,t,i){return e=r(e),void 0===(t=i?void 0:t)?o(e)?s(e):n(e):e.match(t)||[]}},8991:(e,t,i)=>{var n=i(523),o=i(2990),r=i(2112),s=i(4052),a=i(2761),l=i(9360),u=Object.prototype.hasOwnProperty;function c(e){if(a(e)&&!s(e)&&!(e instanceof n)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return l(e)}return new o(e)}c.prototype=r.prototype,c.prototype.constructor=c,e.exports=c},1497:(e,t,i)=>{"use strict";var n=i(3218);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,r,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return i.PropTypes=i,i}},5173:(e,t,i)=>{e.exports=i(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9904:(e,t,i)=>{var n;self,n=e=>(()=>{var t={4184:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var s=o.apply(null,i);s&&e.push(s)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var a in i)n.call(i,a)&&i[a]&&e.push(a);else e.push(i.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},8552:(e,t,i)=>{var n=i(852)(i(5639),"DataView");e.exports=n},1989:(e,t,i)=>{var n=i(1789),o=i(401),r=i(7667),s=i(1327),a=i(1866);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},8407:(e,t,i)=>{var n=i(7040),o=i(4125),r=i(2117),s=i(7518),a=i(4705);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},7071:(e,t,i)=>{var n=i(852)(i(5639),"Map");e.exports=n},3369:(e,t,i)=>{var n=i(4785),o=i(1285),r=i(6e3),s=i(9916),a=i(5265);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,e.exports=l},3818:(e,t,i)=>{var n=i(852)(i(5639),"Promise");e.exports=n},8525:(e,t,i)=>{var n=i(852)(i(5639),"Set");e.exports=n},8668:(e,t,i)=>{var n=i(3369),o=i(619),r=i(2385);function s(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n;++t<i;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=r,e.exports=s},6384:(e,t,i)=>{var n=i(8407),o=i(7465),r=i(3779),s=i(7599),a=i(4758),l=i(4309);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=s,u.prototype.has=a,u.prototype.set=l,e.exports=u},2705:(e,t,i)=>{var n=i(5639).Symbol;e.exports=n},1149:(e,t,i)=>{var n=i(5639).Uint8Array;e.exports=n},577:(e,t,i)=>{var n=i(852)(i(5639),"WeakMap");e.exports=n},4963:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,o=0,r=[];++i<n;){var s=e[i];t(s,i,e)&&(r[o++]=s)}return r}},4636:(e,t,i)=>{var n=i(2545),o=i(5694),r=i(1469),s=i(4144),a=i(5776),l=i(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var i=r(e),c=!i&&o(e),d=!i&&!c&&s(e),h=!i&&!c&&!d&&l(e),p=i||c||d||h,g=p?n(e.length,String):[],f=g.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,f))||g.push(m);return g}},2488:e=>{e.exports=function(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}},2908:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}},8470:(e,t,i)=>{var n=i(7813);e.exports=function(e,t){for(var i=e.length;i--;)if(n(e[i][0],t))return i;return-1}},8866:(e,t,i)=>{var n=i(2488),o=i(1469);e.exports=function(e,t,i){var r=t(e);return o(e)?r:n(r,i(e))}},4239:(e,t,i)=>{var n=i(2705),o=i(9607),r=i(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):r(e)}},9454:(e,t,i)=>{var n=i(4239),o=i(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},939:(e,t,i)=>{var n=i(2492),o=i(7005);e.exports=function e(t,i,r,s,a){return t===i||(null==t||null==i||!o(t)&&!o(i)?t!=t&&i!=i:n(t,i,r,s,e,a))}},2492:(e,t,i)=>{var n=i(6384),o=i(7114),r=i(8351),s=i(6096),a=i(4160),l=i(1469),u=i(4144),c=i(6719),d="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,f,m,v){var C=l(e),y=l(t),w=C?h:a(e),b=y?h:a(t),E=(w=w==d?p:w)==p,S=(b=b==d?p:b)==p,x=w==b;if(x&&u(e)){if(!u(t))return!1;C=!0,E=!1}if(x&&!E)return v||(v=new n),C||c(e)?o(e,t,i,f,m,v):r(e,t,w,i,f,m,v);if(!(1&i)){var R=E&&g.call(e,"__wrapped__"),T=S&&g.call(t,"__wrapped__");if(R||T){var D=R?e.value():e,P=T?t.value():t;return v||(v=new n),m(D,P,i,f,v)}}return!!x&&(v||(v=new n),s(e,t,i,f,m,v))}},8458:(e,t,i)=>{var n=i(3560),o=i(5346),r=i(3218),s=i(346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||o(e))&&(n(e)?h:a).test(s(e))}},8749:(e,t,i)=>{var n=i(4239),o=i(1780),r=i(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&o(e.length)&&!!s[n(e)]}},280:(e,t,i)=>{var n=i(5726),o=i(6916),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var i in Object(e))r.call(e,i)&&"constructor"!=i&&t.push(i);return t}},2545:e=>{e.exports=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,i)=>{var n=i(5639)["__core-js_shared__"];e.exports=n},7114:(e,t,i)=>{var n=i(8668),o=i(2908),r=i(4757);e.exports=function(e,t,i,s,a,l){var u=1&i,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var g=-1,f=!0,m=2&i?new n:void 0;for(l.set(e,t),l.set(t,e);++g<c;){var v=e[g],C=t[g];if(s)var y=u?s(C,v,g,t,e,l):s(v,C,g,e,t,l);if(void 0!==y){if(y)continue;f=!1;break}if(m){if(!o(t,(function(e,t){if(!r(m,t)&&(v===e||a(v,e,i,s,l)))return m.push(t)}))){f=!1;break}}else if(v!==C&&!a(v,C,i,s,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},8351:(e,t,i)=>{var n=i(2705),o=i(1149),r=i(7813),s=i(7114),a=i(8776),l=i(1814),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,i,n,u,d,h){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var g=1&n;if(p||(p=l),e.size!=t.size&&!g)return!1;var f=h.get(e);if(f)return f==t;n|=2,h.set(e,t);var m=s(p(e),p(t),n,u,d,h);return h.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},6096:(e,t,i)=>{var n=i(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,r,s,a){var l=1&i,u=n(e),c=u.length;if(c!=n(t).length&&!l)return!1;for(var d=c;d--;){var h=u[d];if(!(l?h in t:o.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var f=!0;a.set(e,t),a.set(t,e);for(var m=l;++d<c;){var v=e[h=u[d]],C=t[h];if(r)var y=l?r(C,v,h,t,e,a):r(v,C,h,e,t,a);if(!(void 0===y?v===C||s(v,C,i,r,a):y)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f}},1957:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},8234:(e,t,i)=>{var n=i(8866),o=i(9551),r=i(3674);e.exports=function(e){return n(e,r,o)}},5050:(e,t,i)=>{var n=i(7019);e.exports=function(e,t){var i=e.__data__;return n(t)?i["string"==typeof t?"string":"hash"]:i.map}},852:(e,t,i)=>{var n=i(8458),o=i(7801);e.exports=function(e,t){var i=o(e,t);return n(i)?i:void 0}},9607:(e,t,i)=>{var n=i(2705),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=i:delete e[a]),o}},9551:(e,t,i)=>{var n=i(4963),o=i(479),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return r.call(e,t)})))}:o;e.exports=a},4160:(e,t,i)=>{var n=i(8552),o=i(7071),r=i(3818),s=i(8525),a=i(577),l=i(4239),u=i(346),c="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",f=u(n),m=u(o),v=u(r),C=u(s),y=u(a),w=l;(n&&w(new n(new ArrayBuffer(1)))!=g||o&&w(new o)!=c||r&&w(r.resolve())!=d||s&&w(new s)!=h||a&&w(new a)!=p)&&(w=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,n=i?u(i):"";if(n)switch(n){case f:return g;case m:return c;case v:return d;case C:return h;case y:return p}return t}),e.exports=w},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,i)=>{var n=i(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,i)=>{var n=i(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return o.call(t,e)?t[e]:void 0}},1327:(e,t,i)=>{var n=i(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,i)=>{var n=i(4536);e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,i){var n=typeof e;return!!(i=null==i?9007199254740991:i)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<i}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,i)=>{var n,o=i(4429),r=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!r&&r in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var i=e&&e.constructor;return e===("function"==typeof i&&i.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,i)=>{var n=i(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,i=n(t,e);return!(i<0||(i==t.length-1?t.pop():o.call(t,i,1),--this.size,0))}},2117:(e,t,i)=>{var n=i(8470);e.exports=function(e){var t=this.__data__,i=n(t,e);return i<0?void 0:t[i][1]}},7518:(e,t,i)=>{var n=i(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,i)=>{var n=i(8470);e.exports=function(e,t){var i=this.__data__,o=n(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}},4785:(e,t,i)=>{var n=i(1989),o=i(8407),r=i(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||o),string:new n}}},1285:(e,t,i)=>{var n=i(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,i)=>{var n=i(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,i)=>{var n=i(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,i)=>{var n=i(5050);e.exports=function(e,t){var i=n(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}},4536:(e,t,i)=>{var n=i(852)(Object,"create");e.exports=n},6916:(e,t,i)=>{var n=i(5569)(Object.keys,Object);e.exports=n},1167:(e,t,i)=>{e=i.nmd(e);var n=i(1957),o=t&&!t.nodeType&&t,r=o&&e&&!e.nodeType&&e,s=r&&r.exports===o&&n.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(i){return e(t(i))}}},5639:(e,t,i)=>{var n=i(1957),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();e.exports=r},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},7465:(e,t,i)=>{var n=i(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,i)=>{var n=i(8407),o=i(7071),r=i(3369);e.exports=function(e,t){var i=this.__data__;if(i instanceof n){var s=i.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new r(s)}return i.set(e,t),this.size=i.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,i)=>{var n=i(9454),o=i(7005),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,i)=>{var n=i(3560),o=i(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4144:(e,t,i)=>{e=i.nmd(e);var n=i(5639),o=i(5062),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,a=s&&s.exports===r?n.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},8446:(e,t,i)=>{var n=i(939);e.exports=function(e,t){return n(e,t)}},3560:(e,t,i)=>{var n=i(4239),o=i(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,i)=>{var n=i(8749),o=i(1717),r=i(1167),s=r&&r.isTypedArray,a=s?o(s):n;e.exports=a},3674:(e,t,i)=>{var n=i(4636),o=i(280),r=i(8612);e.exports=function(e){return r(e)?n(e):o(e)}},8306:(e,t,i)=>{var n=i(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(o.Cache||n),i}o.Cache=n,e.exports=o},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2703:(e,t,i)=>{"use strict";var n=i(414);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,r,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return i.PropTypes=i,i}},5697:(e,t,i)=>{e.exports=i(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9787:t=>{"use strict";t.exports=e}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return t[e](r,r.exports,n),r.loaded=!0,r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};return(()=>{"use strict";n.r(o),n.d(o,{default:()=>ue,expandNodesToLevel:()=>le});var e=n(4184),t=n.n(e),i=n(8446),r=n.n(i),s=n(8306),a=n.n(s);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"")};var u=n(5697),c=n.n(u),d=n(9787),h=n.n(d);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var g=["children","title"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f.apply(this,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,e);var t,i,n,o,r=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(o){var i=v(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return t=s,(i=[{key:"render",value:function(){var e=this.props,t=e.children,i=e.title,n=function(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}(e,g);return h().createElement("button",f({"aria-label":i,title:i,type:"button"},n),t)}}])&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(h().PureComponent);C(y,"propTypes",{children:c().node.isRequired,title:c().string}),C(y,"defaultProps",{title:null});const w=y,b={ALL:"all",PARENT:"parent",LEAF:"leaf"};function E(e){this.message=e,this.stack=Error().stack}E.prototype=Object.create(Error.prototype),E.prototype.name="CheckboxTreeError";const S=E;function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var T=b;const D=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.props=t,this.flatNodes=i}var t,i;return t=e,i=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,i={};return Object.keys(this.flatNodes).forEach((function(e){var n=t.flatNodes[e];i[e]=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){R(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},n)})),new e(this.props,i)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"reset",value:function(){this.flatNodes={}}},{key:"flattenNodes",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var o=this.props,r=o.disabled,s=o.noCascade;e.forEach((function(e,o){var a=t.nodeHasChildren(e);if(void 0!==t.flatNodes[e.value])throw new S("Duplicate value '".concat(e.value,"' detected. All node values must be unique."));t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:i,isChild:void 0!==i.value,isParent:a,isLeaf:!a,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,i,r,s),treeDepth:n,index:o},t.flattenNodes(e.children,e,n+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)}},{key:"getDisabledState",value:function(e,t,i,n){return!!i||!(n||!t.disabled)||Boolean(e.disabled)}},{key:"deserializeLists",value:function(e){var t=this,i=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){i.forEach((function(i){t.flatNodes[e][i]=!1}))})),i.forEach((function(i){e[i].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][i]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,i=[];return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n][e]&&i.push(n)})),i}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(i){t.flatNodes[i].isParent&&(t.flatNodes[i].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,i,n){var o=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.flatNodes[e.value],a=[T.PARENT,T.ALL].indexOf(i)>-1,l=[T.LEAF,T.ALL].indexOf(i)>-1;if(s.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else(a||0===s.children.length)&&this.toggleNode(e.value,"checked",t),l&&s.children.forEach((function(e){o.toggleChecked(e,t,i,n,!1)}));return r&&!n&&s.isChild&&a&&this.toggleParentStatus(s.parent,i),this}},{key:"toggleParentStatus",value:function(e,t){var i=this.flatNodes[e.value];i.isChild?(t===T.ALL&&this.toggleNode(e.value,"checked",this.isEveryChildChecked(i)),this.toggleParentStatus(i.parent,t)):this.toggleNode(e.value,"checked",this.isEveryChildChecked(i))}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return t.getNode(e.value).checked}))}},{key:"toggleNode",value:function(e,t,i){return this.flatNodes[e][t]=i,this}}],i&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},A.apply(this,arguments)}function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(s,e);var t,i,n,o,r=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(n);if(o){var i=k(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return t=s,i=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.props);return delete t.indeterminate,h().createElement("input",A({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}],i&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(h().PureComponent);F(L,"propTypes",{indeterminate:c().bool}),F(L,"defaultProps",{indeterminate:!1});const N=L,O=c().shape({check:c().node,uncheck:c().node,halfCheck:c().node,expandClose:c().node,expandOpen:c().node,expandAll:c().node,collapseAll:c().node,parentClose:c().node,parentOpen:c().node,leaf:c().node}),I=c().shape({collapseAll:c().string.isRequired,expandAll:c().string.isRequired,toggle:c().string.isRequired});function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(a,e);var i,n,o,r,s=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(o);if(r){var i=B(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).onCheck=t.onCheck.bind(H(t)),t.onCheckboxKeyPress=t.onCheckboxKeyPress.bind(H(t)),t.onCheckboxKeyUp=t.onCheckboxKeyUp.bind(H(t)),t.onClick=t.onClick.bind(H(t)),t.onExpand=t.onExpand.bind(H(t)),t}return i=a,(n=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onCheckboxKeyPress",value:function(e){32===e.which&&e.preventDefault()}},{key:"onCheckboxKeyUp",value:function(e){var t=e.keyCode;[13,32].includes(t)&&this.onCheck()}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,i=e.isParent,n=e.value,o=e.onClick;i&&t&&this.onExpand(),o({value:n,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,i=e.value;(0,e.onExpand)({value:i,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,i=this.props,n=i.checked,o=i.optimisticToggle;return!(0!==n||!t)||1===n&&!t||2===n&&o}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,i=e.isLeaf,n=e.lang;return i?h().createElement("span",{className:"rct-collapse"},h().createElement("span",{className:"rct-icon"})):h().createElement(w,{className:"rct-collapse rct-collapse-btn",disabled:t,title:n.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,i=e.icons,n=i.expandClose,o=i.expandOpen;return t?o:n}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,i=e.icons,n=i.uncheck,o=i.check,r=i.halfCheck;return 0===t?n:1===t?o:r}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,i=e.icon,n=e.icons,o=n.leaf,r=n.parentClose,s=n.parentOpen,a=e.isLeaf;return null!==i?i:a?o:t?s:r}},{key:"renderBareLabel",value:function(e){var t=this.props,i=t.onClick,n=t.title,o=null!==i;return h().createElement("span",{className:"rct-bare-label",title:n},o?h().createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,i=t.checked,n=t.disabled,o=t.title,r=t.treeId,s=t.value,a=null!==t.onClick,l="".concat(r,"-").concat(String(s).split(" ").join("_")),u=[h().createElement("label",{key:0,htmlFor:l,title:o},h().createElement(N,{checked:1===i,disabled:n,id:l,indeterminate:2===i,onClick:this.onCheck,onChange:function(){}}),h().createElement("span",{"aria-checked":1===i,"aria-disabled":n,className:"rct-checkbox",role:"checkbox",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),a?null:e)];return a&&u.push(h().createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),u}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,i=e.showCheckbox,n=[e.showNodeIcon?h().createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,h().createElement("span",{key:1,className:"rct-title"},t)];return i?this.renderCheckboxLabel(n):this.renderBareLabel(n)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,i=e.className,n=e.disabled,o=e.expanded,r=e.isLeaf,s=t()({"rct-node":!0,"rct-node-leaf":r,"rct-node-parent":!r,"rct-node-expanded":!r&&o,"rct-node-collapsed":!r&&!o,"rct-disabled":n},i);return h().createElement("li",{className:s},h().createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),a}(h().PureComponent);W(z,"propTypes",{checked:c().number.isRequired,disabled:c().bool.isRequired,expandDisabled:c().bool.isRequired,expanded:c().bool.isRequired,icons:O.isRequired,isLeaf:c().bool.isRequired,isParent:c().bool.isRequired,label:c().node.isRequired,lang:I.isRequired,optimisticToggle:c().bool.isRequired,showNodeIcon:c().bool.isRequired,treeId:c().string.isRequired,value:c().oneOfType([c().string,c().number]).isRequired,onCheck:c().func.isRequired,onExpand:c().func.isRequired,children:c().node,className:c().string,expandOnClick:c().bool,icon:c().node,showCheckbox:c().bool,title:c().string,onClick:c().func}),W(z,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const U=z,j=c().oneOfType([c().arrayOf(c().string),c().arrayOf(c().number)]);function K(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach((function(t){q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Q={label:c().node.isRequired,value:c().oneOfType([c().string,c().number]).isRequired,disabled:c().bool,icon:c().node,showCheckbox:c().bool,title:c().string};const X=c().oneOfType([c().shape(Q),c().shape(Y(Y({},Q),{},{children:c().arrayOf(Q).isRequired}))]);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?J(Object(i),!0).forEach((function(t){oe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ee(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(d,e);var i,n,o,s,u,c=(s=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(s);if(u){var i=ne(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}(this,e)});function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t=c.call(this,e);var i=new D(e);return i.flattenNodes(e.nodes),i.deserializeLists({checked:e.checked,expanded:e.expanded}),t.state={id:e.id||"rct-".concat(l()),model:i,prevProps:e},t.onCheck=t.onCheck.bind(ie(t)),t.onExpand=t.onExpand.bind(ie(t)),t.onNodeClick=t.onNodeClick.bind(ie(t)),t.onExpandAll=t.onExpandAll.bind(ie(t)),t.onCollapseAll=t.onCollapseAll.bind(ie(t)),t.combineMemorized=a()((function(e,t){return Z(Z({},e),t)})).bind(ie(t)),t}return i=d,n=[{key:"onCheck",value:function(e){var t=this.props,i=t.checkModel,n=t.noCascade,o=t.onCheck,r=this.state.model.clone(),s=r.getNode(e.value);r.toggleChecked(e,e.checked,i,n),o(r.serializeList("checked"),Z(Z({},s),e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,i=this.state.model.clone(),n=i.getNode(e.value);i.toggleNode(e.value,"expanded",e.expanded),t(i.serializeList("expanded"),Z(Z({},n),e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)(Z(Z({},this.state.model.getNode(e.value)),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var i=this.state.model.getNode(e.value);return i.isLeaf||t||0===e.children.length?i.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.expandDisabled,r=n.expandOnClick,s=n.icons,a=n.lang,l=n.noCascade,u=n.onClick,c=n.onlyLeafCheckboxes,p=n.optimisticToggle,g=n.showNodeTitle,f=n.showNodeIcon,m=this.state,v=m.id,C=m.model,y=d.defaultProps.icons,w=e.map((function(e){var n=e.value,d=C.getNode(e.value),m=d.isParent?t.renderTreeNodes(e.children,e):null;d.checkState=t.determineShallowCheckState(e,l);var w=c?d.isLeaf:d.showCheckbox;return!i.value||C.getNode(i.value).expanded?h().createElement(U,{key:n,checked:d.checkState,className:e.className,disabled:d.disabled,expandDisabled:o,expandOnClick:r,expanded:d.expanded,icon:e.icon,icons:t.combineMemorized(y,s),label:e.label,lang:a,optimisticToggle:p,isLeaf:d.isLeaf,isParent:d.isParent,showCheckbox:w,showNodeIcon:f,title:g?e.title||e.label:e.title,treeId:v,value:e.value,onCheck:t.onCheck,onClick:u&&t.onNodeClick,onExpand:t.onExpand},m):null}));return h().createElement("ol",null,w)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,i=t.expandAll,n=t.collapseAll,o=e.lang;return e.showExpandAll?h().createElement("div",{className:"rct-options"},h().createElement(w,{className:"rct-option rct-option-expand-all",title:o.expandAll,onClick:this.onExpandAll},i),h().createElement(w,{className:"rct-option rct-option-collapse-all",title:o.collapseAll,onClick:this.onCollapseAll},n)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,i=e.nameAsArray;return void 0===t?null:i?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,i=e.name;return t.map((function(e){var t="".concat(i,"[]");return h().createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,i=e.name,n=t.join(",");return h().createElement("input",{name:i,type:"hidden",value:n})}},{key:"render",value:function(){var e,i=this.props,n=i.direction,o=i.disabled,r=i.iconsClass,s=i.nodes,a=i.nativeCheckboxes,l=this.state.id,u=this.renderTreeNodes(s),c=t()((oe(e={"react-checkbox-tree":!0,"rct-disabled":o},"rct-icons-".concat(r),!0),oe(e,"rct-native-display",a),oe(e,"rct-direction-rtl","rtl"===n),e));return h().createElement("div",{className:c,id:l},this.renderExpandAll(),this.renderHiddenInput(),u)}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){var i=t.model,n=t.prevProps,o=e.disabled,s=e.id,a=e.nodes,l=Z(Z({},t),{},{prevProps:e});return i.setProps(e),r()(n.nodes,a)&&n.disabled===o||(i.reset(),i.flattenNodes(a)),null!==s&&(l=Z(Z({},l),{},{id:s})),i.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],n&&ee(i.prototype,n),o&&ee(i,o),Object.defineProperty(i,"prototype",{writable:!1}),d}(h().Component);function se(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ae(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function le(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i>t)return[];var n=[];return e.forEach((function(e){e.children&&(n=[].concat(se(n),[e.value],se(le(e.children,t,i+1))))})),n}oe(re,"propTypes",{nodes:c().arrayOf(X).isRequired,checkModel:c().oneOf([b.LEAF,b.ALL]),checked:j,direction:c().string,disabled:c().bool,expandDisabled:c().bool,expandOnClick:c().bool,expanded:j,icons:O,iconsClass:c().string,id:c().string,lang:I,name:c().string,nameAsArray:c().bool,nativeCheckboxes:c().bool,noCascade:c().bool,onlyLeafCheckboxes:c().bool,optimisticToggle:c().bool,showExpandAll:c().bool,showNodeIcon:c().bool,showNodeTitle:c().bool,onCheck:c().func,onClick:c().func,onExpand:c().func}),oe(re,"defaultProps",{checkModel:b.LEAF,checked:[],direction:"ltr",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:h().createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:h().createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:h().createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:h().createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:h().createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:h().createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:h().createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:h().createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:h().createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:h().createElement("span",{className:"rct-icon rct-icon-leaf"})},iconsClass:"fa4",id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const ue=re})(),o})(),e.exports=n(i(5043))},2160:(e,t,i)=>{"use strict";var n=i(5043);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},l={};function u(e){return!!r.call(l,e)||!r.call(a,e)&&(s.test(e)?l[e]=!0:(a[e]=!0,!1))}function c(e,t,i,n,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){d[e]=new c(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];d[t]=new c(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){d[e]=new c(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){d[e]=new c(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){d[e]=new c(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){d[e]=new c(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){d[e]=new c(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){d[e]=new c(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){d[e]=new c(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,p);d[t]=new c(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,p);d[t]=new c(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,p);d[t]=new c(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){d[e]=new c(e,1,!1,e.toLowerCase(),null,!1,!1)})),d.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){d[e]=new c(e,1,!1,e.toLowerCase(),null,!0,!0)}));var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"];Object.keys(g).forEach((function(e){f.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),g[t]=g[e]}))}));var m=/["'&<>]/;function v(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=m.exec(e);if(t){var i,n="",o=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==i&&(n+=e.substring(o,i)),o=i+1,n+=t}e=o!==i?n+e.substring(o,i):n}return e}var C=/([A-Z])/g,y=/^ms-/,w=Array.isArray;function b(e,t){return{insertionMode:e,selectedValue:t}}var E=new Map;function S(e,t,i){if("object"!==typeof i)throw Error(o(62));for(var n in t=!0,i)if(r.call(i,n)){var s=i[n];if(null!=s&&"boolean"!==typeof s&&""!==s){if(0===n.indexOf("--")){var a=v(n);s=v((""+s).trim())}else{a=n;var l=E.get(a);void 0!==l||(l=v(a.replace(C,"-$1").toLowerCase().replace(y,"-ms-")),E.set(a,l)),a=l,s="number"===typeof s?0===s||r.call(g,n)?""+s:s+"px":v((""+s).trim())}t?(t=!1,e.push(' style="',a,":",s)):e.push(";",a,":",s)}}t||e.push('"')}function x(e,t,i,n){switch(i){case"style":return void S(e,t,n);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||"o"!==i[0]&&"O"!==i[0]||"n"!==i[1]&&"N"!==i[1])if(null!==(t=d.hasOwnProperty(i)?d[i]:null)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(i=t.attributeName,t.type){case 3:n&&e.push(" ",i,'=""');break;case 4:!0===n?e.push(" ",i,'=""'):!1!==n&&e.push(" ",i,'="',v(n),'"');break;case 5:isNaN(n)||e.push(" ",i,'="',v(n),'"');break;case 6:!isNaN(n)&&1<=n&&e.push(" ",i,'="',v(n),'"');break;default:t.sanitizeURL&&(n=""+n),e.push(" ",i,'="',v(n),'"')}}else if(u(i)){switch(typeof n){case"function":case"symbol":return;case"boolean":if("data-"!==(t=i.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",i,'="',v(n),'"')}}function R(e,t,i){if(null!=t){if(null!=i)throw Error(o(60));if("object"!==typeof t||!("__html"in t))throw Error(o(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function T(e,t,i,n){e.push(A(i));var o,s=i=null;for(o in t)if(r.call(t,o)){var a=t[o];if(null!=a)switch(o){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:x(e,n,o,a)}}return e.push(">"),R(e,s,i),"string"===typeof i?(e.push(v(i)),null):i}var D=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,P=new Map;function A(e){var t=P.get(e);if(void 0===t){if(!D.test(e))throw Error(o(65,e));t="<"+e,P.set(e,t)}return t}function M(e,t,i,s,a){switch(t){case"select":e.push(A("select"));var l=null,c=null;for(g in i)if(r.call(i,g)){var d=i[g];if(null!=d)switch(g){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;case"defaultValue":case"value":break;default:x(e,s,g,d)}}return e.push(">"),R(e,c,l),l;case"option":c=a.selectedValue,e.push(A("option"));var h=d=null,p=null,g=null;for(l in i)if(r.call(i,l)){var f=i[l];if(null!=f)switch(l){case"children":d=f;break;case"selected":p=f;break;case"dangerouslySetInnerHTML":g=f;break;case"value":h=f;default:x(e,s,l,f)}}if(null!=c)if(i=null!==h?""+h:function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(d),w(c)){for(s=0;s<c.length;s++)if(""+c[s]===i){e.push(' selected=""');break}}else""+c===i&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),R(e,g,d),d;case"textarea":for(d in e.push(A("textarea")),g=c=l=null,i)if(r.call(i,d)&&null!=(h=i[d]))switch(d){case"children":g=h;break;case"value":l=h;break;case"defaultValue":c=h;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:x(e,s,d,h)}if(null===l&&null!==c&&(l=c),e.push(">"),null!=g){if(null!=l)throw Error(o(92));if(w(g)&&1<g.length)throw Error(o(93));l=""+g}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(v(""+l)),null;case"input":for(c in e.push(A("input")),h=g=d=l=null,i)if(r.call(i,c)&&null!=(p=i[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"defaultChecked":h=p;break;case"defaultValue":d=p;break;case"checked":g=p;break;case"value":l=p;break;default:x(e,s,c,p)}return null!==g?x(e,s,"checked",g):null!==h&&x(e,s,"checked",h),null!==l?x(e,s,"value",l):null!==d&&x(e,s,"value",d),e.push("/>"),null;case"menuitem":for(var m in e.push(A("menuitem")),i)if(r.call(i,m)&&null!=(l=i[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:x(e,s,m,l)}return e.push(">"),null;case"title":for(f in e.push(A("title")),l=null,i)if(r.call(i,f)&&null!=(c=i[f]))switch(f){case"children":l=c;break;case"dangerouslySetInnerHTML":throw Error(o(434));default:x(e,s,f,c)}return e.push(">"),l;case"listing":case"pre":for(h in e.push(A(t)),c=l=null,i)if(r.call(i,h)&&null!=(d=i[h]))switch(h){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;default:x(e,s,h,d)}if(e.push(">"),null!=c){if(null!=l)throw Error(o(60));if("object"!==typeof c||!("__html"in c))throw Error(o(61));null!==(i=c.__html)&&void 0!==i&&("string"===typeof i&&0<i.length&&"\n"===i[0]?e.push("\n",i):e.push(""+i))}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var C in e.push(A(t)),i)if(r.call(i,C)&&null!=(l=i[C]))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,t));default:x(e,s,C,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return T(e,i,t,s);case"html":return 0===a.insertionMode&&e.push("<!DOCTYPE html>"),T(e,i,t,s);default:if(-1===t.indexOf("-")&&"string"!==typeof i.is)return T(e,i,t,s);for(p in e.push(A(t)),c=l=null,i)if(r.call(i,p)&&null!=(d=i[p]))switch(p){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;case"style":S(e,s,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:u(p)&&"function"!==typeof d&&"symbol"!==typeof d&&e.push(" ",p,'="',v(d),'"')}return e.push(">"),R(e,c,l),l}}function _(e,t,i){if(e.push('\x3c!--$?--\x3e<template id="'),null===i)throw Error(o(395));return e.push(i),e.push('"></template>')}var k=/[<\u2028\u2029]/g;function F(e){return JSON.stringify(e).replace(k,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function L(e,t,i,n){return i.generateStaticMarkup?(e.push(v(t)),!1):(""===t?e=n:(n&&e.push("\x3c!-- --\x3e"),e.push(v(t)),e=!0),e)}var N=Object.assign,O=Symbol.for("react.element"),I=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),W=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),q=Symbol.for("react.scope"),Q=Symbol.for("react.debug_trace_mode"),X=Symbol.for("react.legacy_hidden"),$=Symbol.for("react.default_value"),J=Symbol.iterator;function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case G:return"Fragment";case I:return"Portal";case H:return"Profiler";case V:return"StrictMode";case U:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case W:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case K:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return Z(e(t))}catch(i){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var i,n={};for(i in e)n[i]=t[i];return n}var ie=null;function ne(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var i=t.parent;if(null===e){if(null!==i)throw Error(o(401))}else{if(null===i)throw Error(o(401));ne(e,i)}t.context._currentValue2=t.value}}function oe(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&oe(e)}function re(e){var t=e.parent;null!==t&&re(t),e.context._currentValue2=e.value}function se(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(o(402));e.depth===t.depth?ne(e,t):se(e,t)}function ae(e,t){var i=t.parent;if(null===i)throw Error(o(402));e.depth===i.depth?ne(e,i):ae(e,i),t.context._currentValue2=t.value}function le(e){var t=ie;t!==e&&(null===t?re(e):null===e?oe(t):t.depth===e.depth?ne(t,e):t.depth>e.depth?se(t,e):ae(t,e),ie=e)}var ue={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ce(e,t,i,n){var o=void 0!==e.state?e.state:null;e.updater=ue,e.props=i,e.state=o;var r={queue:[],replace:!1};e._reactInternals=r;var s=t.contextType;if(e.context="object"===typeof s&&null!==s?s._currentValue2:n,"function"===typeof(s=t.getDerivedStateFromProps)&&(o=null===(s=s(i,o))||void 0===s?o:N({},o,s),e.state=o),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ue.enqueueReplaceState(e,e.state,null),null!==r.queue&&0<r.queue.length)if(t=r.queue,s=r.replace,r.queue=null,r.replace=!1,s&&1===t.length)e.state=t[0];else{for(r=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];null!=(a="function"===typeof a?a.call(e,r,i,n):a)&&(o?(o=!1,r=N({},r,a)):N(r,a))}e.state=r}else r.queue=null}var de={id:1,overflow:""};function he(e,t,i){var n=e.id;e=e.overflow;var o=32-pe(n)-1;n&=~(1<<o),i+=1;var r=32-pe(t)+o;if(30<r){var s=o-o%5;return r=(n&(1<<s)-1).toString(32),n>>=s,o-=s,{id:1<<32-pe(t)+o|i<<o|n,overflow:r+e}}return{id:1<<r|i<<o|n,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/fe|0)|0},ge=Math.log,fe=Math.LN2;var me="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ve=null,Ce=null,ye=null,we=null,be=!1,Ee=!1,Se=0,xe=null,Re=0;function Te(){if(null===ve)throw Error(o(321));return ve}function De(){if(0<Re)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Pe(){return null===we?null===ye?(be=!1,ye=we=De()):(be=!0,we=ye):null===we.next?(be=!1,we=we.next=De()):(be=!0,we=we.next),we}function Ae(){Ce=ve=null,Ee=!1,ye=null,Re=0,we=xe=null}function Me(e,t){return"function"===typeof t?t(e):t}function _e(e,t,i){if(ve=Te(),we=Pe(),be){var n=we.queue;if(t=n.dispatch,null!==xe&&void 0!==(i=xe.get(n))){xe.delete(n),n=we.memoizedState;do{n=e(n,i.action),i=i.next}while(null!==i);return we.memoizedState=n,[n,t]}return[we.memoizedState,t]}return e=e===Me?"function"===typeof t?t():t:void 0!==i?i(t):t,we.memoizedState=e,e=(e=we.queue={last:null,dispatch:null}).dispatch=Fe.bind(null,ve,e),[we.memoizedState,e]}function ke(e,t){if(ve=Te(),t=void 0===t?null:t,null!==(we=Pe())){var i=we.memoizedState;if(null!==i&&null!==t){var n=i[1];e:if(null===n)n=!1;else{for(var o=0;o<n.length&&o<t.length;o++)if(!me(t[o],n[o])){n=!1;break e}n=!0}if(n)return i[0]}}return e=e(),we.memoizedState=[e,t],e}function Fe(e,t,i){if(25<=Re)throw Error(o(301));if(e===ve)if(Ee=!0,e={action:i,next:null},null===xe&&(xe=new Map),void 0===(i=xe.get(t)))xe.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}}function Le(){throw Error(o(394))}function Ne(){}var Oe={readContext:function(e){return e._currentValue2},useContext:function(e){return Te(),e._currentValue2},useMemo:ke,useReducer:_e,useRef:function(e){ve=Te();var t=(we=Pe()).memoizedState;return null===t?(e={current:e},we.memoizedState=e):t},useState:function(e){return _e(Me,e)},useInsertionEffect:Ne,useLayoutEffect:function(){},useCallback:function(e,t){return ke((function(){return e}),t)},useImperativeHandle:Ne,useEffect:Ne,useDebugValue:Ne,useDeferredValue:function(e){return Te(),e},useTransition:function(){return Te(),[!1,Le]},useId:function(){var e=Ce.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var i=Ie;if(null===i)throw Error(o(404));return t=Se++,e=":"+i.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Te(),t(e._source)},useSyncExternalStore:function(e,t,i){if(void 0===i)throw Error(o(407));return i()}},Ie=null,Ge=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ve(e){return console.error(e),null}function He(){}function Be(e,t,i,n,o,r,s,a){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&it(e)},blockedBoundary:i,blockedSegment:n,abortSet:o,legacyContext:r,context:s,treeContext:a};return o.add(l),l}function We(e,t,i,n,o,r){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:i,lastPushedText:o,textEmbedded:r}}function ze(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ue(e,t){var i=e.onShellError;i(t),(i=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function je(e,t,i,n,o){for(ve={},Ce=t,Se=0,e=i(n,o);Ee;)Ee=!1,Se=0,Re+=1,we=null,e=i(n,o);return Ae(),e}function Ke(e,t,i,n){var r=i.render(),s=n.childContextTypes;if(null!==s&&void 0!==s){var a=t.legacyContext;if("function"!==typeof i.getChildContext)n=a;else{for(var l in i=i.getChildContext())if(!(l in s))throw Error(o(108,Z(n)||"Unknown",l));n=N({},a,i)}t.legacyContext=n,Qe(e,t,r),t.legacyContext=a}else Qe(e,t,r)}function Ye(e,t){if(e&&e.defaultProps){for(var i in t=N({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function qe(e,t,i,n,r){if("function"===typeof i)if(i.prototype&&i.prototype.isReactComponent){r=te(i,t.legacyContext);var s=i.contextType;ce(s=new i(n,"object"===typeof s&&null!==s?s._currentValue2:r),i,n,r),Ke(e,t,s,i)}else{r=je(e,t,i,n,s=te(i,t.legacyContext));var a=0!==Se;if("object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof)ce(r,i,n,s),Ke(e,t,r,i);else if(a){n=t.treeContext,t.treeContext=he(n,1,0);try{Qe(e,t,r)}finally{t.treeContext=n}}else Qe(e,t,r)}else{if("string"!==typeof i){switch(i){case X:case Q:case V:case H:case G:case j:return void Qe(e,t,n.children);case q:throw Error(o(343));case U:e:{i=t.blockedBoundary,r=t.blockedSegment,s=n.fallback,n=n.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},u=We(0,r.chunks.length,l,r.formatContext,!1,!1);r.children.push(u),r.lastPushedText=!1;var c=We(0,0,null,r.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if($e(e,t,n),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,et(l,c),0===l.pendingTasks)break e}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=ze(e,d)}finally{t.blockedBoundary=i,t.blockedSegment=r}t=Be(e,s,i,u,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof i&&null!==i)switch(i.$$typeof){case z:if(n=je(e,t,i.render,n,r),0!==Se){i=t.treeContext,t.treeContext=he(i,1,0);try{Qe(e,t,n)}finally{t.treeContext=i}}else Qe(e,t,n);return;case K:return void qe(e,t,i=i.type,n=Ye(i,n),r);case B:if(r=n.children,i=i._context,n=n.value,s=i._currentValue2,i._currentValue2=n,ie=n={parent:a=ie,depth:null===a?0:a.depth+1,context:i,parentValue:s,value:n},t.context=n,Qe(e,t,r),null===(e=ie))throw Error(o(403));return n=e.parentValue,e.context._currentValue2=n===$?e.context._defaultValue:n,e=ie=e.parent,void(t.context=e);case W:return void Qe(e,t,n=(n=n.children)(i._currentValue2));case Y:return void qe(e,t,i=(r=i._init)(i._payload),n=Ye(i,n),void 0)}throw Error(o(130,null==i?i:typeof i,""))}switch(s=M((r=t.blockedSegment).chunks,i,n,e.responseState,r.formatContext),r.lastPushedText=!1,a=r.formatContext,r.formatContext=function(e,t,i){switch(t){case"select":return b(1,null!=i.value?i.value:i.defaultValue);case"svg":return b(2,null);case"math":return b(3,null);case"foreignObject":return b(1,null);case"table":return b(4,null);case"thead":case"tbody":case"tfoot":return b(5,null);case"colgroup":return b(7,null);case"tr":return b(6,null)}return 4<=e.insertionMode||0===e.insertionMode?b(1,null):e}(a,i,n),$e(e,t,s),r.formatContext=a,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push("</",i,">")}r.lastPushedText=!1}}function Qe(e,t,i){if(t.node=i,"object"===typeof i&&null!==i){switch(i.$$typeof){case O:return void qe(e,t,i.type,i.props,i.ref);case I:throw Error(o(257));case Y:var n=i._init;return void Qe(e,t,i=n(i._payload))}if(w(i))return void Xe(e,t,i);if(null===i||"object"!==typeof i?n=null:n="function"===typeof(n=J&&i[J]||i["@@iterator"])?n:null,n&&(n=n.call(i))){if(!(i=n.next()).done){var r=[];do{r.push(i.value),i=n.next()}while(!i.done);Xe(e,t,r)}return}throw e=Object.prototype.toString.call(i),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(i).join(", ")+"}":e))}"string"===typeof i?(n=t.blockedSegment).lastPushedText=L(t.blockedSegment.chunks,i,e.responseState,n.lastPushedText):"number"===typeof i&&((n=t.blockedSegment).lastPushedText=L(t.blockedSegment.chunks,""+i,e.responseState,n.lastPushedText))}function Xe(e,t,i){for(var n=i.length,o=0;o<n;o++){var r=t.treeContext;t.treeContext=he(r,n,o);try{$e(e,t,i[o])}finally{t.treeContext=r}}}function $e(e,t,i){var n=t.blockedSegment.formatContext,o=t.legacyContext,r=t.context;try{return Qe(e,t,i)}catch(l){if(Ae(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=r,le(r),l;i=l;var s=t.blockedSegment,a=We(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=Be(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,i.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=r,le(r)}}function Je(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Ze(e,t,i){var n=e.blockedBoundary;e.blockedSegment.status=3,null===n?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=void 0===i?Error(o(432)):i,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach((function(e){return Ze(e,t,i)})),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(n=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var i=t.children[0];i.id=t.id,i.parentFlushed=!0,1===i.status&&et(e,i)}else e.completedSegments.push(t)}function tt(e,t,i){if(null===t){if(i.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=i}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=He,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(i.parentFlushed&&1===i.status&&et(t,i),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Je,e),t.fallbackAbortableTasks.clear()):i.parentFlushed&&1===i.status&&(et(t,i),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function it(e){if(2!==e.status){var t=ie,i=Ge.current;Ge.current=Oe;var n=Ie;Ie=e.responseState;try{var o,r=e.pingedTasks;for(o=0;o<r.length;o++){var s=r[o],a=e,l=s.blockedSegment;if(0===l.status){le(s.context);try{Qe(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),s.abortSet.delete(s),l.status=1,tt(a,s.blockedBoundary,l)}catch(p){if(Ae(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var u=s.ping;p.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=p,h=ze(a,d);if(null===c?Ue(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,0===a.allPendingTasks)(0,a.onAllReady)()}}}}r.splice(0,o),null!==e.destination&&lt(e,e.destination)}catch(p){ze(e,p),Ue(e,p)}finally{Ie=n,Ge.current=i,i===Oe&&le(t)}}}function nt(e,t,i){switch(i.parentFlushed=!0,i.status){case 0:var n=i.id=e.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=n.toString(16),t.push(e),t.push('"></template>');case 1:i.status=2;var r=!0;n=i.chunks;var s=0;i=i.children;for(var a=0;a<i.length;a++){for(r=i[a];s<r.index;s++)t.push(n[s]);r=ot(e,t,r)}for(;s<n.length-1;s++)t.push(n[s]);return s<n.length&&(r=t.push(n[s])),r;default:throw Error(o(390))}}function ot(e,t,i){var n=i.boundary;if(null===n)return nt(e,t,i);if(n.parentFlushed=!0,n.forceClientRender)return e.responseState.generateStaticMarkup||(n=n.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),n&&(t.push(' data-dgst="'),n=v(n),t.push(n),t.push('"')),t.push("></template>")),nt(e,t,i),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var r=e.responseState,s=r.nextSuspenseID++;return r=r.boundaryPrefix+s.toString(16),n=n.id=r,_(t,e.responseState,n),nt(e,t,i),t.push("\x3c!--/$--\x3e")}if(n.byteSize>e.progressiveChunkSize)return n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),_(t,e.responseState,n.id),nt(e,t,i),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(i=n.completedSegments).length)throw Error(o(391));return ot(e,t,i[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function rt(e,t,i){return function(e,t,i,n){switch(i.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');default:throw Error(o(397))}}(t,e.responseState,i.formatContext,i.id),ot(e,t,i),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(o(397))}}(t,i.formatContext)}function st(e,t,i){for(var n=i.completedSegments,r=0;r<n.length;r++)at(e,t,i,n[r]);if(n.length=0,e=e.responseState,n=i.id,i=i.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===n)throw Error(o(395));return i=i.toString(16),t.push(n),t.push('","'),t.push(e.segmentPrefix),t.push(i),t.push('")<\/script>')}function at(e,t,i,n){if(2===n.status)return!0;var r=n.id;if(-1===r){if(-1===(n.id=i.rootSegmentID))throw Error(o(392));return rt(e,t,n)}return rt(e,t,n),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),r=r.toString(16),t.push(r),t.push('","'),t.push(e.placeholderPrefix),t.push(r),t.push('")<\/script>')}function lt(e,t){try{var i=e.completedRootSegment;if(null!==i&&0===e.pendingRootTasks){ot(e,t,i),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(i=0;i<n.length-1;i++)t.push(n[i]);i<n.length&&t.push(n[i])}var r,s=e.clientRenderedBoundaries;for(r=0;r<s.length;r++){var a=s[r];n=t;var l=e.responseState,u=a.id,c=a.errorDigest,d=a.errorMessage,h=a.errorComponentStack;if(n.push(l.startInlineScript),l.sentClientRenderFunction?n.push('$RX("'):(l.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(o(395));if(n.push(u),n.push('"'),c||d||h){n.push(",");var p=F(c||"");n.push(p)}if(d||h){n.push(",");var g=F(d||"");n.push(g)}if(h){n.push(",");var f=F(h);n.push(f)}if(!n.push(")<\/script>"))return e.destination=null,r++,void s.splice(0,r)}s.splice(0,r);var m=e.completedBoundaries;for(r=0;r<m.length;r++)if(!st(e,t,m[r]))return e.destination=null,r++,void m.splice(0,r);m.splice(0,r);var v=e.partialBoundaries;for(r=0;r<v.length;r++){var C=v[r];e:{s=e,a=t;var y=C.completedSegments;for(l=0;l<y.length;l++)if(!at(s,a,C,y[l])){l++,y.splice(0,l);var w=!1;break e}y.splice(0,l),w=!0}if(!w)return e.destination=null,r++,void v.splice(0,r)}v.splice(0,r);var b=e.completedBoundaries;for(r=0;r<b.length;r++)if(!st(e,t,b[r]))return e.destination=null,r++,void b.splice(0,r);b.splice(0,r)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ut(e,t){try{var i=e.abortableTasks;i.forEach((function(i){return Ze(i,e,t)})),i.clear(),null!==e.destination&&lt(e,e.destination)}catch(n){ze(e,n),Ue(e,n)}}function ct(){}function dt(e,t,i,n){var r=!1,s=null,a="",l={push:function(e){return null!==e&&(a+=e),!0},destroy:function(e){r=!0,s=e}},u=!1;if(e=function(e,t,i,n,o,r,s,a,l){var u=[],c=new Set;return(i=We(t={destination:null,responseState:t,progressiveChunkSize:void 0===n?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?Ve:o,onAllReady:void 0===r?He:r,onShellReady:void 0===s?He:s,onShellError:void 0===a?He:a,onFatalError:void 0===l?He:l},0,null,i,!1,!1)).parentFlushed=!0,e=Be(t,e,null,i,c,ee,null,de),u.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(i,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ct,void 0,(function(){u=!0}),void 0,void 0),it(e),ut(e,n),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{lt(e,l)}catch(c){ze(e,c),Ue(e,c)}}if(r)throw s;if(!u)throw Error(o(426));return a}t.renderToNodeStream=function(){throw Error(o(207))},t.renderToStaticMarkup=function(e,t){return dt(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(o(208))},t.renderToString=function(e,t){return dt(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.3.1"},8556:(e,t,i)=>{"use strict";var n=i(5043);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,s=0;function a(e,t){if(0!==t.length)if(512<t.length)0<s&&(e.enqueue(new Uint8Array(r.buffer,0,s)),r=new Uint8Array(512),s=0),e.enqueue(t);else{var i=r.length-s;i<t.length&&(0===i?e.enqueue(r):(r.set(t.subarray(0,i),s),e.enqueue(r),t=t.subarray(i)),r=new Uint8Array(512),s=0),r.set(t,s),s+=t.length}}function l(e,t){return a(e,t),!0}function u(e){r&&0<s&&(e.enqueue(new Uint8Array(r.buffer,0,s)),r=null,s=0)}var c=new TextEncoder;function d(e){return c.encode(e)}function h(e){return c.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var g=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function C(e){return!!g.call(v,e)||!g.call(m,e)&&(f.test(e)?v[e]=!0:(m[e]=!0,!1))}function y(e,t,i,n,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){w[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];w[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){w[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){w[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){w[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){w[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){w[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){w[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){w[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,E);w[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,E);w[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,E);w[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){w[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){w[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["Webkit","ms","Moz","O"];Object.keys(S).forEach((function(e){x.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),S[t]=S[e]}))}));var R=/["'&<>]/;function T(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=R.exec(e);if(t){var i,n="",o=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==i&&(n+=e.substring(o,i)),o=i+1,n+=t}e=o!==i?n+e.substring(o,i):n}return e}var D=/([A-Z])/g,P=/^ms-/,A=Array.isArray,M=h("<script>"),_=h("<\/script>"),k=h('<script src="'),F=h('<script type="module" src="'),L=h('" async=""><\/script>'),N=/(<\/|<)(s)(cript)/gi;function O(e,t,i,n){return t+("s"===i?"\\u0073":"\\u0053")+n}function I(e,t){return{insertionMode:e,selectedValue:t}}var G=h("\x3c!-- --\x3e");function V(e,t,i,n){return""===t?n:(n&&e.push(G),e.push(d(T(t))),!0)}var H=new Map,B=h(' style="'),W=h(":"),z=h(";");function U(e,t,i){if("object"!==typeof i)throw Error(o(62));for(var n in t=!0,i)if(g.call(i,n)){var r=i[n];if(null!=r&&"boolean"!==typeof r&&""!==r){if(0===n.indexOf("--")){var s=d(T(n));r=d(T((""+r).trim()))}else{s=n;var a=H.get(s);void 0!==a||(a=h(T(s.replace(D,"-$1").toLowerCase().replace(P,"-ms-"))),H.set(s,a)),s=a,r="number"===typeof r?0===r||g.call(S,n)?d(""+r):d(r+"px"):d(T((""+r).trim()))}t?(t=!1,e.push(B,s,W,r)):e.push(z,s,W,r)}}t||e.push(Y)}var j=h(" "),K=h('="'),Y=h('"'),q=h('=""');function Q(e,t,i,n){switch(i){case"style":return void U(e,t,n);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||"o"!==i[0]&&"O"!==i[0]||"n"!==i[1]&&"N"!==i[1])if(null!==(t=w.hasOwnProperty(i)?w[i]:null)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(i=d(t.attributeName),t.type){case 3:n&&e.push(j,i,q);break;case 4:!0===n?e.push(j,i,q):!1!==n&&e.push(j,i,K,d(T(n)),Y);break;case 5:isNaN(n)||e.push(j,i,K,d(T(n)),Y);break;case 6:!isNaN(n)&&1<=n&&e.push(j,i,K,d(T(n)),Y);break;default:t.sanitizeURL&&(n=""+n),e.push(j,i,K,d(T(n)),Y)}}else if(C(i)){switch(typeof n){case"function":case"symbol":return;case"boolean":if("data-"!==(t=i.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(j,d(i),K,d(T(n)),Y)}}var X=h(">"),$=h("/>");function J(e,t,i){if(null!=t){if(null!=i)throw Error(o(60));if("object"!==typeof t||!("__html"in t))throw Error(o(61));null!==(t=t.__html)&&void 0!==t&&e.push(d(""+t))}}var Z=h(' selected=""');function ee(e,t,i,n){e.push(oe(i));var o,r=i=null;for(o in t)if(g.call(t,o)){var s=t[o];if(null!=s)switch(o){case"children":i=s;break;case"dangerouslySetInnerHTML":r=s;break;default:Q(e,n,o,s)}}return e.push(X),J(e,r,i),"string"===typeof i?(e.push(d(T(i))),null):i}var te=h("\n"),ie=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ne=new Map;function oe(e){var t=ne.get(e);if(void 0===t){if(!ie.test(e))throw Error(o(65,e));t=h("<"+e),ne.set(e,t)}return t}var re=h("<!DOCTYPE html>");function se(e,t,i,r,s){switch(t){case"select":e.push(oe("select"));var a=null,l=null;for(p in i)if(g.call(i,p)){var u=i[p];if(null!=u)switch(p){case"children":a=u;break;case"dangerouslySetInnerHTML":l=u;break;case"defaultValue":case"value":break;default:Q(e,r,p,u)}}return e.push(X),J(e,l,a),a;case"option":l=s.selectedValue,e.push(oe("option"));var c=u=null,h=null,p=null;for(a in i)if(g.call(i,a)){var f=i[a];if(null!=f)switch(a){case"children":u=f;break;case"selected":h=f;break;case"dangerouslySetInnerHTML":p=f;break;case"value":c=f;default:Q(e,r,a,f)}}if(null!=l)if(i=null!==c?""+c:function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(u),A(l)){for(r=0;r<l.length;r++)if(""+l[r]===i){e.push(Z);break}}else""+l===i&&e.push(Z);else h&&e.push(Z);return e.push(X),J(e,p,u),u;case"textarea":for(u in e.push(oe("textarea")),p=l=a=null,i)if(g.call(i,u)&&null!=(c=i[u]))switch(u){case"children":p=c;break;case"value":a=c;break;case"defaultValue":l=c;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:Q(e,r,u,c)}if(null===a&&null!==l&&(a=l),e.push(X),null!=p){if(null!=a)throw Error(o(92));if(A(p)&&1<p.length)throw Error(o(93));a=""+p}return"string"===typeof a&&"\n"===a[0]&&e.push(te),null!==a&&e.push(d(T(""+a))),null;case"input":for(l in e.push(oe("input")),c=p=u=a=null,i)if(g.call(i,l)&&null!=(h=i[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"defaultChecked":c=h;break;case"defaultValue":u=h;break;case"checked":p=h;break;case"value":a=h;break;default:Q(e,r,l,h)}return null!==p?Q(e,r,"checked",p):null!==c&&Q(e,r,"checked",c),null!==a?Q(e,r,"value",a):null!==u&&Q(e,r,"value",u),e.push($),null;case"menuitem":for(var m in e.push(oe("menuitem")),i)if(g.call(i,m)&&null!=(a=i[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:Q(e,r,m,a)}return e.push(X),null;case"title":for(f in e.push(oe("title")),a=null,i)if(g.call(i,f)&&null!=(l=i[f]))switch(f){case"children":a=l;break;case"dangerouslySetInnerHTML":throw Error(o(434));default:Q(e,r,f,l)}return e.push(X),a;case"listing":case"pre":for(c in e.push(oe(t)),l=a=null,i)if(g.call(i,c)&&null!=(u=i[c]))switch(c){case"children":a=u;break;case"dangerouslySetInnerHTML":l=u;break;default:Q(e,r,c,u)}if(e.push(X),null!=l){if(null!=a)throw Error(o(60));if("object"!==typeof l||!("__html"in l))throw Error(o(61));null!==(i=l.__html)&&void 0!==i&&("string"===typeof i&&0<i.length&&"\n"===i[0]?e.push(te,d(i)):e.push(d(""+i)))}return"string"===typeof a&&"\n"===a[0]&&e.push(te),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var v in e.push(oe(t)),i)if(g.call(i,v)&&null!=(a=i[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,t));default:Q(e,r,v,a)}return e.push($),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,i,t,r);case"html":return 0===s.insertionMode&&e.push(re),ee(e,i,t,r);default:if(-1===t.indexOf("-")&&"string"!==typeof i.is)return ee(e,i,t,r);for(h in e.push(oe(t)),l=a=null,i)if(g.call(i,h)&&null!=(u=i[h]))switch(h){case"children":a=u;break;case"dangerouslySetInnerHTML":l=u;break;case"style":U(e,r,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:C(h)&&"function"!==typeof u&&"symbol"!==typeof u&&e.push(j,d(h),K,d(T(u)),Y)}return e.push(X),J(e,l,a),a}}var ae=h("</"),le=h(">"),ue=h('<template id="'),ce=h('"></template>'),de=h("\x3c!--$--\x3e"),he=h('\x3c!--$?--\x3e<template id="'),pe=h('"></template>'),ge=h("\x3c!--$!--\x3e"),fe=h("\x3c!--/$--\x3e"),me=h("<template"),ve=h('"'),Ce=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var ye=h("></template>");function we(e,t,i){if(a(e,he),null===i)throw Error(o(395));return a(e,i),l(e,pe)}var be=h('<div hidden id="'),Ee=h('">'),Se=h("</div>"),xe=h('<svg aria-hidden="true" style="display:none" id="'),Re=h('">'),Te=h("</svg>"),De=h('<math aria-hidden="true" style="display:none" id="'),Pe=h('">'),Ae=h("</math>"),Me=h('<table hidden id="'),_e=h('">'),ke=h("</table>"),Fe=h('<table hidden><tbody id="'),Le=h('">'),Ne=h("</tbody></table>"),Oe=h('<table hidden><tr id="'),Ie=h('">'),Ge=h("</tr></table>"),Ve=h('<table hidden><colgroup id="'),He=h('">'),Be=h("</colgroup></table>");var We=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ze=h('$RS("'),Ue=h('","'),je=h('")<\/script>'),Ke=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ye=h('$RC("'),qe=h('","'),Qe=h('")<\/script>'),Xe=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),$e=h('$RX("'),Je=h('"'),Ze=h(")<\/script>"),et=h(","),tt=/[<\u2028\u2029]/g;function it(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var nt=Object.assign,ot=Symbol.for("react.element"),rt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),ct=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),mt=Symbol.for("react.scope"),vt=Symbol.for("react.debug_trace_mode"),Ct=Symbol.for("react.legacy_hidden"),yt=Symbol.for("react.default_value"),wt=Symbol.iterator;function bt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case st:return"Fragment";case rt:return"Portal";case lt:return"Profiler";case at:return"StrictMode";case ht:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ct:return(e.displayName||"Context")+".Consumer";case ut:return(e._context.displayName||"Context")+".Provider";case dt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case gt:return null!==(t=e.displayName||null)?t:bt(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return bt(e(t))}catch(i){}}return null}var Et={};function St(e,t){if(!(e=e.contextTypes))return Et;var i,n={};for(i in e)n[i]=t[i];return n}var xt=null;function Rt(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var i=t.parent;if(null===e){if(null!==i)throw Error(o(401))}else{if(null===i)throw Error(o(401));Rt(e,i)}t.context._currentValue=t.value}}function Tt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Tt(e)}function Dt(e){var t=e.parent;null!==t&&Dt(t),e.context._currentValue=e.value}function Pt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(o(402));e.depth===t.depth?Rt(e,t):Pt(e,t)}function At(e,t){var i=t.parent;if(null===i)throw Error(o(402));e.depth===i.depth?Rt(e,i):At(e,i),t.context._currentValue=t.value}function Mt(e){var t=xt;t!==e&&(null===t?Dt(e):null===e?Tt(t):t.depth===e.depth?Rt(t,e):t.depth>e.depth?Pt(t,e):At(t,e),xt=e)}var _t={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function kt(e,t,i,n){var o=void 0!==e.state?e.state:null;e.updater=_t,e.props=i,e.state=o;var r={queue:[],replace:!1};e._reactInternals=r;var s=t.contextType;if(e.context="object"===typeof s&&null!==s?s._currentValue:n,"function"===typeof(s=t.getDerivedStateFromProps)&&(o=null===(s=s(i,o))||void 0===s?o:nt({},o,s),e.state=o),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&_t.enqueueReplaceState(e,e.state,null),null!==r.queue&&0<r.queue.length)if(t=r.queue,s=r.replace,r.queue=null,r.replace=!1,s&&1===t.length)e.state=t[0];else{for(r=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];null!=(a="function"===typeof a?a.call(e,r,i,n):a)&&(o?(o=!1,r=nt({},r,a)):nt(r,a))}e.state=r}else r.queue=null}var Ft={id:1,overflow:""};function Lt(e,t,i){var n=e.id;e=e.overflow;var o=32-Nt(n)-1;n&=~(1<<o),i+=1;var r=32-Nt(t)+o;if(30<r){var s=o-o%5;return r=(n&(1<<s)-1).toString(32),n>>=s,o-=s,{id:1<<32-Nt(t)+o|i<<o|n,overflow:r+e}}return{id:1<<r|i<<o|n,overflow:e}}var Nt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ot(e)/It|0)|0},Ot=Math.log,It=Math.LN2;var Gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vt=null,Ht=null,Bt=null,Wt=null,zt=!1,Ut=!1,jt=0,Kt=null,Yt=0;function qt(){if(null===Vt)throw Error(o(321));return Vt}function Qt(){if(0<Yt)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Xt(){return null===Wt?null===Bt?(zt=!1,Bt=Wt=Qt()):(zt=!0,Wt=Bt):null===Wt.next?(zt=!1,Wt=Wt.next=Qt()):(zt=!0,Wt=Wt.next),Wt}function $t(){Ht=Vt=null,Ut=!1,Bt=null,Yt=0,Wt=Kt=null}function Jt(e,t){return"function"===typeof t?t(e):t}function Zt(e,t,i){if(Vt=qt(),Wt=Xt(),zt){var n=Wt.queue;if(t=n.dispatch,null!==Kt&&void 0!==(i=Kt.get(n))){Kt.delete(n),n=Wt.memoizedState;do{n=e(n,i.action),i=i.next}while(null!==i);return Wt.memoizedState=n,[n,t]}return[Wt.memoizedState,t]}return e=e===Jt?"function"===typeof t?t():t:void 0!==i?i(t):t,Wt.memoizedState=e,e=(e=Wt.queue={last:null,dispatch:null}).dispatch=ti.bind(null,Vt,e),[Wt.memoizedState,e]}function ei(e,t){if(Vt=qt(),t=void 0===t?null:t,null!==(Wt=Xt())){var i=Wt.memoizedState;if(null!==i&&null!==t){var n=i[1];e:if(null===n)n=!1;else{for(var o=0;o<n.length&&o<t.length;o++)if(!Gt(t[o],n[o])){n=!1;break e}n=!0}if(n)return i[0]}}return e=e(),Wt.memoizedState=[e,t],e}function ti(e,t,i){if(25<=Yt)throw Error(o(301));if(e===Vt)if(Ut=!0,e={action:i,next:null},null===Kt&&(Kt=new Map),void 0===(i=Kt.get(t)))Kt.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}}function ii(){throw Error(o(394))}function ni(){}var oi={readContext:function(e){return e._currentValue},useContext:function(e){return qt(),e._currentValue},useMemo:ei,useReducer:Zt,useRef:function(e){Vt=qt();var t=(Wt=Xt()).memoizedState;return null===t?(e={current:e},Wt.memoizedState=e):t},useState:function(e){return Zt(Jt,e)},useInsertionEffect:ni,useLayoutEffect:function(){},useCallback:function(e,t){return ei((function(){return e}),t)},useImperativeHandle:ni,useEffect:ni,useDebugValue:ni,useDeferredValue:function(e){return qt(),e},useTransition:function(){return qt(),[!1,ii]},useId:function(){var e=Ht.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Nt(e)-1)).toString(32)+t;var i=ri;if(null===i)throw Error(o(404));return t=jt++,e=":"+i.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qt(),t(e._source)},useSyncExternalStore:function(e,t,i){if(void 0===i)throw Error(o(407));return i()}},ri=null,si=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ai(e){return console.error(e),null}function li(){}function ui(e,t,i,n,o,r,s,a){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&xi(e)},blockedBoundary:i,blockedSegment:n,abortSet:o,legacyContext:r,context:s,treeContext:a};return o.add(l),l}function ci(e,t,i,n,o,r){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:i,lastPushedText:o,textEmbedded:r}}function di(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function hi(e,t){var i=e.onShellError;i(t),(i=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function pi(e,t,i,n,o){for(Vt={},Ht=t,jt=0,e=i(n,o);Ut;)Ut=!1,jt=0,Yt+=1,Wt=null,e=i(n,o);return $t(),e}function gi(e,t,i,n){var r=i.render(),s=n.childContextTypes;if(null!==s&&void 0!==s){var a=t.legacyContext;if("function"!==typeof i.getChildContext)n=a;else{for(var l in i=i.getChildContext())if(!(l in s))throw Error(o(108,bt(n)||"Unknown",l));n=nt({},a,i)}t.legacyContext=n,vi(e,t,r),t.legacyContext=a}else vi(e,t,r)}function fi(e,t){if(e&&e.defaultProps){for(var i in t=nt({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function mi(e,t,i,n,r){if("function"===typeof i)if(i.prototype&&i.prototype.isReactComponent){r=St(i,t.legacyContext);var s=i.contextType;kt(s=new i(n,"object"===typeof s&&null!==s?s._currentValue:r),i,n,r),gi(e,t,s,i)}else{r=pi(e,t,i,n,s=St(i,t.legacyContext));var a=0!==jt;if("object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof)kt(r,i,n,s),gi(e,t,r,i);else if(a){n=t.treeContext,t.treeContext=Lt(n,1,0);try{vi(e,t,r)}finally{t.treeContext=n}}else vi(e,t,r)}else{if("string"!==typeof i){switch(i){case Ct:case vt:case at:case lt:case st:case pt:return void vi(e,t,n.children);case mt:throw Error(o(343));case ht:e:{i=t.blockedBoundary,r=t.blockedSegment,s=n.fallback,n=n.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},u=ci(0,r.chunks.length,l,r.formatContext,!1,!1);r.children.push(u),r.lastPushedText=!1;var c=ci(0,0,null,r.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(yi(e,t,n),c.lastPushedText&&c.textEmbedded&&c.chunks.push(G),c.status=1,Ei(l,c),0===l.pendingTasks)break e}catch(h){c.status=4,l.forceClientRender=!0,l.errorDigest=di(e,h)}finally{t.blockedBoundary=i,t.blockedSegment=r}t=ui(e,s,i,u,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof i&&null!==i)switch(i.$$typeof){case dt:if(n=pi(e,t,i.render,n,r),0!==jt){i=t.treeContext,t.treeContext=Lt(i,1,0);try{vi(e,t,n)}finally{t.treeContext=i}}else vi(e,t,n);return;case gt:return void mi(e,t,i=i.type,n=fi(i,n),r);case ut:if(r=n.children,i=i._context,n=n.value,s=i._currentValue,i._currentValue=n,xt=n={parent:a=xt,depth:null===a?0:a.depth+1,context:i,parentValue:s,value:n},t.context=n,vi(e,t,r),null===(e=xt))throw Error(o(403));return n=e.parentValue,e.context._currentValue=n===yt?e.context._defaultValue:n,e=xt=e.parent,void(t.context=e);case ct:return void vi(e,t,n=(n=n.children)(i._currentValue));case ft:return void mi(e,t,i=(r=i._init)(i._payload),n=fi(i,n),void 0)}throw Error(o(130,null==i?i:typeof i,""))}switch(s=se((r=t.blockedSegment).chunks,i,n,e.responseState,r.formatContext),r.lastPushedText=!1,a=r.formatContext,r.formatContext=function(e,t,i){switch(t){case"select":return I(1,null!=i.value?i.value:i.defaultValue);case"svg":return I(2,null);case"math":return I(3,null);case"foreignObject":return I(1,null);case"table":return I(4,null);case"thead":case"tbody":case"tfoot":return I(5,null);case"colgroup":return I(7,null);case"tr":return I(6,null)}return 4<=e.insertionMode||0===e.insertionMode?I(1,null):e}(a,i,n),yi(e,t,s),r.formatContext=a,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push(ae,d(i),le)}r.lastPushedText=!1}}function vi(e,t,i){if(t.node=i,"object"===typeof i&&null!==i){switch(i.$$typeof){case ot:return void mi(e,t,i.type,i.props,i.ref);case rt:throw Error(o(257));case ft:var n=i._init;return void vi(e,t,i=n(i._payload))}if(A(i))return void Ci(e,t,i);if(null===i||"object"!==typeof i?n=null:n="function"===typeof(n=wt&&i[wt]||i["@@iterator"])?n:null,n&&(n=n.call(i))){if(!(i=n.next()).done){var r=[];do{r.push(i.value),i=n.next()}while(!i.done);Ci(e,t,r)}return}throw e=Object.prototype.toString.call(i),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(i).join(", ")+"}":e))}"string"===typeof i?(n=t.blockedSegment).lastPushedText=V(t.blockedSegment.chunks,i,e.responseState,n.lastPushedText):"number"===typeof i&&((n=t.blockedSegment).lastPushedText=V(t.blockedSegment.chunks,""+i,e.responseState,n.lastPushedText))}function Ci(e,t,i){for(var n=i.length,o=0;o<n;o++){var r=t.treeContext;t.treeContext=Lt(r,n,o);try{yi(e,t,i[o])}finally{t.treeContext=r}}}function yi(e,t,i){var n=t.blockedSegment.formatContext,o=t.legacyContext,r=t.context;try{return vi(e,t,i)}catch(l){if($t(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=r,Mt(r),l;i=l;var s=t.blockedSegment,a=ci(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=ui(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,i.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=o,t.context=r,Mt(r)}}function wi(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Si(this,t,e)}function bi(e,t,i){var n=e.blockedBoundary;e.blockedSegment.status=3,null===n?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=void 0===i?Error(o(432)):i,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach((function(e){return bi(e,t,i)})),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(n=t.onAllReady)())}function Ei(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var i=t.children[0];i.id=t.id,i.parentFlushed=!0,1===i.status&&Ei(e,i)}else e.completedSegments.push(t)}function Si(e,t,i){if(null===t){if(i.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=i}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=li,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(i.parentFlushed&&1===i.status&&Ei(t,i),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wi,e),t.fallbackAbortableTasks.clear()):i.parentFlushed&&1===i.status&&(Ei(t,i),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function xi(e){if(2!==e.status){var t=xt,i=si.current;si.current=oi;var n=ri;ri=e.responseState;try{var o,r=e.pingedTasks;for(o=0;o<r.length;o++){var s=r[o],a=e,l=s.blockedSegment;if(0===l.status){Mt(s.context);try{vi(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(G),s.abortSet.delete(s),l.status=1,Si(a,s.blockedBoundary,l)}catch(p){if($t(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var u=s.ping;p.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=p,h=di(a,d);if(null===c?hi(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,0===a.allPendingTasks)(0,a.onAllReady)()}}}}r.splice(0,o),null!==e.destination&&Mi(e,e.destination)}catch(p){di(e,p),hi(e,p)}finally{ri=n,si.current=i,i===oi&&Mt(t)}}}function Ri(e,t,i){switch(i.parentFlushed=!0,i.status){case 0:var n=i.id=e.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,e=e.responseState,a(t,ue),a(t,e.placeholderPrefix),a(t,e=d(n.toString(16))),l(t,ce);case 1:i.status=2;var r=!0;n=i.chunks;var s=0;i=i.children;for(var u=0;u<i.length;u++){for(r=i[u];s<r.index;s++)a(t,n[s]);r=Ti(e,t,r)}for(;s<n.length-1;s++)a(t,n[s]);return s<n.length&&(r=l(t,n[s])),r;default:throw Error(o(390))}}function Ti(e,t,i){var n=i.boundary;if(null===n)return Ri(e,t,i);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,l(t,ge),a(t,me),n&&(a(t,Ce),a(t,d(T(n))),a(t,ve)),l(t,ye),Ri(e,t,i);else if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var r=e.responseState,s=r.nextSuspenseID++;r=h(r.boundaryPrefix+s.toString(16)),n=n.id=r,we(t,e.responseState,n),Ri(e,t,i)}else if(n.byteSize>e.progressiveChunkSize)n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),we(t,e.responseState,n.id),Ri(e,t,i);else{if(l(t,de),1!==(i=n.completedSegments).length)throw Error(o(391));Ti(e,t,i[0])}return l(t,fe)}function Di(e,t,i){return function(e,t,i,n){switch(i.insertionMode){case 0:case 1:return a(e,be),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,Ee);case 2:return a(e,xe),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,Re);case 3:return a(e,De),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,Pe);case 4:return a(e,Me),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,_e);case 5:return a(e,Fe),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,Le);case 6:return a(e,Oe),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,Ie);case 7:return a(e,Ve),a(e,t.segmentPrefix),a(e,d(n.toString(16))),l(e,He);default:throw Error(o(397))}}(t,e.responseState,i.formatContext,i.id),Ti(e,t,i),function(e,t){switch(t.insertionMode){case 0:case 1:return l(e,Se);case 2:return l(e,Te);case 3:return l(e,Ae);case 4:return l(e,ke);case 5:return l(e,Ne);case 6:return l(e,Ge);case 7:return l(e,Be);default:throw Error(o(397))}}(t,i.formatContext)}function Pi(e,t,i){for(var n=i.completedSegments,r=0;r<n.length;r++)Ai(e,t,i,n[r]);if(n.length=0,e=e.responseState,n=i.id,i=i.rootSegmentID,a(t,e.startInlineScript),e.sentCompleteBoundaryFunction?a(t,Ye):(e.sentCompleteBoundaryFunction=!0,a(t,Ke)),null===n)throw Error(o(395));return i=d(i.toString(16)),a(t,n),a(t,qe),a(t,e.segmentPrefix),a(t,i),l(t,Qe)}function Ai(e,t,i,n){if(2===n.status)return!0;var r=n.id;if(-1===r){if(-1===(n.id=i.rootSegmentID))throw Error(o(392));return Di(e,t,n)}return Di(e,t,n),a(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?a(t,ze):(e.sentCompleteSegmentFunction=!0,a(t,We)),a(t,e.segmentPrefix),a(t,r=d(r.toString(16))),a(t,Ue),a(t,e.placeholderPrefix),a(t,r),l(t,je)}function Mi(e,t){r=new Uint8Array(512),s=0;try{var i=e.completedRootSegment;if(null!==i&&0===e.pendingRootTasks){Ti(e,t,i),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(i=0;i<n.length-1;i++)a(t,n[i]);i<n.length&&l(t,n[i])}var c,h=e.clientRenderedBoundaries;for(c=0;c<h.length;c++){var p=h[c];n=t;var g=e.responseState,f=p.id,m=p.errorDigest,v=p.errorMessage,C=p.errorComponentStack;if(a(n,g.startInlineScript),g.sentClientRenderFunction?a(n,$e):(g.sentClientRenderFunction=!0,a(n,Xe)),null===f)throw Error(o(395));if(a(n,f),a(n,Je),(m||v||C)&&(a(n,et),a(n,d(it(m||"")))),(v||C)&&(a(n,et),a(n,d(it(v||"")))),C&&(a(n,et),a(n,d(it(C)))),!l(n,Ze))return e.destination=null,c++,void h.splice(0,c)}h.splice(0,c);var y=e.completedBoundaries;for(c=0;c<y.length;c++)if(!Pi(e,t,y[c]))return e.destination=null,c++,void y.splice(0,c);y.splice(0,c),u(t),r=new Uint8Array(512),s=0;var w=e.partialBoundaries;for(c=0;c<w.length;c++){var b=w[c];e:{h=e,p=t;var E=b.completedSegments;for(g=0;g<E.length;g++)if(!Ai(h,p,b,E[g])){g++,E.splice(0,g);var S=!1;break e}E.splice(0,g),S=!0}if(!S)return e.destination=null,c++,void w.splice(0,c)}w.splice(0,c);var x=e.completedBoundaries;for(c=0;c<x.length;c++)if(!Pi(e,t,x[c]))return e.destination=null,c++,void x.splice(0,c);x.splice(0,c)}finally{u(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function _i(e,t){try{var i=e.abortableTasks;i.forEach((function(i){return bi(i,e,t)})),i.clear(),null!==e.destination&&Mi(e,e.destination)}catch(n){di(e,n),hi(e,n)}}t.renderToReadableStream=function(e,t){return new Promise((function(i,n){var o,r,s=new Promise((function(e,t){r=e,o=t})),a=function(e,t,i,n,o,r,s,a,l){var u=[],c=new Set;return(i=ci(t={destination:null,responseState:t,progressiveChunkSize:void 0===n?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?ai:o,onAllReady:void 0===r?li:r,onShellReady:void 0===s?li:s,onShellError:void 0===a?li:a,onFatalError:void 0===l?li:l},0,null,i,!1,!1)).parentFlushed=!0,e=ui(t,e,null,i,c,Et,null,Ft),u.push(e),t}(e,function(e,t,i,n,o){e=void 0===e?"":e,t=void 0===t?M:h('<script nonce="'+T(t)+'">');var r=[];if(void 0!==i&&r.push(t,d((""+i).replace(N,O)),_),void 0!==n)for(i=0;i<n.length;i++)r.push(k,d(T(n[i])),L);if(void 0!==o)for(n=0;n<o.length;n++)r.push(F,d(T(o[n])),L);return{bootstrapChunks:r,startInlineScript:t,placeholderPrefix:h(e+"P:"),segmentPrefix:h(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return I("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,r,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===a.status)a.status=2,p(e,a.fatalError);else if(2!==a.status&&null===a.destination){a.destination=e;try{Mi(a,e)}catch(t){di(a,t),hi(a,t)}}},cancel:function(){_i(a)}},{highWaterMark:0});e.allReady=s,i(e)}),(function(e){s.catch((function(){})),n(e)}),o);if(t&&t.signal){var l=t.signal,u=function(){_i(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}xi(a)}))},t.version="18.3.1"},2730:(e,t,i)=>{"use strict";var n=i(5043),o=i(8853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,i,n,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}function y(e,t,i,n){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,o,n)&&(i=null),n||null===o?function(e){return!!d.call(g,e)||!d.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):o.mustUseProperty?e[o.propertyName]=null===i?3!==o.type&&"":i:(t=o.attributeName,n=o.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(o=o.type)||4===o&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,C);m[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,C);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,C);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,I=Object.assign;function G(e){if(void 0===O)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var V=!1;function H(e,t){if(!e||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),r=n.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?G(e):""}function B(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case R:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return W(e(t))}catch(i){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var o=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=j(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var i=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function X(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=U(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var i=U(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&q(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&n&&(e[i].defaultSelected=!0)}else{for(i=""+U(i),t=null,o=0;o<e.length;o++){if(e[o].value===i)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(r(92));if(te(i)){if(1<i.length)throw Error(r(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:U(i)}}function re(e,t){var i=U(t.value),n=U(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),o=fe(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,o):e[i]=o}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,xe=null;function Re(e){if(e=wo(e)){if("function"!==typeof Ee)throw Error(r(280));var t=e.stateNode;t&&(t=Eo(t),Ee(e.stateNode,e.type,t))}}function Te(e){Se?xe?xe.push(e):xe=[e]:Se=e}function De(){if(Se){var e=Se,t=xe;if(xe=Se=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Pe(e,t){return e(t)}function Ae(){}var Me=!1;function _e(e,t,i){if(Me)return e(t,i);Me=!0;try{return Pe(e,t,i)}finally{Me=!1,(null!==Se||null!==xe)&&(Ae(),De())}}function ke(e,t){var i=e.stateNode;if(null===i)return null;var n=Eo(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(r(231,t,typeof i));return i}var Fe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Fe=!1}function Ne(e,t,i,n,o,r,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(i,u)}catch(c){this.onError(c)}}var Oe=!1,Ie=null,Ge=!1,Ve=null,He={onError:function(e){Oe=!0,Ie=e}};function Be(e,t,i,n,o,r,s,a,l){Oe=!1,Ie=null,Ne.apply(He,arguments)}function We(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(r(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(r(188));return t!==e?null:e}for(var i=e,n=t;;){var o=i.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(n=o.return)){i=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===i)return Ue(o),e;if(s===n)return Ue(o),t;s=s.sibling}throw Error(r(188))}if(i.return!==n.return)i=o,n=s;else{for(var a=!1,l=o.child;l;){if(l===i){a=!0,i=o,n=s;break}if(l===n){a=!0,n=o,i=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===i){a=!0,i=s,n=o;break}if(l===n){a=!0,n=s,i=o;break}l=l.sibling}if(!a)throw Error(r(189))}}if(i.alternate!==n)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,qe=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Xe=o.unstable_requestPaint,$e=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,it=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&i;if(0!==s){var a=s&~o;0!==a?n=dt(a):0!==(r&=s)&&(n=dt(r))}else 0!==(s=i&~o)?n=dt(s):0!==r&&(n=dt(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(r=t&-t)||16===o&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(i=31-st(t)),n|=e[i],t&=~o;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function vt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=i}function Ct(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-st(i),o=1<<n;o&t|e[n]&t&&(e[n]|=t),i&=~o}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Et,St,xt,Rt,Tt=!1,Dt=[],Pt=null,At=null,Mt=null,_t=new Map,kt=new Map,Ft=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Ot(e,t,i,n,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&Et(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function It(e){var t=yo(e.target);if(null!==t){var i=We(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=ze(i)))return e.blockedOn=t,void Rt(e.priority,(function(){St(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=wo(i))&&Et(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);we=n,i.target.dispatchEvent(n),we=null,t.shift()}return!0}function Vt(e,t,i){Gt(e)&&i.delete(t)}function Ht(){Tt=!1,null!==Pt&&Gt(Pt)&&(Pt=null),null!==At&&Gt(At)&&(At=null),null!==Mt&&Gt(Mt)&&(Mt=null),_t.forEach(Vt),kt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ht)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Dt.length){Bt(Dt[0],e);for(var i=1;i<Dt.length;i++){var n=Dt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&Bt(Pt,e),null!==At&&Bt(At,e),null!==Mt&&Bt(Mt,e),_t.forEach(t),kt.forEach(t),i=0;i<Ft.length;i++)(n=Ft[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Ft.length&&null===(i=Ft[0]).blockedOn;)It(i),null===i.blockedOn&&Ft.shift()}var zt=w.ReactCurrentBatchConfig,Ut=!0;function jt(e,t,i,n){var o=yt,r=zt.transition;zt.transition=null;try{yt=1,Yt(e,t,i,n)}finally{yt=o,zt.transition=r}}function Kt(e,t,i,n){var o=yt,r=zt.transition;zt.transition=null;try{yt=4,Yt(e,t,i,n)}finally{yt=o,zt.transition=r}}function Yt(e,t,i,n){if(Ut){var o=Qt(e,t,i,n);if(null===o)Un(e,t,n,qt,i),Nt(e,n);else if(function(e,t,i,n,o){switch(t){case"focusin":return Pt=Ot(Pt,e,t,i,n,o),!0;case"dragenter":return At=Ot(At,e,t,i,n,o),!0;case"mouseover":return Mt=Ot(Mt,e,t,i,n,o),!0;case"pointerover":var r=o.pointerId;return _t.set(r,Ot(_t.get(r)||null,e,t,i,n,o)),!0;case"gotpointercapture":return r=o.pointerId,kt.set(r,Ot(kt.get(r)||null,e,t,i,n,o)),!0}return!1}(o,e,t,i,n))n.stopPropagation();else if(Nt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var r=wo(o);if(null!==r&&bt(r),null===(r=Qt(e,t,i,n))&&Un(e,t,n,qt,i),r===o)break;o=r}null!==o&&n.stopPropagation()}else Un(e,t,n,null,i)}}var qt=null;function Qt(e,t,i,n){if(qt=null,null!==(e=yo(e=be(n))))if(null===(t=We(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function ei(){if(Zt)return Zt;var e,t,i=Jt,n=i.length,o="value"in $t?$t.value:$t.textContent,r=o.length;for(e=0;e<n&&i[e]===o[e];e++);var s=n-e;for(t=1;t<=s&&i[n-t]===o[r-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function oi(e){function t(t,i,n,o,r){for(var s in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var ri,si,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=oi(li),ci=I({},li,{view:0,detail:0}),di=oi(ci),hi=I({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(ri=e.screenX-ai.screenX,si=e.screenY-ai.screenY):si=ri=0,ai=e),ri)},movementY:function(e){return"movementY"in e?e.movementY:si}}),pi=oi(hi),gi=oi(I({},hi,{dataTransfer:0})),fi=oi(I({},ci,{relatedTarget:0})),mi=oi(I({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),vi=I({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ci=oi(vi),yi=oi(I({},li,{data:0})),wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ei[e])&&!!t[e]}function xi(){return Si}var Ri=I({},ci,{key:function(e){if(e.key){var t=wi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ti=oi(Ri),Di=oi(I({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pi=oi(I({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi})),Ai=oi(I({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mi=I({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_i=oi(Mi),ki=[9,13,27,32],Fi=c&&"CompositionEvent"in window,Li=null;c&&"documentMode"in document&&(Li=document.documentMode);var Ni=c&&"TextEvent"in window&&!Li,Oi=c&&(!Fi||Li&&8<Li&&11>=Li),Ii=String.fromCharCode(32),Gi=!1;function Vi(e,t){switch(e){case"keyup":return-1!==ki.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bi=!1;var Wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wi[e.type]:"textarea"===t}function Ui(e,t,i,n){Te(n),0<(t=Kn(t,"onChange")).length&&(i=new ui("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var ji=null,Ki=null;function Yi(e){Gn(e,0)}function qi(e){if(Y(bo(e)))return e}function Qi(e,t){if("change"===e)return t}var Xi=!1;if(c){var $i;if(c){var Ji="oninput"in document;if(!Ji){var Zi=document.createElement("div");Zi.setAttribute("oninput","return;"),Ji="function"===typeof Zi.oninput}$i=Ji}else $i=!1;Xi=$i&&(!document.documentMode||9<document.documentMode)}function en(){ji&&(ji.detachEvent("onpropertychange",tn),Ki=ji=null)}function tn(e){if("value"===e.propertyName&&qi(Ki)){var t=[];Ui(t,Ki,e,be(e)),_e(Yi,t)}}function nn(e,t,i){"focusin"===e?(en(),Ki=i,(ji=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function on(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qi(Ki)}function rn(e,t){if("click"===e)return qi(t)}function sn(e,t){if("input"===e||"change"===e)return qi(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var o=i[n];if(!d.call(t,o)||!an(e[o],t[o]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var i,n=un(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=q((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=hn(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&dn(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=i.textContent.length,r=Math.min(n.start,o);n=void 0===n.end?r:Math.min(n.end,o),!e.extend&&r>n&&(o=n,n=r,r=o),o=cn(i,r);var s=cn(i,n);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=c&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,Cn=null,yn=!1;function wn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;yn||null==mn||mn!==q(n)||("selectionStart"in(n=mn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Cn&&ln(Cn,n)||(Cn=n,0<(n=Kn(vn,"onSelect")).length&&(t=new ui("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=mn)))}function bn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var En={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionend:bn("Transition","TransitionEnd")},Sn={},xn={};function Rn(e){if(Sn[e])return Sn[e];if(!En[e])return e;var t,i=En[e];for(t in i)if(i.hasOwnProperty(t)&&t in xn)return Sn[e]=i[t];return e}c&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var Tn=Rn("animationend"),Dn=Rn("animationiteration"),Pn=Rn("animationstart"),An=Rn("transitionend"),Mn=new Map,_n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Mn.set(e,t),l(t,[e])}for(var Fn=0;Fn<_n.length;Fn++){var Ln=_n[Fn];kn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}kn(Tn,"onAnimationEnd"),kn(Dn,"onAnimationIteration"),kn(Pn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(An,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function In(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,o,s,a,l,u){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(r(198));var c=Ie;Oe=!1,Ie=null,Ge||(Ge=!0,Ve=c)}}(n,t,void 0,e),e.currentTarget=null}function Gn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],o=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;In(o,a,u),r=l}else for(s=0;s<n.length;s++){if(l=(a=n[s]).instance,u=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;In(o,a,u),r=l}}}if(Ge)throw e=Ve,Ge=!1,Ve=null,e}function Vn(e,t){var i=t[mo];void 0===i&&(i=t[mo]=new Set);var n=e+"__bubble";i.has(n)||(zn(t,e,2,!1),i.add(n))}function Hn(e,t,i){var n=0;t&&(n|=4),zn(i,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[Bn]){e[Bn]=!0,s.forEach((function(t){"selectionchange"!==t&&(On.has(t)||Hn(t,!1,e),Hn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Hn("selectionchange",!1,t))}}function zn(e,t,i,n){switch(Xt(t)){case 1:var o=jt;break;case 4:o=Kt;break;default:o=Yt}i=o.bind(null,t,i,e),o=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):void 0!==o?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Un(e,t,i,n,o){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=yo(a)))return;if(5===(l=s.tag)||6===l){n=r=s;continue e}a=a.parentNode}}n=n.return}_e((function(){var n=r,o=be(i),s=[];e:{var a=Mn.get(e);if(void 0!==a){var l=ui,u=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=Ti;break;case"focusin":u="focus",l=fi;break;case"focusout":u="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pi;break;case Tn:case Dn:case Pn:l=mi;break;case An:l=Ai;break;case"scroll":l=di;break;case"wheel":l=_i;break;case"copy":case"cut":case"paste":l=Ci;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Di}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=ke(g,h))&&c.push(jn(g,f,p)))),d)break;g=g.return}0<c.length&&(a=new l(a,u,null,i,o),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===we||!(u=i.relatedTarget||i.fromElement)||!yo(u)&&!u[fo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(u=(u=i.relatedTarget||i.toElement)?yo(u):null)&&(u!==(d=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=pi,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(c=Di,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?a:bo(l),p=null==u?a:bo(u),(a=new c(f,g+"leave",l,i,o)).target=d,a.relatedTarget=p,f=null,yo(o)===n&&((c=new c(h,g+"enter",u,i,o)).target=p,c.relatedTarget=d,f=c),d=f,l&&u)e:{for(h=u,g=0,p=c=l;p;p=Yn(p))g++;for(p=0,f=h;f;f=Yn(f))p++;for(;0<g-p;)c=Yn(c),g--;for(;0<p-g;)h=Yn(h),p--;for(;g--;){if(c===h||null!==h&&c===h.alternate)break e;c=Yn(c),h=Yn(h)}c=null}else c=null;null!==l&&qn(s,a,l,c,!1),null!==u&&null!==d&&qn(s,d,u,c,!0)}if("select"===(l=(a=n?bo(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qi;else if(zi(a))if(Xi)m=sn;else{m=on;var v=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=rn);switch(m&&(m=m(e,n))?Ui(s,m,i,o):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=n?bo(n):window,e){case"focusin":(zi(v)||"true"===v.contentEditable)&&(mn=v,vn=n,Cn=null);break;case"focusout":Cn=vn=mn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,wn(s,i,o);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":wn(s,i,o)}var C;if(Fi)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bi?Vi(e,i)&&(y="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(y="onCompositionStart");y&&(Oi&&"ko"!==i.locale&&(Bi||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bi&&(C=ei()):(Jt="value"in($t=o)?$t.value:$t.textContent,Bi=!0)),0<(v=Kn(n,y)).length&&(y=new yi(y,e,null,i,o),s.push({event:y,listeners:v}),C?y.data=C:null!==(C=Hi(i))&&(y.data=C))),(C=Ni?function(e,t){switch(e){case"compositionend":return Hi(t);case"keypress":return 32!==t.which?null:(Gi=!0,Ii);case"textInput":return(e=t.data)===Ii&&Gi?null:e;default:return null}}(e,i):function(e,t){if(Bi)return"compositionend"===e||!Fi&&Vi(e,t)?(e=ei(),Zt=Jt=$t=null,Bi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Kn(n,"onBeforeInput")).length&&(o=new yi("onBeforeInput","beforeinput",null,i,o),s.push({event:o,listeners:n}),o.data=C))}Gn(s,t)}))}function jn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Kn(e,t){for(var i=t+"Capture",n=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=ke(e,i))&&n.unshift(jn(e,r,o)),null!=(r=ke(e,t))&&n.push(jn(e,r,o))),e=e.return}return n}function Yn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qn(e,t,i,n,o){for(var r=t._reactName,s=[];null!==i&&i!==n;){var a=i,l=a.alternate,u=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==u&&(a=u,o?null!=(l=ke(i,r))&&s.unshift(jn(i,l,a)):o||null!=(l=ke(i,r))&&s.push(jn(i,l,a))),i=i.return}0!==s.length&&e.push({event:t,listeners:s})}var Qn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function $n(e){return("string"===typeof e?e:""+e).replace(Qn,"\n").replace(Xn,"")}function Jn(e,t,i){if(t=$n(t),$n(e)!==t&&i)throw Error(r(425))}function Zn(){}var eo=null,to=null;function io(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ro="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ro?function(e){return ro.resolve(null).then(e).catch(ao)}:no;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var i=t,n=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&8===o.nodeType)if("/$"===(i=o.data)){if(0===n)return e.removeChild(o),void Wt(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=o}while(i);Wt(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,go="__reactProps$"+ho,fo="__reactContainer$"+ho,mo="__reactEvents$"+ho,vo="__reactListeners$"+ho,Co="__reactHandles$"+ho;function yo(e){var t=e[po];if(t)return t;for(var i=e.parentNode;i;){if(t=i[fo]||i[po]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=co(e);null!==e;){if(i=e[po])return i;e=co(e)}return t}i=(e=i).parentNode}return null}function wo(e){return!(e=e[po]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Eo(e){return e[go]||null}var So=[],xo=-1;function Ro(e){return{current:e}}function To(e){0>xo||(e.current=So[xo],So[xo]=null,xo--)}function Do(e,t){xo++,So[xo]=e.current,e.current=t}var Po={},Ao=Ro(Po),Mo=Ro(!1),_o=Po;function ko(e,t){var i=e.type.contextTypes;if(!i)return Po;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in i)r[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Fo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){To(Mo),To(Ao)}function No(e,t,i){if(Ao.current!==Po)throw Error(r(168));Do(Ao,t),Do(Mo,i)}function Oo(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())if(!(o in t))throw Error(r(108,z(e)||"Unknown",o));return I({},i,n)}function Io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,_o=Ao.current,Do(Ao,e),Do(Mo,Mo.current),!0}function Go(e,t,i){var n=e.stateNode;if(!n)throw Error(r(169));i?(e=Oo(e,t,_o),n.__reactInternalMemoizedMergedChildContext=e,To(Mo),To(Ao),Do(Ao,e)):To(Mo),Do(Mo,i)}var Vo=null,Ho=!1,Bo=!1;function Wo(e){null===Vo?Vo=[e]:Vo.push(e)}function zo(){if(!Bo&&null!==Vo){Bo=!0;var e=0,t=yt;try{var i=Vo;for(yt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Vo=null,Ho=!1}catch(o){throw null!==Vo&&(Vo=Vo.slice(e+1)),Ye(Ze,zo),o}finally{yt=t,Bo=!1}}return null}var Uo=[],jo=0,Ko=null,Yo=0,qo=[],Qo=0,Xo=null,$o=1,Jo="";function Zo(e,t){Uo[jo++]=Yo,Uo[jo++]=Ko,Ko=e,Yo=t}function er(e,t,i){qo[Qo++]=$o,qo[Qo++]=Jo,qo[Qo++]=Xo,Xo=e;var n=$o;e=Jo;var o=32-st(n)-1;n&=~(1<<o),i+=1;var r=32-st(t)+o;if(30<r){var s=o-o%5;r=(n&(1<<s)-1).toString(32),n>>=s,o-=s,$o=1<<32-st(t)+o|i<<o|n,Jo=r+e}else $o=1<<r|i<<o|n,Jo=e}function tr(e){null!==e.return&&(Zo(e,1),er(e,1,0))}function ir(e){for(;e===Ko;)Ko=Uo[--jo],Uo[jo]=null,Yo=Uo[--jo],Uo[jo]=null;for(;e===Xo;)Xo=qo[--Qo],qo[Qo]=null,Jo=qo[--Qo],qo[Qo]=null,$o=qo[--Qo],qo[Qo]=null}var nr=null,or=null,rr=!1,sr=null;function ar(e,t){var i=_u(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function lr(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,or=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,or=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Xo?{id:$o,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=_u(18,null,null,0)).stateNode=t,i.return=e,e.child=i,nr=e,or=null,!0);default:return!1}}function ur(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(rr){var t=or;if(t){var i=t;if(!lr(e,t)){if(ur(e))throw Error(r(418));t=uo(i.nextSibling);var n=nr;t&&lr(e,t)?ar(n,i):(e.flags=-4097&e.flags|2,rr=!1,nr=e)}}else{if(ur(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,nr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function hr(e){if(e!==nr)return!1;if(!rr)return dr(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!io(e.type,e.memoizedProps)),t&&(t=or)){if(ur(e))throw pr(),Error(r(418));for(;t;)ar(e,t),t=uo(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){or=uo(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}or=null}}else or=nr?uo(e.stateNode.nextSibling):null;return!0}function pr(){for(var e=or;e;)e=uo(e.nextSibling)}function gr(){or=nr=null,rr=!1}function fr(e){null===sr?sr=[e]:sr.push(e)}var mr=w.ReactCurrentBatchConfig;function vr(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var n=i.stateNode}if(!n)throw Error(r(147,e));var o=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Cr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yr(e){return(0,e._init)(e._payload)}function wr(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Fu(e,t)).index=0,e.sibling=null,e}function s(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Iu(i,e.mode,n)).return=e,t):((t=o(t,i)).return=e,t)}function u(e,t,i,n){var r=i.type;return r===S?d(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===k&&yr(r)===t.type)?((n=o(t,i.props)).ref=vr(e,t,i),n.return=e,n):((n=Lu(i.type,i.key,i.props,null,e.mode,n)).ref=vr(e,t,i),n.return=e,n)}function c(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Gu(i,e.mode,n)).return=e,t):((t=o(t,i.children||[])).return=e,t)}function d(e,t,i,n,r){return null===t||7!==t.tag?((t=Nu(i,e.mode,n,r)).return=e,t):((t=o(t,i)).return=e,t)}function h(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Iu(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(i=Lu(t.type,t.key,t.props,null,e.mode,i)).ref=vr(e,null,t),i.return=e,i;case E:return(t=Gu(t,e.mode,i)).return=e,t;case k:return h(e,(0,t._init)(t._payload),i)}if(te(t)||N(t))return(t=Nu(t,e.mode,i,null)).return=e,t;Cr(e,t)}return null}function p(e,t,i,n){var o=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==o?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return i.key===o?u(e,t,i,n):null;case E:return i.key===o?c(e,t,i,n):null;case k:return p(e,t,(o=i._init)(i._payload),n)}if(te(i)||N(i))return null!==o?null:d(e,t,i,n,null);Cr(e,i)}return null}function g(e,t,i,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return u(t,e=e.get(null===n.key?i:n.key)||null,n,o);case E:return c(t,e=e.get(null===n.key?i:n.key)||null,n,o);case k:return g(e,t,i,(0,n._init)(n._payload),o)}if(te(n)||N(n))return d(t,e=e.get(i)||null,n,o,null);Cr(t,n)}return null}function f(o,r,a,l){for(var u=null,c=null,d=r,f=r=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var v=p(o,d,a[f],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(o,d),r=s(v,r,f),null===c?u=v:c.sibling=v,c=v,d=m}if(f===a.length)return i(o,d),rr&&Zo(o,f),u;if(null===d){for(;f<a.length;f++)null!==(d=h(o,a[f],l))&&(r=s(d,r,f),null===c?u=d:c.sibling=d,c=d);return rr&&Zo(o,f),u}for(d=n(o,d);f<a.length;f++)null!==(m=g(d,o,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),r=s(m,r,f),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(o,e)})),rr&&Zo(o,f),u}function m(o,a,l,u){var c=N(l);if("function"!==typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var d=c=null,f=a,m=a=0,v=null,C=l.next();null!==f&&!C.done;m++,C=l.next()){f.index>m?(v=f,f=null):v=f.sibling;var y=p(o,f,C.value,u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(o,f),a=s(y,a,m),null===d?c=y:d.sibling=y,d=y,f=v}if(C.done)return i(o,f),rr&&Zo(o,m),c;if(null===f){for(;!C.done;m++,C=l.next())null!==(C=h(o,C.value,u))&&(a=s(C,a,m),null===d?c=C:d.sibling=C,d=C);return rr&&Zo(o,m),c}for(f=n(o,f);!C.done;m++,C=l.next())null!==(C=g(f,o,m,C.value,u))&&(e&&null!==C.alternate&&f.delete(null===C.key?m:C.key),a=s(C,a,m),null===d?c=C:d.sibling=C,d=C);return e&&f.forEach((function(e){return t(o,e)})),rr&&Zo(o,m),c}return function e(n,r,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var u=s.key,c=r;null!==c;){if(c.key===u){if((u=s.type)===S){if(7===c.tag){i(n,c.sibling),(r=o(c,s.props.children)).return=n,n=r;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===k&&yr(u)===c.type){i(n,c.sibling),(r=o(c,s.props)).ref=vr(n,c,s),r.return=n,n=r;break e}i(n,c);break}t(n,c),c=c.sibling}s.type===S?((r=Nu(s.props.children,n.mode,l,s.key)).return=n,n=r):((l=Lu(s.type,s.key,s.props,null,n.mode,l)).ref=vr(n,r,s),l.return=n,n=l)}return a(n);case E:e:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){i(n,r.sibling),(r=o(r,s.children||[])).return=n,n=r;break e}i(n,r);break}t(n,r),r=r.sibling}(r=Gu(s,n.mode,l)).return=n,n=r}return a(n);case k:return e(n,r,(c=s._init)(s._payload),l)}if(te(s))return f(n,r,s,l);if(N(s))return m(n,r,s,l);Cr(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(i(n,r.sibling),(r=o(r,s)).return=n,n=r):(i(n,r),(r=Iu(s,n.mode,l)).return=n,n=r),a(n)):i(n,r)}}var br=wr(!0),Er=wr(!1),Sr=Ro(null),xr=null,Rr=null,Tr=null;function Dr(){Tr=Rr=xr=null}function Pr(e){var t=Sr.current;To(Sr),e._currentValue=t}function Ar(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Mr(e,t){xr=e,Tr=Rr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(Tr!==e)if(e={context:e,memoizedValue:t,next:null},null===Rr){if(null===xr)throw Error(r(308));Rr=e,xr.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return t}var kr=null;function Fr(e){null===kr?kr=[e]:kr.push(e)}function Lr(e,t,i,n){var o=t.interleaved;return null===o?(i.next=i,Fr(t)):(i.next=o.next,o.next=i),t.interleaved=i,Nr(e,n)}function Nr(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Or=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Nr(e,i)}return null===(o=n.interleaved)?(t.next=t,Fr(n)):(t.next=o.next,o.next=t),n.interleaved=t,Nr(e,i)}function Br(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,Ct(e,i)}}function Wr(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var o=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?o=r=s:r=r.next=s,i=i.next}while(null!==i);null===r?o=r=t:r=r.next=t}else o=r=t;return i={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function zr(e,t,i,n){var o=e.updateQueue;Or=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?r=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==r){var d=o.baseState;for(s=0,c=u=l=null,a=r;;){var h=a.lane,p=a.eventTime;if((n&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,f=a;switch(h=t,p=i,f.tag){case 1:if("function"===typeof(g=f.payload)){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,d,h):g)||void 0===h)break e;d=I({},d,h);break e;case 2:Or=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===r&&(o.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=d}}function Ur(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=i,"function"!==typeof o)throw Error(r(191,o));o.call(n)}}}var jr={},Kr=Ro(jr),Yr=Ro(jr),qr=Ro(jr);function Qr(e){if(e===jr)throw Error(r(174));return e}function Xr(e,t){switch(Do(qr,t),Do(Yr,e),Do(Kr,jr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(Kr),Do(Kr,t)}function $r(){To(Kr),To(Yr),To(qr)}function Jr(e){Qr(qr.current);var t=Qr(Kr.current),i=le(t,e.type);t!==i&&(Do(Yr,e),Do(Kr,i))}function Zr(e){Yr.current===e&&(To(Kr),To(Yr))}var es=Ro(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var is=[];function ns(){for(var e=0;e<is.length;e++)is[e]._workInProgressVersionPrimary=null;is.length=0}var os=w.ReactCurrentDispatcher,rs=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,us=null,cs=!1,ds=!1,hs=0,ps=0;function gs(){throw Error(r(321))}function fs(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function ms(e,t,i,n,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=i(n,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(r(301));s+=1,us=ls=null,t.updateQueue=null,os.current=ta,e=i(n,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,us=ls=as=null,cs=!1,t)throw Error(r(300));return e}function vs(){var e=0!==hs;return hs=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function ys(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ys(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=ls,o=n.baseQueue,s=i.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}n.baseQueue=o=s,i.pending=null}if(null!==o){s=o.next,n=n.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=n):u=u.next=h,as.lanes|=d,Ol|=d}c=c.next}while(null!==c&&c!==s);null===u?a=n:u.next=l,an(n,t.memoizedState)||(ya=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,i.lastRenderedState=n}if(null!==(e=i.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ol|=s,o=o.next}while(o!==e)}else null===o&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Es(e){var t=ys(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=i.dispatch,o=i.pending,s=t.memoizedState;if(null!==o){i.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);an(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),i.lastRenderedState=s}return[s,n]}function Ss(){}function xs(e,t){var i=as,n=ys(),o=t(),s=!an(n.memoizedState,o);if(s&&(n.memoizedState=o,ya=!0),n=n.queue,Os(Ds.bind(null,i,n,e),[e]),n.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(i.flags|=2048,_s(9,Ts.bind(null,i,n,o,t),void 0,null),null===Al)throw Error(r(349));0!==(30&ss)||Rs(i,t,o)}return o}function Rs(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Ts(e,t,i,n){t.value=i,t.getSnapshot=n,Ps(t)&&As(e)}function Ds(e,t,i){return i((function(){Ps(t)&&As(e)}))}function Ps(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch(n){return!0}}function As(e){var t=Nr(e,1);null!==t&&iu(t,e,1,-1)}function Ms(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=qs.bind(null,as,e),[t.memoizedState,e]}function _s(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function ks(){return ys().memoizedState}function Fs(e,t,i,n){var o=Cs();as.flags|=e,o.memoizedState=_s(1|t,i,void 0,void 0===n?null:n)}function Ls(e,t,i,n){var o=ys();n=void 0===n?null:n;var r=void 0;if(null!==ls){var s=ls.memoizedState;if(r=s.destroy,null!==n&&fs(n,s.deps))return void(o.memoizedState=_s(t,i,r,n))}as.flags|=e,o.memoizedState=_s(1|t,i,r,n)}function Ns(e,t){return Fs(8390656,8,e,t)}function Os(e,t){return Ls(2048,8,e,t)}function Is(e,t){return Ls(4,2,e,t)}function Gs(e,t){return Ls(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hs(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Ls(4,4,Vs.bind(null,t,e),i)}function Bs(){}function Ws(e,t){var i=ys();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function zs(e,t){var i=ys();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Us(e,t,i){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=i):(an(i,t)||(i=ft(),as.lanes|=i,Ol|=i,e.baseState=!0),t)}function js(e,t){var i=yt;yt=0!==i&&4>i?i:4,e(!0);var n=rs.transition;rs.transition={};try{e(!1),t()}finally{yt=i,rs.transition=n}}function Ks(){return ys().memoizedState}function Ys(e,t,i){var n=tu(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Qs(e))Xs(t,i);else if(null!==(i=Lr(e,t,i,n))){iu(i,e,n,eu()),$s(i,t,n)}}function qs(e,t,i){var n=tu(e),o={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Xs(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,i);if(o.hasEagerState=!0,o.eagerState=a,an(a,s)){var l=t.interleaved;return null===l?(o.next=o,Fr(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(i=Lr(e,t,o,n))&&(iu(i,e,n,o=eu()),$s(i,t,n))}}function Qs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=cs=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function $s(e,t,i){if(0!==(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,Ct(e,i)}}var Js={readContext:_r,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},Zs={readContext:_r,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:_r,useEffect:Ns,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Fs(4194308,4,Vs.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var i=Cs();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=Cs();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ys.bind(null,as,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Ms,useDebugValue:Bs,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=js.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=as,o=Cs();if(rr){if(void 0===i)throw Error(r(407));i=i()}else{if(i=t(),null===Al)throw Error(r(349));0!==(30&ss)||Rs(n,t,i)}o.memoizedState=i;var s={value:i,getSnapshot:t};return o.queue=s,Ns(Ds.bind(null,n,s,e),[e]),n.flags|=2048,_s(9,Ts.bind(null,n,s,i,t),void 0,null),i},useId:function(){var e=Cs(),t=Al.identifierPrefix;if(rr){var i=Jo;t=":"+t+"R"+(i=($o&~(1<<32-st($o)-1)).toString(32)+i),0<(i=hs++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:_r,useCallback:Ws,useContext:_r,useEffect:Os,useImperativeHandle:Hs,useInsertionEffect:Is,useLayoutEffect:Gs,useMemo:zs,useReducer:bs,useRef:ks,useState:function(){return bs(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Us(ys(),ls.memoizedState,e)},useTransition:function(){return[bs(ws)[0],ys().memoizedState]},useMutableSource:Ss,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:_r,useCallback:Ws,useContext:_r,useEffect:Os,useImperativeHandle:Hs,useInsertionEffect:Is,useLayoutEffect:Gs,useMemo:zs,useReducer:Es,useRef:ks,useState:function(){return Es(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:Us(t,ls.memoizedState,e)},useTransition:function(){return[Es(ws)[0],ys().memoizedState]},useMutableSource:Ss,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var i in t=I({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function na(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:I({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=eu(),o=tu(e),r=Vr(n,o);r.payload=t,void 0!==i&&null!==i&&(r.callback=i),null!==(t=Hr(e,r,o))&&(iu(t,e,o,n),Br(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=eu(),o=tu(e),r=Vr(n,o);r.tag=1,r.payload=t,void 0!==i&&null!==i&&(r.callback=i),null!==(t=Hr(e,r,o))&&(iu(t,e,o,n),Br(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=eu(),n=tu(e),o=Vr(i,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Hr(e,o,n))&&(iu(t,e,n,i),Br(t,e,n))}};function ra(e,t,i,n,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(o,r))}function sa(e,t,i){var n=!1,o=Po,r=t.contextType;return"object"===typeof r&&null!==r?r=_r(r):(o=Fo(t)?_o:Ao.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?ko(e,o):Po),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function aa(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,i,n){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs={},Ir(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=_r(r):(r=Fo(t)?_o:Ao.current,o.context=ko(e,r)),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(na(e,t,r,i),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),zr(e,i,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var i="",n=t;do{i+=B(n),n=n.return}while(n);var o=i}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o,digest:null}}function ca(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,i){(i=Vr(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Ul||(Ul=!0,jl=n),da(0,t)},i}function ga(e,t,i){(i=Vr(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;i.payload=function(){return n(o)},i.callback=function(){da(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(i.callback=function(){da(0,t),"function"!==typeof n&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function fa(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new ha;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(i)||(o.add(i),e=Ru.bind(null,e,t,i),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,i,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Vr(-1,1)).tag=2,Hr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Ca=w.ReactCurrentOwner,ya=!1;function wa(e,t,i,n){t.child=null===e?Er(t,null,i,n):br(t,e.child,i,n)}function ba(e,t,i,n,o){i=i.render;var r=t.ref;return Mr(t,o),n=ms(e,t,i,n,r,o),i=vs(),null===e||ya?(rr&&i&&tr(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ua(e,t,o))}function Ea(e,t,i,n,o){if(null===e){var r=i.type;return"function"!==typeof r||ku(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Lu(i.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Sa(e,t,r,n,o))}if(r=e.child,0===(e.lanes&o)){var s=r.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(s,n)&&e.ref===t.ref)return Ua(e,t,o)}return t.flags|=1,(e=Fu(r,n)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,i,n,o){if(null!==e){var r=e.memoizedProps;if(ln(r,n)&&e.ref===t.ref){if(ya=!1,t.pendingProps=n=r,0===(e.lanes&o))return t.lanes=e.lanes,Ua(e,t,o);0!==(131072&e.flags)&&(ya=!0)}}return Ta(e,t,i,n,o)}function xa(e,t,i){var n=t.pendingProps,o=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Do(Fl,kl),kl|=i;else{if(0===(1073741824&i))return e=null!==r?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Do(Fl,kl),kl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:i,Do(Fl,kl),kl|=n}else null!==r?(n=r.baseLanes|i,t.memoizedState=null):n=i,Do(Fl,kl),kl|=n;return wa(e,t,o,i),t.child}function Ra(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,i,n,o){var r=Fo(i)?_o:Ao.current;return r=ko(t,r),Mr(t,o),i=ms(e,t,i,n,r,o),n=vs(),null===e||ya?(rr&&n&&tr(t),t.flags|=1,wa(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ua(e,t,o))}function Da(e,t,i,n,o){if(Fo(i)){var r=!0;Io(t)}else r=!1;if(Mr(t,o),null===t.stateNode)za(e,t),sa(t,i,n),la(t,i,n,o),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=i.contextType;"object"===typeof u&&null!==u?u=_r(u):u=ko(t,u=Fo(i)?_o:Ao.current);var c=i.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||l!==u)&&aa(t,s,n,u),Or=!1;var h=t.memoizedState;s.state=h,zr(t,n,s,o),l=t.memoizedState,a!==n||h!==l||Mo.current||Or?("function"===typeof c&&(na(t,i,c,n),l=t.memoizedState),(a=Or||ra(t,i,a,n,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Gr(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ia(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=i.contextType)&&null!==l?l=_r(l):l=ko(t,l=Fo(i)?_o:Ao.current);var p=i.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,n,l),Or=!1,h=t.memoizedState,s.state=h,zr(t,n,s,o);var g=t.memoizedState;a!==d||h!==g||Mo.current||Or?("function"===typeof p&&(na(t,i,p,n),g=t.memoizedState),(u=Or||ra(t,i,u,n,h,g,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pa(e,t,i,n,r,o)}function Pa(e,t,i,n,o,r){Ra(e,t);var s=0!==(128&t.flags);if(!n&&!s)return o&&Go(t,i,!1),Ua(e,t,r);n=t.stateNode,Ca.current=t;var a=s&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=br(t,e.child,null,r),t.child=br(t,null,a,r)):wa(e,t,a,r),t.memoizedState=n.state,o&&Go(t,i,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),Xr(e,t.containerInfo)}function Ma(e,t,i,n,o){return gr(),fr(o),t.flags|=256,wa(e,t,i,n),t.child}var _a,ka,Fa,La,Na={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ia(e,t,i){var n,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Do(es,1&s),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ou(l,o,0,null),e=Nu(e,o,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(i),t.memoizedState=Na,e):Ga(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,i,n,o,s,a){if(i)return 256&t.flags?(t.flags&=-257,Va(e,t,a,n=ca(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=Ou({mode:"visible",children:n.children},o,0,null),(s=Nu(s,o,a,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&br(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Na,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Va(e,t,a,n=ca(s=Error(r(419)),n,void 0))}if(l=0!==(a&e.childLanes),ya||l){if(null!==(n=Al)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Nr(e,o),iu(n,e,o,-1))}return fu(),Va(e,t,a,n=ca(Error(r(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Du.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,or=uo(o.nextSibling),nr=t,rr=!0,sr=null,null!==e&&(qo[Qo++]=$o,qo[Qo++]=Jo,qo[Qo++]=Xo,$o=e.id,Jo=e.overflow,Xo=t),t=Ga(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,s,i);if(a){a=o.fallback,l=t.mode,n=(s=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Fu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==n?a=Fu(n,a):(a=Nu(a,l,i,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=Na,o}return e=(a=e.child).sibling,o=Fu(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=i),o.return=t,o.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Ga(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,i,n){return null!==n&&fr(n),br(t,e.child,null,i),(e=Ga(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ha(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ar(e.return,t,i)}function Ba(e,t,i,n,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=o)}function Wa(e,t,i){var n=t.pendingProps,o=n.revealOrder,r=n.tail;if(wa(e,t,n.children,i),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,i,t);else if(19===e.tag)Ha(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Do(es,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(i=t.child,o=null;null!==i;)null!==(e=i.alternate)&&null===ts(e)&&(o=i),i=i.sibling;null===(i=o)?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Ba(t,!1,o,i,r);break;case"backwards":for(i=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Ba(t,!0,i,null,r);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(i=Fu(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Fu(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function ja(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Ya(e,t,i){var n=t.pendingProps;switch(ir(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Fo(t.type)&&Lo(),Ka(t),null;case 3:return n=t.stateNode,$r(),To(Mo),To(Ao),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sr&&(su(sr),sr=null))),ka(e,t),Ka(t),null;case 5:Zr(t);var o=Qr(qr.current);if(i=t.type,null!==e&&null!=t.stateNode)Fa(e,t,i,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return Ka(t),null}if(e=Qr(Kr.current),hr(t)){n=t.stateNode,i=t.type;var s=t.memoizedProps;switch(n[po]=t,n[go]=s,e=0!==(1&t.mode),i){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(o=0;o<Nn.length;o++)Vn(Nn[o],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":X(n,s),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Vn("invalid",n);break;case"textarea":oe(n,s),Vn("invalid",n)}for(var l in Ce(i,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jn(n.textContent,u,e),o=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jn(n.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vn("scroll",n)}switch(i){case"input":K(n),Z(n,s,!0);break;case"textarea":K(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Zn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[po]=t,e[go]=n,_a(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(i,n),i){case"dialog":Vn("cancel",e),Vn("close",e),o=n;break;case"iframe":case"object":case"embed":Vn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Nn.length;o++)Vn(Nn[o],e);o=n;break;case"source":Vn("error",e),o=n;break;case"img":case"image":case"link":Vn("error",e),Vn("load",e),o=n;break;case"details":Vn("toggle",e),o=n;break;case"input":X(e,n),o=Q(e,n),Vn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=I({},n,{value:void 0}),Vn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),Vn("invalid",e)}for(s in Ce(i,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==i||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Vn("scroll",e):null!=c&&y(e,s,c,l))}switch(i){case"input":K(e),Z(e,n,!1);break;case"textarea":K(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+U(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ie(e,!!n.multiple,s,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zn)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(i=Qr(qr.current),Qr(Kr.current),hr(t)){if(n=t.stateNode,i=t.memoizedProps,n[po]=t,(s=n.nodeValue!==i)&&null!==(e=nr))switch(e.tag){case 3:Jn(n.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,i,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[po]=t,t.stateNode=n}return Ka(t),null;case 13:if(To(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==or&&0!==(1&t.mode)&&0===(128&t.flags))pr(),gr(),t.flags|=98560,s=!1;else if(s=hr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[po]=t}else gr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==sr&&(su(sr),sr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):fu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return $r(),ka(e,t),null===e&&Wn(t.stateNode.containerInfo),Ka(t),null;case 10:return Pr(t.type._context),Ka(t),null;case 19:if(To(es),null===(s=t.memoizedState))return Ka(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)ja(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,ja(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(s=i).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Do(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Wl&&(t.flags|=128,n=!0,ja(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),ja(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!rr)return Ka(t),null}else 2*$e()-s.renderingStartTime>Wl&&1073741824!==i&&(t.flags|=128,n=!0,ja(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=s.last)?i.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,i=es.current,Do(es,n?1&i|2:1&i),t):(Ka(t),null);case 22:case 23:return du(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&kl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function qa(e,t){switch(ir(t),t.tag){case 1:return Fo(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $r(),To(Mo),To(Ao),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(To(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));gr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(es),null;case 4:return $r(),null;case 10:return Pr(t.type._context),null;case 22:case 23:return du(),null;default:return null}}_a=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ka=function(){},Fa=function(e,t,i,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Qr(Kr.current);var r,s=null;switch(i){case"input":o=Q(e,o),n=Q(e,n),s=[];break;case"select":o=I({},o,{value:void 0}),n=I({},n,{value:void 0}),s=[];break;case"textarea":o=ne(e,o),n=ne(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(c in Ce(i,n),i=null,o)if(!n.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(r in l)l.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(l=null!=o?o[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(r in l)!l.hasOwnProperty(r)||u&&u.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in u)u.hasOwnProperty(r)&&l[r]!==u[r]&&(i||(i={}),i[r]=u[r])}else i||(s||(s=[]),s.push(c,i)),i=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vn("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}i&&(s=s||[]).push("style",i);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,i,n){i!==n&&(t.flags|=4)};var Qa=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){xu(e,t,n)}else i.current=null}function el(e,t,i){try{i()}catch(n){xu(e,t,n)}}var tl=!1;function il(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&el(t,i,r)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function ol(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[go],delete t[mo],delete t[vo],delete t[Co])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,i),e=e.sibling;null!==e;)ll(e,t,i),e=e.sibling}function ul(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ul(e,t,i),e=e.sibling;null!==e;)ul(e,t,i),e=e.sibling}var cl=null,dl=!1;function hl(e,t,i){for(i=i.child;null!==i;)pl(e,t,i),i=i.sibling}function pl(e,t,i){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(ot,i)}catch(a){}switch(i.tag){case 5:Xa||Za(i,t);case 6:var n=cl,o=dl;cl=null,hl(e,t,i),dl=o,null!==(cl=n)&&(dl?(e=cl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):cl.removeChild(i.stateNode));break;case 18:null!==cl&&(dl?(e=cl,i=i.stateNode,8===e.nodeType?lo(e.parentNode,i):1===e.nodeType&&lo(e,i),Wt(e)):lo(cl,i.stateNode));break;case 4:n=cl,o=dl,cl=i.stateNode.containerInfo,dl=!0,hl(e,t,i),cl=n,dl=o;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&el(i,t,s),o=o.next}while(o!==n)}hl(e,t,i);break;case 1:if(!Xa&&(Za(i,t),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){xu(i,t,a)}hl(e,t,i);break;case 21:hl(e,t,i);break;case 22:1&i.mode?(Xa=(n=Xa)||null!==i.memoizedState,hl(e,t,i),Xa=n):hl(e,t,i);break;default:hl(e,t,i)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new $a),t.forEach((function(t){var n=Pu.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function fl(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var o=i[n];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(r(160));pl(s,a,o),cl=null,dl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){xu(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&n){try{il(3,e,e.return),nl(3,e)}catch(m){xu(e,e.return,m)}try{il(5,e,e.return)}catch(m){xu(e,e.return,m)}}break;case 1:fl(t,e),vl(e),512&n&&null!==i&&Za(i,i.return);break;case 5:if(fl(t,e),vl(e),512&n&&null!==i&&Za(i,i.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(m){xu(e,e.return,m)}}if(4&n&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==i?i.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(o,s),ye(l,a);var c=ye(l,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?me(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):y(o,d,h,c)}switch(l){case"input":J(o,s);break;case"textarea":re(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?ie(o,!!s.multiple,g,!1):p!==!!s.multiple&&(null!=s.defaultValue?ie(o,!!s.multiple,s.defaultValue,!0):ie(o,!!s.multiple,s.multiple?[]:"",!1))}o[go]=s}catch(m){xu(e,e.return,m)}}break;case 6:if(fl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(r(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(m){xu(e,e.return,m)}}break;case 3:if(fl(t,e),vl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){xu(e,e.return,m)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=$e())),4&n&&gl(e);break;case 22:if(d=null!==i&&null!==i.memoizedState,1&e.mode?(Xa=(c=Xa)||d,fl(t,e),Xa=c):fl(t,e),vl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(g=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:Za(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,i=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){xu(n,i,m)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){bl(h);continue}}null!==g?(g.return=p,Ja=g):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,c?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=fe("display",a))}catch(m){xu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){xu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&n&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(sl(i)){var n=i;break e}i=i.return}throw Error(r(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(he(o,""),n.flags&=-33),ul(e,al(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(r(161))}}catch(a){xu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,i){Ja=e,yl(e,t,i)}function yl(e,t,i){for(var n=0!==(1&e.mode);null!==Ja;){var o=Ja,r=o.child;if(22===o.tag&&n){var s=null!==o.memoizedState||Qa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var u=Xa;if(Qa=s,(Xa=l)&&!u)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?El(o):null!==l?(l.return=s,Ja=l):El(o);for(;null!==r;)Ja=r,yl(r,t,i),r=r.sibling;Ja=o,Qa=a,Xa=u}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==r?(r.return=o,Ja=r):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xa)if(null===i)n.componentDidMount();else{var o=t.elementType===t.type?i.memoizedProps:ia(t.type,i.memoizedProps);n.componentDidUpdate(o,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ur(t,s,n);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Ur(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&i.focus();break;case"img":u.src&&(i.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(r(163))}Xa||512&t.flags&&ol(t)}catch(p){xu(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(i=t.sibling)){i.return=t.return,Ja=i;break}Ja=t.return}}function bl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ja=i;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(l){xu(t,i,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){xu(t,o,l)}}var r=t.return;try{ol(t)}catch(l){xu(t,r,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){xu(t,s,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Sl,xl=Math.ceil,Rl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Dl=w.ReactCurrentBatchConfig,Pl=0,Al=null,Ml=null,_l=0,kl=0,Fl=Ro(0),Ll=0,Nl=null,Ol=0,Il=0,Gl=0,Vl=null,Hl=null,Bl=0,Wl=1/0,zl=null,Ul=!1,jl=null,Kl=null,Yl=!1,ql=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Pl)?$e():-1!==Jl?Jl:Jl=$e()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==_l?_l&-_l:null!==mr.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function iu(e,t,i,n){if(50<Xl)throw Xl=0,$l=null,Error(r(185));vt(e,i,n),0!==(2&Pl)&&e===Al||(e===Al&&(0===(2&Pl)&&(Il|=i),4===Ll&&au(e,_l)),nu(e,n),1===i&&0===Pl&&0===(1&t.mode)&&(Wl=$e()+500,Ho&&zo()))}function nu(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),a=1<<s,l=o[s];-1===l?0!==(a&i)&&0===(a&n)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var n=ht(e,e===Al?_l:0);if(0===n)null!==i&&qe(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&qe(i),1===t)0===e.tag?function(e){Ho=!0,Wo(e)}(lu.bind(null,e)):Wo(lu.bind(null,e)),so((function(){0===(6&Pl)&&zo()})),i=null;else{switch(wt(n)){case 1:i=Ze;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=Au(i,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ou(e,t){if(Jl=-1,Zl=0,0!==(6&Pl))throw Error(r(327));var i=e.callbackNode;if(Eu()&&e.callbackNode!==i)return null;var n=ht(e,e===Al?_l:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mu(e,n);else{t=n;var o=Pl;Pl|=2;var s=gu();for(Al===e&&_l===t||(zl=null,Wl=$e()+500,hu(e,t));;)try{Cu();break}catch(l){pu(e,l)}Dr(),Rl.current=s,Pl=o,null!==Ml?t=0:(Al=null,_l=0,t=Ll)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(n=o,t=ru(e,o))),1===t)throw i=Nl,hu(e,0),au(e,n),nu(e,$e()),i;if(6===t)au(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var o=i[n],r=o.getSnapshot;o=o.value;try{if(!an(r(),o))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=mu(e,n))&&(0!==(s=gt(e))&&(n=s,t=ru(e,s))),1===t))throw i=Nl,hu(e,0),au(e,n),nu(e,$e()),i;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:bu(e,Hl,zl);break;case 3:if(au(e,n),(130023424&n)===n&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&n)!==n){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(bu.bind(null,e,Hl,zl),t);break}bu(e,Hl,zl);break;case 4:if(au(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-st(n);s=1<<a,(a=t[a])>o&&(o=a),n&=~s}if(n=o,10<(n=(120>(n=$e()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xl(n/1960))-n)){e.timeoutHandle=no(bu.bind(null,e,Hl,zl),n);break}bu(e,Hl,zl);break;default:throw Error(r(329))}}}return nu(e,$e()),e.callbackNode===i?ou.bind(null,e):null}function ru(e,t){var i=Vl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Hl,Hl=i,null!==t&&su(t)),e}function su(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function au(e,t){for(t&=~Gl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-st(t),n=1<<i;e[i]=-1,t&=~n}}function lu(e){if(0!==(6&Pl))throw Error(r(327));Eu();var t=ht(e,0);if(0===(1&t))return nu(e,$e()),null;var i=mu(e,t);if(0!==e.tag&&2===i){var n=gt(e);0!==n&&(t=n,i=ru(e,n))}if(1===i)throw i=Nl,hu(e,0),au(e,t),nu(e,$e()),i;if(6===i)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Hl,zl),nu(e,$e()),null}function uu(e,t){var i=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=i)&&(Wl=$e()+500,Ho&&zo())}}function cu(e){null!==ql&&0===ql.tag&&0===(6&Pl)&&Eu();var t=Pl;Pl|=1;var i=Dl.transition,n=yt;try{if(Dl.transition=null,yt=1,e)return e()}finally{yt=n,Dl.transition=i,0===(6&(Pl=t))&&zo()}}function du(){kl=Fl.current,To(Fl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,oo(i)),null!==Ml)for(i=Ml.return;null!==i;){var n=i;switch(ir(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Lo();break;case 3:$r(),To(Mo),To(Ao),ns();break;case 5:Zr(n);break;case 4:$r();break;case 13:case 19:To(es);break;case 10:Pr(n.type._context);break;case 22:case 23:du()}i=i.return}if(Al=e,Ml=e=Fu(e.current,null),_l=kl=t,Ll=0,Nl=null,Gl=Il=Ol=0,Hl=Vl=null,null!==kr){for(t=0;t<kr.length;t++)if(null!==(n=(i=kr[t]).interleaved)){i.interleaved=null;var o=n.next,r=i.pending;if(null!==r){var s=r.next;r.next=o,n.next=s}i.pending=n}kr=null}return e}function pu(e,t){for(;;){var i=Ml;try{if(Dr(),os.current=Js,cs){for(var n=as.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}cs=!1}if(ss=0,us=ls=as=null,ds=!1,hs=0,Tl.current=null,null===i||null===i.return){Ll=1,Nl=t,Ml=null;break}e:{var s=e,a=i.return,l=i,u=t;if(t=_l,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ma(a);if(null!==g){g.flags&=-257,va(g,a,l,0,t),1&g.mode&&fa(s,c,t),u=c;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(u),t.updateQueue=m}else f.add(u);break e}if(0===(1&t)){fa(s,c,t),fu();break e}u=Error(r(426))}else if(rr&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fr(ua(u,l));break e}}s=u=ua(u,l),4!==Ll&&(Ll=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Wr(s,pa(0,u,t));break e;case 1:l=u;var C=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof C.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Kl||!Kl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Wr(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}wu(i)}catch(w){t=w,Ml===i&&null!==i&&(Ml=i=i.return);continue}break}}function gu(){var e=Rl.current;return Rl.current=Js,null===e?Js:e}function fu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ol)&&0===(268435455&Il)||au(Al,_l)}function mu(e,t){var i=Pl;Pl|=2;var n=gu();for(Al===e&&_l===t||(zl=null,hu(e,t));;)try{vu();break}catch(o){pu(e,o)}if(Dr(),Pl=i,Rl.current=n,null!==Ml)throw Error(r(261));return Al=null,_l=0,Ll}function vu(){for(;null!==Ml;)yu(Ml)}function Cu(){for(;null!==Ml&&!Qe();)yu(Ml)}function yu(e){var t=Sl(e.alternate,e,kl);e.memoizedProps=e.pendingProps,null===t?wu(e):Ml=t,Tl.current=null}function wu(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Ya(i,t,kl)))return void(Ml=i)}else{if(null!==(i=qa(i,t)))return i.flags&=32767,void(Ml=i);if(null===e)return Ll=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Ll&&(Ll=5)}function bu(e,t,i){var n=yt,o=Dl.transition;try{Dl.transition=null,yt=1,function(e,t,i,n){do{Eu()}while(null!==ql);if(0!==(6&Pl))throw Error(r(327));i=e.finishedWork;var o=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-st(i),r=1<<o;t[o]=0,n[o]=-1,e[o]=-1,i&=~r}}(e,s),e===Al&&(Ml=Al=null,_l=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Yl||(Yl=!0,Au(tt,(function(){return Eu(),null}))),s=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||s){s=Dl.transition,Dl.transition=null;var a=yt;yt=1;var l=Pl;Pl|=4,Tl.current=null,function(e,t){if(eo=Ut,pn(e=hn())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{i.nodeType,s.nodeType}catch(b){i=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==i||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==n&&3!==h.nodeType||(u=a+n),3===h.nodeType&&(a+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===i&&++c===o&&(l=a),p===s&&++d===n&&(u=a),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}i=-1===l||-1===u?null:{start:l,end:u}}else i=null}i=i||{start:0,end:0}}else i=null;for(to={focusedElem:e,selectionRange:i},Ut=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,v=f.memoizedState,C=t.stateNode,y=C.getSnapshotBeforeUpdate(t.elementType===t.type?m:ia(t.type,m),v);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(b){xu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}f=tl,tl=!1}(e,i),ml(i,e),gn(to),Ut=!!eo,to=eo=null,e.current=i,Cl(i,e,o),Xe(),Pl=l,yt=a,Dl.transition=s}else e.current=i;if(Yl&&(Yl=!1,ql=e,Ql=o),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),nu(e,$e()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)o=t[i],n(o.value,{componentStack:o.stack,digest:o.digest});if(Ul)throw Ul=!1,e=jl,jl=null,e;0!==(1&Ql)&&0!==e.tag&&Eu(),s=e.pendingLanes,0!==(1&s)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zo()}(e,t,i,n)}finally{Dl.transition=o,yt=n}return null}function Eu(){if(null!==ql){var e=wt(Ql),t=Dl.transition,i=yt;try{if(Dl.transition=null,yt=16>e?16:e,null===ql)var n=!1;else{if(e=ql,ql=null,Ql=0,0!==(6&Pl))throw Error(r(331));var o=Pl;for(Pl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:il(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,g=d.return;if(rl(d),d===c){Ja=null;break}if(null!==p){p.return=g,Ja=p;break}Ja=g}}}var f=s.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var C=s.sibling;if(null!==C){C.return=s.return,Ja=C;break e}Ja=s.return}}var y=e.current;for(Ja=y;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=y;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(E){xu(l,l.return,E)}if(l===a){Ja=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Ja=b;break e}Ja=l.return}}if(Pl=o,zo(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(ot,e)}catch(E){}n=!0}return n}finally{yt=i,Dl.transition=t}}return!1}function Su(e,t,i){e=Hr(e,t=pa(0,t=ua(i,t),1),1),t=eu(),null!==e&&(vt(e,1,t),nu(e,t))}function xu(e,t,i){if(3===e.tag)Su(e,e,i);else for(;null!==t;){if(3===t.tag){Su(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Kl||!Kl.has(n))){t=Hr(t,e=ga(t,e=ua(i,e),1),1),e=eu(),null!==t&&(vt(t,1,e),nu(t,e));break}}t=t.return}}function Ru(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&i,Al===e&&(_l&i)===i&&(4===Ll||3===Ll&&(130023424&_l)===_l&&500>$e()-Bl?hu(e,0):Gl|=i),nu(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var i=eu();null!==(e=Nr(e,t))&&(vt(e,t,i),nu(e,i))}function Du(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Tu(e,i)}function Pu(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(i=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),Tu(e,i)}function Au(e,t){return Ye(e,t)}function Mu(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _u(e,t,i,n){return new Mu(e,t,i,n)}function ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fu(e,t){var i=e.alternate;return null===i?((i=_u(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Lu(e,t,i,n,o,s){var a=2;if(n=e,"function"===typeof e)ku(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Nu(i.children,o,s,t);case x:a=8,o|=8;break;case R:return(e=_u(12,i,t,2|o)).elementType=R,e.lanes=s,e;case A:return(e=_u(13,i,t,o)).elementType=A,e.lanes=s,e;case M:return(e=_u(19,i,t,o)).elementType=M,e.lanes=s,e;case F:return Ou(i,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case D:a=9;break e;case P:a=11;break e;case _:a=14;break e;case k:a=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=_u(a,i,t,o)).elementType=e,t.type=n,t.lanes=s,t}function Nu(e,t,i,n){return(e=_u(7,e,n,t)).lanes=i,e}function Ou(e,t,i,n){return(e=_u(22,e,n,t)).elementType=F,e.lanes=i,e.stateNode={isHidden:!1},e}function Iu(e,t,i){return(e=_u(6,e,null,t)).lanes=i,e}function Gu(e,t,i){return(t=_u(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,i,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Hu(e,t,i,n,o,r,s,a,l){return e=new Vu(e,t,i,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=_u(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ir(r),e}function Bu(e){if(!e)return Po;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var i=e.type;if(Fo(i))return Oo(e,i,t)}return t}function Wu(e,t,i,n,o,r,s,a,l){return(e=Hu(i,n,!0,e,0,r,0,a,l)).context=Bu(null),i=e.current,(r=Vr(n=eu(),o=tu(i))).callback=void 0!==t&&null!==t?t:null,Hr(i,r,o),e.current.lanes=o,vt(e,o,n),nu(e,n),e}function zu(e,t,i,n){var o=t.current,r=eu(),s=tu(o);return i=Bu(i),null===t.context?t.context=i:t.pendingContext=i,(t=Vr(r,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Hr(o,t,s))&&(iu(e,o,s,r),Br(e,o,s)),s}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ju(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Ku(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}Sl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mo.current)ya=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return ya=!1,function(e,t,i){switch(t.tag){case 3:Aa(t),gr();break;case 5:Jr(t);break;case 1:Fo(t.type)&&Io(t);break;case 4:Xr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Do(Sr,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Do(es,1&es.current),t.flags|=128,null):0!==(i&t.child.childLanes)?Ia(e,t,i):(Do(es,1&es.current),null!==(e=Ua(e,t,i))?e.sibling:null);Do(es,1&es.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(128&e.flags)){if(n)return Wa(e,t,i);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Do(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,i)}return Ua(e,t,i)}(e,t,i);ya=0!==(131072&e.flags)}else ya=!1,rr&&0!==(1048576&t.flags)&&er(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;za(e,t),e=t.pendingProps;var o=ko(t,Ao.current);Mr(t,i),o=ms(null,t,n,e,o,i);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fo(n)?(s=!0,Io(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ir(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,n,e,i),t=Pa(null,t,n,!0,s,i)):(t.tag=0,rr&&s&&tr(t),wa(null,t,o,i),t=t.child),t;case 16:n=t.elementType;e:{switch(za(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===_)return 14}return 2}(n),e=ia(n,e),o){case 0:t=Ta(null,t,n,e,i);break e;case 1:t=Da(null,t,n,e,i);break e;case 11:t=ba(null,t,n,e,i);break e;case 14:t=Ea(null,t,n,ia(n.type,e),i);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Ta(e,t,n,o=t.elementType===n?o:ia(n,o),i);case 1:return n=t.type,o=t.pendingProps,Da(e,t,n,o=t.elementType===n?o:ia(n,o),i);case 3:e:{if(Aa(t),null===e)throw Error(r(387));n=t.pendingProps,o=(s=t.memoizedState).element,Gr(e,t),zr(t,n,null,i);var a=t.memoizedState;if(n=a.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ma(e,t,n,i,o=ua(Error(r(423)),t));break e}if(n!==o){t=Ma(e,t,n,i,o=ua(Error(r(424)),t));break e}for(or=uo(t.stateNode.containerInfo.firstChild),nr=t,rr=!0,sr=null,i=Er(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(gr(),n===o){t=Ua(e,t,i);break e}wa(e,t,n,i)}t=t.child}return t;case 5:return Jr(t),null===e&&cr(t),n=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,io(n,o)?a=null:null!==s&&io(n,s)&&(t.flags|=32),Ra(e,t),wa(e,t,a,i),t.child;case 6:return null===e&&cr(t),null;case 13:return Ia(e,t,i);case 4:return Xr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=br(t,null,n,i):wa(e,t,n,i),t.child;case 11:return n=t.type,o=t.pendingProps,ba(e,t,n,o=t.elementType===n?o:ia(n,o),i);case 7:return wa(e,t,t.pendingProps,i),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Do(Sr,n._currentValue),n._currentValue=a,null!==s)if(an(s.value,a)){if(s.children===o.children&&!Mo.current){t=Ua(e,t,i);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===s.tag){(u=Vr(-1,i&-i)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=i,null!==(u=s.alternate)&&(u.lanes|=i),Ar(s.return,i,t),l.lanes|=i;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Ar(a,i,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,i),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Mr(t,i),n=n(o=_r(o)),t.flags|=1,wa(e,t,n,i),t.child;case 14:return o=ia(n=t.type,t.pendingProps),Ea(e,t,n,o=ia(n.type,o),i);case 15:return Sa(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:ia(n,o),za(e,t),t.tag=1,Fo(n)?(e=!0,Io(t)):e=!1,Mr(t,i),sa(t,n,o),la(t,n,o,i),Pa(null,t,n,!0,e,i);case 19:return Wa(e,t,i);case 22:return xa(e,t,i)}throw Error(r(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,i,n,o){var r=i._reactRootContainer;if(r){var s=r;if("function"===typeof o){var a=o;o=function(){var e=Uu(s);a.call(e)}}zu(t,s,e,o)}else s=function(e,t,i,n,o){if(o){if("function"===typeof n){var r=n;n=function(){var e=Uu(s);r.call(e)}}var s=Wu(t,n,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[fo]=s.current,Wn(8===e.nodeType?e.parentNode:e),cu(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var a=n;n=function(){var e=Uu(l);a.call(e)}}var l=Hu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[fo]=l.current,Wn(8===e.nodeType?e.parentNode:e),cu((function(){zu(t,l,i,n)})),l}(i,t,e,o,n);return Uu(s)}Qu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));zu(e,t,null,null)},Qu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){zu(null,e,null,null)})),t[fo]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ft.length&&0!==t&&t<Ft[i].priority;i++);Ft.splice(i,0,e),0===i&&It(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=dt(t.pendingLanes);0!==i&&(Ct(t,1|i),nu(t,$e()),0===(6&Pl)&&(Wl=$e()+500,zo()))}break;case 13:cu((function(){var t=Nr(e,1);if(null!==t){var i=eu();iu(t,e,1,i)}})),Ku(e,1)}},Et=function(e){if(13===e.tag){var t=Nr(e,134217728);if(null!==t)iu(t,e,134217728,eu());Ku(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),i=Nr(e,t);if(null!==i)iu(i,e,t,eu());Ku(e,t)}},xt=function(){return yt},Rt=function(e,t){var i=yt;try{return yt=e,t()}finally{yt=i}},Ee=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var o=Eo(n);if(!o)throw Error(r(90));Y(n),J(n,o)}}}break;case"textarea":re(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Pe=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[wo,bo,Eo,Te,De,uu]},tc={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ic={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{ot=nc.inject(ic),rt=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(r(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Xu(e))throw Error(r(299));var i=!1,n="",o=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Hu(e,1,!1,null,0,i,0,n,o),e[fo]=t.current,Wn(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,i){if(!$u(t))throw Error(r(200));return Zu(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Xu(e))throw Error(r(405));var n=null!=i&&i.hydratedSources||null,o=!1,s="",a=Yu;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(o=!0),void 0!==i.identifierPrefix&&(s=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Wu(t,null,e,1,null!=i?i:null,o,0,s,a),e[fo]=t.current,Wn(e),n)for(e=0;e<n.length;e++)o=(o=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,o]:t.mutableSourceEagerHydrationData.push(i,o);return new Qu(t)},t.render=function(e,t,i){if(!$u(t))throw Error(r(200));return Zu(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(r(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fo]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!$u(i))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zu(e,t,i,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,i)=>{"use strict";var n=i(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},7950:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(2730)},6885:(e,t,i)=>{"use strict";var n,o;n=i(2160),o=i(8556),n.version,n.renderToString,t.qV=n.renderToStaticMarkup,n.renderToNodeStream,n.renderToStaticNodeStream,o.renderToReadableStream},1153:(e,t,i)=>{"use strict";var n=i(5043),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,i){var n,r={},u=null,c=null;for(n in void 0!==i&&(u=""+i),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:c,props:r,_owner:a.current}}t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function v(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||g}function C(){}function y(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=v.prototype;var w=y.prototype=new C;w.constructor=y,f(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var o,r={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,o)&&!x.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:i,type:e,key:s,ref:a,props:r,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var D=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,o,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return s=s(l=e),e=""===r?"."+P(l,0):r,b(s)?(o="",null!=e&&(o=e.replace(D,"$&/")+"/"),A(s,t,o,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(D,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",b(e))for(var u=0;u<e.length;u++){var c=r+P(a=e[u],u);l+=A(a,t,o,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,o,c=r+P(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,i){if(null==e)return e;var n=[],o=0;return A(e,n,"","",(function(e){return t.call(i,e,o++)})),n}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var k={current:null},F={transition:null},L={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:F,ReactCurrentOwner:S};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,i){M(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=y,t.StrictMode=r,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),r=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!x.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:i,type:e.type,key:r,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return k.current.useCallback(e,t)},t.useContext=function(e){return k.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return k.current.useDeferredValue(e)},t.useEffect=function(e,t){return k.current.useEffect(e,t)},t.useId=function(){return k.current.useId()},t.useImperativeHandle=function(e,t,i){return k.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return k.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.current.useMemo(e,t)},t.useReducer=function(e,t,i){return k.current.useReducer(e,t,i)},t.useRef=function(e){return k.current.useRef(e)},t.useState=function(e){return k.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return k.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return k.current.useTransition()},t.version="18.3.1"},5043:(e,t,i)=>{"use strict";e.exports=i(4202)},579:(e,t,i)=>{"use strict";e.exports=i(1153)},7234:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,o=e[n];if(!(0<r(o,t)))break e;e[n]=t,e[i]=o,i=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var a=2*(n+1)-1,l=e[a],u=a+1,c=e[u];if(0>r(l,i))u<o&&0>r(c,l)?(e[n]=c,e[u]=i,n=u):(e[n]=l,e[a]=i,n=a);else{if(!(u<o&&0>r(c,i)))break e;e[n]=c,e[u]=i,n=u}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,p=3,g=!1,f=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,C="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,i(u,t)}t=n(c)}}function b(e){if(m=!1,w(e),!f)if(null!==n(u))f=!0,F(E);else{var t=n(c);null!==t&&L(b,t.startTime-e)}}function E(e,i){f=!1,m&&(m=!1,C(T),T=-1),g=!0;var r=p;try{for(w(i),h=n(u);null!==h&&(!(h.expirationTime>i)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?h.callback=a:h===n(u)&&o(u),w(i)}else o(u);h=n(u)}if(null!==h)var l=!0;else{var d=n(c);null!==d&&L(b,d.startTime-i),l=!1}return l}finally{h=null,p=r,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,R=null,T=-1,D=5,P=-1;function A(){return!(t.unstable_now()-P<D)}function M(){if(null!==R){var e=t.unstable_now();P=e;var i=!0;try{i=R(!0,e)}finally{i?S():(x=!1,R=null)}}else x=!1}if("function"===typeof y)S=function(){y(M)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,k=_.port2;_.port1.onmessage=M,S=function(){k.postMessage(null)}}else S=function(){v(M,0)};function F(e){R=e,x||(x=!0,S())}function L(e,i){T=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,F(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,i(c,e),null===n(u)&&e===n(c)&&(m?(C(T),T=-1):m=!0,L(b,r-s))):(e.sortIndex=a,i(u,e),f||g||(f=!0,F(E))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},8853:(e,t,i)=>{"use strict";e.exports=i(7234)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=s(e,r(i)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=s(t,i));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n](r,r.exports,i),r.loaded=!0,r.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);i.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(r,s),r}})(),i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+".c68d981d.chunk.js",i.miniCssF=e=>{},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="progress-narrative:";i.l=(n,o,r,s)=>{if(e[n])e[n].push(o);else{var a,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[o];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/progress-narrative/",(()=>{var e={792:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((i,n)=>o=e[t]=[i,n]));n.push(o[2]=r);var s=i.p+i.u(t),a=new Error;i.l(s,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,s=n[0],a=n[1],l=n[2],u=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)l(i)}for(t&&t(n);u<s.length;u++)r=s[u],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkprogress_narrative=self.webpackChunkprogress_narrative||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(5043),t=i.t(e,2),n=i(4391),o=i(579);class r extends e.Component{render(){return(0,o.jsx)("div",{children:"Homepage, insert interesting stuff here"})}}class s extends e.Component{render(){return(0,o.jsx)("div",{children:"itme"})}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t,i){return(t=l(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e){return e+.5|0}const d=(e,t,i)=>Math.max(Math.min(e,i),t);function h(e){return d(c(2.55*e),0,255)}function p(e){return d(c(255*e),0,255)}function g(e){return d(c(e/2.55)/100,0,1)}function f(e){return d(c(100*e),0,100)}const m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},v=[..."0123456789ABCDEF"],C=e=>v[15&e],y=e=>v[(240&e)>>4]+v[15&e],w=e=>(240&e)>>4===(15&e);function b(e){var t=(e=>w(e.r)&&w(e.g)&&w(e.b)&&w(e.a))(e)?C:y;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const E=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function S(e,t,i){const n=t*Math.min(i,1-i),o=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return i-n*Math.max(Math.min(o-3,9-o,1),-1)};return[o(0),o(8),o(4)]}function x(e,t,i){const n=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return i-i*t*Math.max(Math.min(o,4-o,1),0)};return[n(5),n(3),n(1)]}function R(e,t,i){const n=S(e,1,.5);let o;for(t+i>1&&(o=1/(t+i),t*=o,i*=o),o=0;o<3;o++)n[o]*=1-t-i,n[o]+=t;return n}function T(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),r=Math.min(t,i,n),s=(o+r)/2;let a,l,u;return o!==r&&(u=o-r,l=s>.5?u/(2-o-r):u/(o+r),a=function(e,t,i,n,o){return e===o?(t-i)/n+(t<i?6:0):t===o?(i-e)/n+2:(e-t)/n+4}(t,i,n,u,o),a=60*a+.5),[0|a,l||0,s]}function D(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(p)}function P(e,t,i){return D(S,e,t,i)}function A(e){return(e%360+360)%360}function M(e){const t=E.exec(e);let i,n=255;if(!t)return;t[5]!==i&&(n=t[6]?h(+t[5]):p(+t[5]));const o=A(+t[2]),r=+t[3]/100,s=+t[4]/100;return i="hwb"===t[1]?function(e,t,i){return D(R,e,t,i)}(o,r,s):"hsv"===t[1]?function(e,t,i){return D(x,e,t,i)}(o,r,s):P(o,r,s),{r:i[0],g:i[1],b:i[2],a:n}}const _={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let F;function L(e){F||(F=function(){const e={},t=Object.keys(k),i=Object.keys(_);let n,o,r,s,a;for(n=0;n<t.length;n++){for(s=a=t[n],o=0;o<i.length;o++)r=i[o],a=a.replace(r,_[r]);r=parseInt(k[s],16),e[a]=[r>>16&255,r>>8&255,255&r]}return e}(),F.transparent=[0,0,0,0]);const t=F[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const N=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const O=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,I=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function G(e,t,i){if(e){let n=T(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=P(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function V(e,t){return e?Object.assign(t||{},e):e}function H(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=p(e[3]))):(t=V(e,{r:0,g:0,b:0,a:1})).a=p(t.a),t}function B(e){return"r"===e.charAt(0)?function(e){const t=N.exec(e);let i,n,o,r=255;if(t){if(t[7]!==i){const e=+t[7];r=t[8]?h(e):d(255*e,0,255)}return i=+t[1],n=+t[3],o=+t[5],i=255&(t[2]?h(i):d(i,0,255)),n=255&(t[4]?h(n):d(n,0,255)),o=255&(t[6]?h(o):d(o,0,255)),{r:i,g:n,b:o,a:r}}}(e):M(e)}class W{constructor(e){if(e instanceof W)return e;const t=typeof e;let i;"object"===t?i=H(e):"string"===t&&(i=function(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*m[e[1]],g:255&17*m[e[2]],b:255&17*m[e[3]],a:5===i?17*m[e[4]]:255}:7!==i&&9!==i||(t={r:m[e[1]]<<4|m[e[2]],g:m[e[3]]<<4|m[e[4]],b:m[e[5]]<<4|m[e[6]],a:9===i?m[e[7]]<<4|m[e[8]]:255})),t}(e)||L(e)||B(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=V(this._rgb);return e&&(e.a=g(e.a)),e}set rgb(e){this._rgb=H(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(g(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?b(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=T(e),i=t[0],n=f(t[1]),o=f(t[2]);return e.a<255?"hsla(".concat(i,", ").concat(n,"%, ").concat(o,"%, ").concat(g(e.a),")"):"hsl(".concat(i,", ").concat(n,"%, ").concat(o,"%)")}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let o;const r=t===o?.5:t,s=2*r-1,a=i.a-n.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;o=1-l,i.r=255&l*i.r+o*n.r+.5,i.g=255&l*i.g+o*n.g+.5,i.b=255&l*i.b+o*n.b+.5,i.a=r*i.a+(1-r)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){const n=I(g(e.r)),o=I(g(e.g)),r=I(g(e.b));return{r:p(O(n+i*(I(g(t.r))-n))),g:p(O(o+i*(I(g(t.g))-o))),b:p(O(r+i*(I(g(t.b))-r))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new W(this.rgb)}alpha(e){return this._rgb.a=p(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=c(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return G(this._rgb,2,e),this}darken(e){return G(this._rgb,2,-e),this}saturate(e){return G(this._rgb,1,e),this}desaturate(e){return G(this._rgb,1,-e),this}rotate(e){return function(e,t){var i=T(e);i[0]=A(i[0]+t),i=P(i),e.r=i[0],e.g=i[1],e.b=i[2]}(this._rgb,e),this}}function z(){}const U=(()=>{let e=0;return()=>e++})();function j(e){return null===e||"undefined"===typeof e}function K(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Y(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function q(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Q(e,t){return q(e)?e:t}function X(e,t){return"undefined"===typeof e?t:e}const $=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function J(e,t,i){if(e&&"function"===typeof e.call)return e.apply(i,t)}function Z(e,t,i,n){let o,r,s;if(K(e))if(r=e.length,n)for(o=r-1;o>=0;o--)t.call(i,e[o],o);else for(o=0;o<r;o++)t.call(i,e[o],o);else if(Y(e))for(s=Object.keys(e),r=s.length,o=0;o<r;o++)t.call(i,e[s[o]],s[o])}function ee(e,t){let i,n,o,r;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(o=e[i],r=t[i],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function te(e){if(K(e))return e.map(te);if(Y(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let o=0;for(;o<n;++o)t[i[o]]=te(e[i[o]]);return t}return e}function ie(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ne(e,t,i,n){if(!ie(e))return;const o=t[e],r=i[e];Y(o)&&Y(r)?oe(o,r,n):t[e]=te(r)}function oe(e,t,i){const n=K(t)?t:[t],o=n.length;if(!Y(e))return e;const r=(i=i||{}).merger||ne;let s;for(let a=0;a<o;++a){if(s=n[a],!Y(s))continue;const t=Object.keys(s);for(let n=0,o=t.length;n<o;++n)r(t[n],e,s,i)}return e}function re(e,t){return oe(e,t,{merger:se})}function se(e,t,i){if(!ie(e))return;const n=t[e],o=i[e];Y(n)&&Y(o)?re(n,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=te(o))}const ae={"":e=>e,x:e=>e.x,y:e=>e.y};function le(e,t){const i=ae[t]||(ae[t]=function(e){const t=function(e){const t=e.split("."),i=[];let n="";for(const o of t)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t));return i(e)}function ue(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ce=e=>"undefined"!==typeof e,de=e=>"function"===typeof e,he=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};const pe=Math.PI,ge=2*pe,fe=ge+pe,me=Number.POSITIVE_INFINITY,ve=pe/180,Ce=pe/2,ye=pe/4,we=2*pe/3,be=Math.log10,Ee=Math.sign;function Se(e,t,i){return Math.abs(e-t)<i}function xe(e){const t=Math.round(e);e=Se(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(be(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function Re(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Te(e,t,i){let n,o,r;for(n=0,o=e.length;n<o;n++)r=e[n][i],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function De(e){return e*(pe/180)}function Pe(e){return e*(180/pe)}function Ae(e){if(!q(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function Me(e,t){const i=t.x-e.x,n=t.y-e.y,o=Math.sqrt(i*i+n*n);let r=Math.atan2(n,i);return r<-.5*pe&&(r+=ge),{angle:r,distance:o}}function _e(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ke(e,t){return(e-t+fe)%ge-pe}function Fe(e){return(e%ge+ge)%ge}function Le(e,t,i,n){const o=Fe(e),r=Fe(t),s=Fe(i),a=Fe(r-o),l=Fe(s-o),u=Fe(o-r),c=Fe(o-s);return o===r||o===s||n&&r===s||a>l&&u<c}function Ne(e,t,i){return Math.max(t,Math.min(i,e))}function Oe(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function Ie(e,t,i){i=i||(i=>e[i]<t);let n,o=e.length-1,r=0;for(;o-r>1;)n=r+o>>1,i(n)?r=n:o=n;return{lo:r,hi:o}}const Ge=(e,t,i,n)=>Ie(e,i,n?n=>{const o=e[n][t];return o<i||o===i&&e[n+1][t]===i}:n=>e[n][t]<i),Ve=(e,t,i)=>Ie(e,i,(n=>e[n][t]>=i));const He=["push","pop","shift","splice","unshift"];function Be(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,o=n.indexOf(t);-1!==o&&n.splice(o,1),n.length>0||(He.forEach((t=>{delete e[t]})),delete e._chartjs)}function We(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ze="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ue(e,t){let i=[],n=!1;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];i=r,n||(n=!0,ze.call(window,(()=>{n=!1,e.apply(t,i)})))}}const je=e=>"start"===e?"left":"end"===e?"right":"center",Ke=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2;function Ye(e,t,i){const n=t.length;let o=0,r=n;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:u,max:c,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(o=Ne(Math.min(Ge(a,l,u).lo,i?n:Ge(t,l,s.getPixelForValue(u)).lo),0,n-1)),r=h?Ne(Math.max(Ge(a,s.axis,c,!0).hi+1,i?0:Ge(t,l,s.getPixelForValue(c),!0).hi+1),o,n)-o:n-o}return{start:o,count:r}}function qe(e){const{xScale:t,yScale:i,_scaleRanges:n}=e,o={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=o,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,o),r}const Qe=e=>0===e||1===e,Xe=(e,t,i)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ge/i),$e=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*ge/i)+1,Je={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ce),easeOutSine:e=>Math.sin(e*Ce),easeInOutSine:e=>-.5*(Math.cos(pe*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Qe(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Qe(e)?e:Xe(e,.075,.3),easeOutElastic:e=>Qe(e)?e:$e(e,.075,.3),easeInOutElastic(e){const t=.1125;return Qe(e)?e:e<.5?.5*Xe(2*e,t,.45):.5+.5*$e(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Je.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},easeInOutBounce:e=>e<.5?.5*Je.easeInBounce(2*e):.5*Je.easeOutBounce(2*e-1)+.5};function Ze(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function et(e){return Ze(e)?e:new W(e)}function tt(e){return Ze(e)?e:new W(e).saturate(.5).darken(.1).hexString()}const it=["x","y","borderWidth","radius","tension"],nt=["color","borderColor","backgroundColor"];const ot=new Map;function rt(e,t,i){return function(e,t){t=t||{};const i=e+JSON.stringify(t);let n=ot.get(i);return n||(n=new Intl.NumberFormat(e,t),ot.set(i,n)),n}(t,i).format(e)}const st={values:e=>K(e)?e:""+e,numeric(e,t,i){if(0===e)return"0";const n=this.chart.options.locale;let o,r=e;if(i.length>1){const t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||t>1e15)&&(o="scientific"),r=function(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e));return i}(e,i)}const s=be(Math.abs(r)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rt(e,n,l)},logarithmic(e,t,i){if(0===e)return"0";const n=i[t].significand||e/Math.pow(10,Math.floor(be(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?st.numeric.call(this,e,t,i):""}};var at={formatters:st};const lt=Object.create(null),ut=Object.create(null);function ct(e,t){if(!t)return e;const i=t.split(".");for(let n=0,o=i.length;n<o;++n){const t=i[n];e=e[t]||(e[t]=Object.create(null))}return e}function dt(e,t,i){return"string"===typeof t?oe(ct(e,t),i):oe(ct(e,""),t)}class ht{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>tt(t.backgroundColor),this.hoverBorderColor=(e,t)=>tt(t.borderColor),this.hoverColor=(e,t)=>tt(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return dt(this,e,t)}get(e){return ct(this,e)}describe(e,t){return dt(ut,e,t)}override(e,t){return dt(lt,e,t)}route(e,t,i,n){const o=ct(this,e),r=ct(this,i),s="_"+t;Object.defineProperties(o,{[s]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=r[n];return Y(e)?Object.assign({},t,e):X(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var pt=new ht({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:nt},numbers:{type:"number",properties:it}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:at.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function gt(e,t,i,n,o){let r=t[o];return r||(r=t[o]=e.measureText(o).width,i.push(o)),r>n&&(n=r),n}function ft(e,t,i,n){let o=(n=n||{}).data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(o=n.data={},r=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let s=0;const a=i.length;let l,u,c,d,h;for(l=0;l<a;l++)if(d=i[l],void 0===d||null===d||K(d)){if(K(d))for(u=0,c=d.length;u<c;u++)h=d[u],void 0===h||null===h||K(h)||(s=gt(e,o,r,s,h))}else s=gt(e,o,r,s,d);e.restore();const p=r.length/2;if(p>i.length){for(l=0;l<p;l++)delete o[r[l]];r.splice(0,p)}return s}function mt(e,t,i){const n=e.currentDevicePixelRatio,o=0!==i?Math.max(i/2,.5):0;return Math.round((t-o)*n)/n+o}function vt(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ct(e,t,i,n){yt(e,t,i,n,null)}function yt(e,t,i,n,o){let r,s,a,l,u,c,d,h;const p=t.pointStyle,g=t.rotation,f=t.radius;let m=(g||0)*ve;if(p&&"object"===typeof p&&(r=p.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(i,n),e.rotate(m),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),p){default:o?e.ellipse(i,n,o/2,f,0,0,ge):e.arc(i,n,f,0,ge),e.closePath();break;case"triangle":c=o?o/2:f,e.moveTo(i+Math.sin(m)*c,n-Math.cos(m)*f),m+=we,e.lineTo(i+Math.sin(m)*c,n-Math.cos(m)*f),m+=we,e.lineTo(i+Math.sin(m)*c,n-Math.cos(m)*f),e.closePath();break;case"rectRounded":u=.516*f,l=f-u,s=Math.cos(m+ye)*l,d=Math.cos(m+ye)*(o?o/2-u:l),a=Math.sin(m+ye)*l,h=Math.sin(m+ye)*(o?o/2-u:l),e.arc(i-d,n-a,u,m-pe,m-Ce),e.arc(i+h,n-s,u,m-Ce,m),e.arc(i+d,n+a,u,m,m+Ce),e.arc(i-h,n+s,u,m+Ce,m+pe),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*f,c=o?o/2:l,e.rect(i-c,n-l,2*c,2*l);break}m+=ye;case"rectRot":d=Math.cos(m)*(o?o/2:f),s=Math.cos(m)*f,a=Math.sin(m)*f,h=Math.sin(m)*(o?o/2:f),e.moveTo(i-d,n-a),e.lineTo(i+h,n-s),e.lineTo(i+d,n+a),e.lineTo(i-h,n+s),e.closePath();break;case"crossRot":m+=ye;case"cross":d=Math.cos(m)*(o?o/2:f),s=Math.cos(m)*f,a=Math.sin(m)*f,h=Math.sin(m)*(o?o/2:f),e.moveTo(i-d,n-a),e.lineTo(i+d,n+a),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s);break;case"star":d=Math.cos(m)*(o?o/2:f),s=Math.cos(m)*f,a=Math.sin(m)*f,h=Math.sin(m)*(o?o/2:f),e.moveTo(i-d,n-a),e.lineTo(i+d,n+a),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s),m+=ye,d=Math.cos(m)*(o?o/2:f),s=Math.cos(m)*f,a=Math.sin(m)*f,h=Math.sin(m)*(o?o/2:f),e.moveTo(i-d,n-a),e.lineTo(i+d,n+a),e.moveTo(i+h,n-s),e.lineTo(i-h,n+s);break;case"line":s=o?o/2:Math.cos(m)*f,a=Math.sin(m)*f,e.moveTo(i-s,n-a),e.lineTo(i+s,n+a);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(m)*(o?o/2:f),n+Math.sin(m)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function wt(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function bt(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Et(e){e.restore()}function St(e,t,i,n,o){if(!t)return e.lineTo(i.x,i.y);if("middle"===o){const n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else"after"===o!==!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function xt(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Rt(e,t,i,n,o){if(o.strikethrough||o.underline){const r=e.measureText(n),s=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,u=i+r.actualBoundingBoxDescent,c=o.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(s,c),e.lineTo(a,c),e.stroke()}}function Tt(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function Dt(e,t,i,n,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=K(t)?t:[t],a=r.strokeWidth>0&&""!==r.strokeColor;let l,u;for(e.save(),e.font=o.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),j(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),l=0;l<s.length;++l)u=s[l],r.backdrop&&Tt(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),j(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(u,i,n,r.maxWidth)),e.fillText(u,i,n,r.maxWidth),Rt(e,i,n,u,r),n+=Number(o.lineHeight);e.restore()}function Pt(e,t){const{x:i,y:n,w:o,h:r,radius:s}=t;e.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*pe,pe,!0),e.lineTo(i,n+r-s.bottomLeft),e.arc(i+s.bottomLeft,n+r-s.bottomLeft,s.bottomLeft,pe,Ce,!0),e.lineTo(i+o-s.bottomRight,n+r),e.arc(i+o-s.bottomRight,n+r-s.bottomRight,s.bottomRight,Ce,0,!0),e.lineTo(i+o,n+s.topRight),e.arc(i+o-s.topRight,n+s.topRight,s.topRight,0,-Ce,!0),e.lineTo(i+s.topLeft,n)}const At=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _t(e,t){const i=(""+e).match(At);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}const kt=e=>+e||0;function Ft(e,t){const i={},n=Y(t),o=n?Object.keys(t):t,r=Y(e)?n?i=>X(e[i],e[t[i]]):t=>e[t]:()=>e;for(const s of o)i[s]=kt(r(s));return i}function Lt(e){return Ft(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Nt(e){return Ft(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ot(e){const t=Lt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function It(e,t){e=e||{},t=t||pt.font;let i=X(e.size,t.size);"string"===typeof i&&(i=parseInt(i,10));let n=X(e.style,t.style);n&&!(""+n).match(Mt)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:X(e.family,t.family),lineHeight:_t(X(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:X(e.weight,t.weight),string:""};return o.string=function(e){return!e||j(e.size)||j(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(o),o}function Gt(e,t,i,n){let o,r,s,a=!0;for(o=0,r=e.length;o<r;++o)if(s=e[o],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),a=!1),void 0!==i&&K(s)&&(s=s[i%s.length],a=!1),void 0!==s))return n&&!a&&(n.cacheable=!1),s}function Vt(e,t){return Object.assign(Object.create(e),t)}function Ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],i=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const o=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof i&&(i=$t("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:n,override:n=>Ht([n,...e],t,o,i)};return new Proxy(r,{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,n)=>jt(i,n,(()=>function(e,t,i,n){let o;for(const r of t)if(o=$t(zt(r,e),i),"undefined"!==typeof o)return Ut(e,o)?Qt(i,n,e,o):o}(n,t,e,i))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Jt(e).includes(t),ownKeys:e=>Jt(e),set(e,t,i){const o=e._storage||(e._storage=n());return e[t]=o[t]=i,delete e._keys,!0}})}function Bt(e,t,i,n){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Wt(e,n),setContext:t=>Bt(e,t,i,n),override:o=>Bt(e.override(o),t,i,n)};return new Proxy(o,{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>jt(e,t,(()=>function(e,t,i){const{_proxy:n,_context:o,_subProxy:r,_descriptors:s}=e;let a=n[t];de(a)&&s.isScriptable(t)&&(a=function(e,t,i,n){const{_proxy:o,_context:r,_subProxy:s,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,s||n);a.delete(e),Ut(e,l)&&(l=Qt(o._scopes,o,e,l));return l}(t,a,e,i));K(a)&&a.length&&(a=function(e,t,i,n){const{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=i;if("undefined"!==typeof r.index&&n(e))return t[r.index%t.length];if(Y(t[0])){const i=t,n=o._scopes.filter((e=>e!==i));t=[];for(const l of i){const i=Qt(n,o,e,l);t.push(Bt(i,r,s&&s[e],a))}}return t}(t,a,e,s.isIndexable));Ut(t,a)&&(a=Bt(a,o,r&&r[t],s));return a}(e,t,i))),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,n)=>(e[i]=n,delete t[i],!0)})}function Wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:i,indexable:n,isScriptable:de(i)?i:()=>i,isIndexable:de(n)?n:()=>n}}const zt=(e,t)=>e?e+ue(t):t,Ut=(e,t)=>Y(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function jt(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=i();return e[t]=n,n}function Kt(e,t,i){return de(e)?e(t,i):e}const Yt=(e,t)=>!0===e?t:"string"===typeof e?le(t,e):void 0;function qt(e,t,i,n,o){for(const r of t){const t=Yt(i,r);if(t){e.add(t);const r=Kt(t._fallback,i,o);if("undefined"!==typeof r&&r!==i&&r!==n)return r}else if(!1===t&&"undefined"!==typeof n&&i!==n)return null}return!1}function Qt(e,t,i,n){const o=t._rootScopes,r=Kt(t._fallback,i,n),s=[...e,...o],a=new Set;a.add(n);let l=Xt(a,s,i,r||i,n);return null!==l&&(("undefined"===typeof r||r===i||(l=Xt(a,s,r,l,n),null!==l))&&Ht(Array.from(a),[""],o,r,(()=>function(e,t,i){const n=e._getTarget();t in n||(n[t]={});const o=n[t];if(K(o)&&Y(i))return i;return o||{}}(t,i,n))))}function Xt(e,t,i,n,o){for(;i;)i=qt(e,t,i,n,o);return i}function $t(e,t){for(const i of t){if(!i)continue;const t=i[e];if("undefined"!==typeof t)return t}}function Jt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const i of e)for(const e of Object.keys(i).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Zt(e,t,i,n){const{iScale:o}=e,{key:r="r"}=this._parsing,s=new Array(n);let a,l,u,c;for(a=0,l=n;a<l;++a)u=a+i,c=t[u],s[a]={r:o.parse(le(c,r),u)};return s}const ei=Number.EPSILON||1e-14,ti=(e,t)=>t<e.length&&!e[t].skip&&e[t],ii=e=>"x"===e?"y":"x";function ni(e,t,i,n){const o=e.skip?t:e,r=t,s=i.skip?t:i,a=_e(r,o),l=_e(s,r);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=n*u,h=n*c;return{previous:{x:r.x-d*(s.x-o.x),y:r.y-d*(s.y-o.y)},next:{x:r.x+h*(s.x-o.x),y:r.y+h*(s.y-o.y)}}}function oi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const i=ii(t),n=e.length,o=Array(n).fill(0),r=Array(n);let s,a,l,u=ti(e,0);for(s=0;s<n;++s)if(a=l,l=u,u=ti(e,s+1),l){if(u){const e=u[t]-l[t];o[s]=0!==e?(u[i]-l[i])/e:0}r[s]=a?u?Ee(o[s-1])!==Ee(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}!function(e,t,i){const n=e.length;let o,r,s,a,l,u=ti(e,0);for(let c=0;c<n-1;++c)l=u,u=ti(e,c+1),l&&u&&(Se(t[c],0,ei)?i[c]=i[c+1]=0:(o=i[c]/t[c],r=i[c+1]/t[c],a=Math.pow(o,2)+Math.pow(r,2),a<=9||(s=3/Math.sqrt(a),i[c]=o*s*t[c],i[c+1]=r*s*t[c])))}(e,o,r),function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=ii(i),o=e.length;let r,s,a,l=ti(e,0);for(let u=0;u<o;++u){if(s=a,a=l,l=ti(e,u+1),!a)continue;const o=a[i],c=a[n];s&&(r=(o-s[i])/3,a["cp1".concat(i)]=o-r,a["cp1".concat(n)]=c-r*t[u]),l&&(r=(l[i]-o)/3,a["cp2".concat(i)]=o+r,a["cp2".concat(n)]=c+r*t[u])}}(e,r,t)}function ri(e,t,i){return Math.max(Math.min(e,i),t)}function si(e,t,i,n,o){let r,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)oi(e,o);else{let i=n?e[e.length-1]:e[0];for(r=0,s=e.length;r<s;++r)a=e[r],l=ni(i,a,e[Math.min(r+1,s-(n?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,i=a}t.capBezierPoints&&function(e,t){let i,n,o,r,s,a=wt(e[0],t);for(i=0,n=e.length;i<n;++i)s=r,r=a,a=i<n-1&&wt(e[i+1],t),r&&(o=e[i],s&&(o.cp1x=ri(o.cp1x,t.left,t.right),o.cp1y=ri(o.cp1y,t.top,t.bottom)),a&&(o.cp2x=ri(o.cp2x,t.left,t.right),o.cp2y=ri(o.cp2y,t.top,t.bottom)))}(e,i)}function ai(){return"undefined"!==typeof window&&"undefined"!==typeof document}function li(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ui(e,t,i){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}const ci=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const di=["top","right","bottom","left"];function hi(e,t,i){const n={};i=i?"-"+i:"";for(let o=0;o<4;o++){const r=di[o];n[r]=parseFloat(e[t+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const pi=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function gi(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,o=ci(i),r="border-box"===o.boxSizing,s=hi(o,"padding"),a=hi(o,"border","width"),{x:l,y:u,box:c}=function(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:o,offsetY:r}=n;let s,a,l=!1;if(pi(o,r,e.target))s=o,a=r;else{const e=t.getBoundingClientRect();s=n.clientX-e.left,a=n.clientY-e.top,l=!0}return{x:s,y:a,box:l}}(e,i),d=s.left+(c&&a.left),h=s.top+(c&&a.top);let{width:p,height:g}=t;return r&&(p-=s.width+a.width,g-=s.height+a.height),{x:Math.round((l-d)/p*i.width/n),y:Math.round((u-h)/g*i.height/n)}}const fi=e=>Math.round(10*e)/10;function mi(e,t,i,n){const o=ci(e),r=hi(o,"margin"),s=ui(o.maxWidth,e,"clientWidth")||me,a=ui(o.maxHeight,e,"clientHeight")||me,l=function(e,t,i){let n,o;if(void 0===t||void 0===i){const r=e&&li(e);if(r){const e=r.getBoundingClientRect(),s=ci(r),a=hi(s,"border","width"),l=hi(s,"padding");t=e.width-l.width-a.width,i=e.height-l.height-a.height,n=ui(s.maxWidth,r,"clientWidth"),o=ui(s.maxHeight,r,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||me,maxHeight:o||me}}(e,t,i);let{width:u,height:c}=l;if("content-box"===o.boxSizing){const e=hi(o,"border","width"),t=hi(o,"padding");u-=t.width+e.width,c-=t.height+e.height}u=Math.max(0,u-r.width),c=Math.max(0,n?u/n:c-r.height),u=fi(Math.min(u,s,l.maxWidth)),c=fi(Math.min(c,a,l.maxHeight)),u&&!c&&(c=fi(u/2));return(void 0!==t||void 0!==i)&&n&&l.height&&c>l.height&&(c=l.height,u=fi(Math.floor(c*n))),{width:u,height:c}}function vi(e,t,i){const n=t||1,o=Math.floor(e.height*n),r=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height="".concat(e.height,"px"),s.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||s.height!==o||s.width!==r)&&(e.currentDevicePixelRatio=n,s.height=o,s.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0)}const Ci=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ai()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function yi(e,t){const i=function(e,t){return ci(e).getPropertyValue(t)}(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function wi(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function bi(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:"middle"===n?i<.5?e.y:t.y:"after"===n?i<1?e.y:t.y:i>0?t.y:e.y}}function Ei(e,t,i,n){const o={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},s=wi(e,o,i),a=wi(o,r,i),l=wi(r,t,i),u=wi(s,a,i),c=wi(a,l,i);return wi(u,c,i)}function Si(e,t,i){return e?function(e,t){return{x:i=>e+e+t-i,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,i):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function xi(e,t){let i,n;"ltr"!==t&&"rtl"!==t||(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Ri(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ti(e){return"angle"===e?{between:Le,compare:ke,normalize:Fe}:{between:Oe,compare:(e,t)=>e-t,normalize:e=>e}}function Di(e){let{start:t,end:i,count:n,loop:o,style:r}=e;return{start:t%n,end:i%n,loop:o&&(i-t+1)%n===0,style:r}}function Pi(e,t,i){if(!i)return[e];const{property:n,start:o,end:r}=i,s=t.length,{compare:a,between:l,normalize:u}=Ti(n),{start:c,end:d,loop:h,style:p}=function(e,t,i){const{property:n,start:o,end:r}=i,{between:s,normalize:a}=Ti(n),l=t.length;let u,c,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,u=0,c=l;u<c&&s(a(t[d%l][n]),o,r);++u)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,i),g=[];let f,m,v,C=!1,y=null;const w=()=>C||l(o,v,f)&&0!==a(o,v),b=()=>!C||0===a(r,f)||l(r,v,f);for(let E=c,S=c;E<=d;++E)m=t[E%s],m.skip||(f=u(m[n]),f!==v&&(C=l(f,o,r),null===y&&w()&&(y=0===a(f,o)?E:S),null!==y&&b()&&(g.push(Di({start:y,end:E,loop:h,count:s,style:p})),y=null),S=E,v=f));return null!==y&&g.push(Di({start:y,end:d,loop:h,count:s,style:p})),g}function Ai(e,t){const i=[],n=e.segments;for(let o=0;o<n.length;o++){const r=Pi(n[o],e.points,t);r.length&&i.push(...r)}return i}function Mi(e,t,i,n){return n&&n.setContext&&i?function(e,t,i,n){const o=e._chart.getContext(),r=_i(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=i.length,u=[];let c=r,d=t[0].start,h=d;function p(e,t,n,o){const r=a?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=r;for(;i[t%l].skip;)t+=r;e%l!==t%l&&(u.push({start:e%l,end:t%l,loop:n,style:o}),c=o,d=t%l)}}for(const g of t){d=a?d:g.start;let e,t=i[d%l];for(h=d+1;h<=g.end;h++){const r=i[h%l];e=_i(n.setContext(Vt(o,{type:"segment",p0:t,p1:r,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),ki(e,c)&&p(d,h-1,g.loop,c),t=r,c=e}d<h-1&&p(d,h-1,g.loop,c)}return u}(e,t,i,n):t}function _i(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ki(e,t){if(!t)return!1;const i=[],n=function(e,t){return Ze(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}class Fi{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const o=t.listeners[n],r=t.duration;o.forEach((n=>n({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=ze.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const o=i.items;let r,s=o.length-1,a=!1;for(;s>=0;--s)r=o[s],r._active?(r._total>i.duration&&(i.duration=r._total),r.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),o.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=o.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Li=new Fi;const Ni="transparent",Oi={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){const n=et(e||Ni),o=n.valid&&et(t||Ni);return o&&o.valid?o.mix(n,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class Ii{constructor(e,t,i,n){const o=t[i];n=Gt([e.to,n,o,e.from]);const r=Gt([e.from,o,n]);this._active=!0,this._fn=e.fn||Oi[e.type||typeof r],this._easing=Je[e.easing]||Je.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],o=i-this._start,r=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Gt([e.to,t,n,e.from]),this._from=Gt([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,o=this._from,r=this._loop,s=this._to;let a;if(this._active=o!==s&&(r||t<i),!this._active)return this._target[n]=s,void this._notify(!0);t<0?this._target[n]=o:(a=t/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(o,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,i)=>{e.push({res:t,rej:i})}))}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class Gi{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Y(e))return;const t=Object.keys(pt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const o=e[n];if(!Y(o))return;const r={};for(const e of t)r[e]=o[e];(K(o.properties)&&o.properties||[n]).forEach((e=>{e!==n&&i.has(e)||i.set(e,r)}))}))}_animateOptions(e,t){const i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(!i)return void(e.options=t);i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(e,i);if(!n)return[];const o=this._createAnimations(n,i);return i.$shared&&function(e,t){const i=[],n=Object.keys(t);for(let o=0;o<n.length;o++){const t=e[n[o]];t&&t.active()&&i.push(t.wait())}return Promise.all(i)}(e.options.$animations,i).then((()=>{e.options=i}),(()=>{})),o}_createAnimations(e,t){const i=this._properties,n=[],o=e.$animations||(e.$animations={}),r=Object.keys(t),s=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const u=t[l];let c=o[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,u,s);continue}c.cancel()}d&&d.duration?(o[l]=c=new Ii(d,e,l,u),n.push(c)):e[l]=u}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(Li.add(this._chart,i),!0):void 0}}function Vi(e,t){const i=e&&e.options||{},n=i.reverse,o=void 0===i.min?t:0,r=void 0===i.max?t:0;return{start:n?r:o,end:n?o:r}}function Hi(e,t){const i=[],n=e._getSortedDatasetMetas(t);let o,r;for(o=0,r=n.length;o<r;++o)i.push(n[o].index);return i}function Bi(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.keys,r="single"===n.mode;let s,a,l,u;if(null!==t){for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===i){if(n.all)continue;break}u=e.values[l],q(u)&&(r||0===t||Ee(t)===Ee(u))&&(t+=u)}return t}}function Wi(e,t){const i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function zi(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function Ui(e,t,i,n){for(const o of t.getMatchingVisibleMetas(n).reverse()){const t=e[o.index];if(i&&t>0||!i&&t<0)return o.index}return null}function ji(e,t){const{chart:i,_cachedMeta:n}=e,o=i._stacks||(i._stacks={}),{iScale:r,vScale:s,index:a}=n,l=r.axis,u=s.axis,c=function(e,t,i){return"".concat(e.id,".").concat(t.id,".").concat(i.stack||i.type)}(r,s,n),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:i,[u]:r}=e;h=(e._stacks||(e._stacks={}))[u]=zi(o,c,i),h[a]=r,h._top=Ui(h,s,!0,n.type),h._bottom=Ui(h,s,!1,n.type);(h._visualValues||(h._visualValues={}))[a]=r}}function Ki(e,t){const i=e.scales;return Object.keys(i).filter((e=>i[e].axis===t)).shift()}function Yi(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][i])return;delete t[n][i],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[i]&&delete t[n]._visualValues[i]}}}const qi=e=>"reset"===e||"none"===e,Qi=(e,t)=>t?e:Object.assign({},e);class Xi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wi(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,o=t.xAxisID=X(i.xAxisID,Ki(e,"x")),r=t.yAxisID=X(i.yAxisID,Ki(e,"y")),s=t.rAxisID=X(i.rAxisID,Ki(e,"r")),a=t.indexAxis,l=t.iAxisID=n(a,o,r,s),u=t.vAxisID=n(a,r,o,s);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Be(this._data,this),e._stacked&&Yi(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Y(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:i,vScale:n}=t,o="x"===i.axis?"x":"y",r="x"===n.axis?"x":"y",s=Object.keys(e),a=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],a[l]={[o]:c,[r]:e[c]};return a}(t,e)}else if(i!==t){if(i){Be(i,this);const e=this._cachedMeta;Yi(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),He.forEach((t=>{const i="_onData"+ue(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];const s=n.apply(this,o);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[i]&&e[i](...o)})),s}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const o=t._stacked;t._stacked=Wi(t.vScale,t),t.stack!==i.stack&&(n=!0,Yi(t),t.stack=i.stack),this._resyncElements(e),(n||o!==t._stacked)&&ji(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:o,_stacked:r}=i,s=o.axis;let a,l,u,c=0===e&&t===n.length||i._sorted,d=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,u=n;else{u=K(n[e])?this.parseArrayData(i,n,e,t):Y(n[e])?this.parseObjectData(i,n,e,t):this.parsePrimitiveData(i,n,e,t);const o=()=>null===l[s]||d&&l[s]<d[s];for(a=0;a<t;++a)i._parsed[a+e]=l=u[a],c&&(o()&&(c=!1),d=l);i._sorted=c}r&&ji(this,u)}parsePrimitiveData(e,t,i,n){const{iScale:o,vScale:r}=e,s=o.axis,a=r.axis,l=o.getLabels(),u=o===r,c=new Array(n);let d,h,p;for(d=0,h=n;d<h;++d)p=d+i,c[d]={[s]:u||o.parse(l[p],p),[a]:r.parse(t[p],p)};return c}parseArrayData(e,t,i,n){const{xScale:o,yScale:r}=e,s=new Array(n);let a,l,u,c;for(a=0,l=n;a<l;++a)u=a+i,c=t[u],s[a]={x:o.parse(c[0],u),y:r.parse(c[1],u)};return s}parseObjectData(e,t,i,n){const{xScale:o,yScale:r}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(n);let u,c,d,h;for(u=0,c=n;u<c;++u)d=u+i,h=t[d],l[u]={x:o.parse(le(h,s),d),y:r.parse(le(h,a),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,o=this._cachedMeta,r=t[e.axis];return Bi({keys:Hi(n,!0),values:t._stacks[e.axis]._visualValues},r,o.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const o=i[t.axis];let r=null===o?NaN:o;const s=n&&i._stacks[t.axis];n&&s&&(n.values=s,r=Bi(n,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,o=i._sorted&&e===i.iScale,r=n.length,s=this._getOtherScale(e),a=((e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:Hi(i,!0),values:null})(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:c}=function(e){const{min:t,max:i,minDefined:n,maxDefined:o}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}(s);let d,h;function p(){h=n[d];const t=h[s.axis];return!q(h[e.axis])||u>t||c<t}for(d=0;d<r&&(p()||(this.updateRangeFromParsed(l,e,h,a),!o));++d);if(o)for(d=r-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,o,r;for(n=0,o=t.length;n<o;++n)r=t[n][e.axis],q(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:n?""+n.getLabelForValue(o[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,i,n,o;return Y(e)?(t=e.top,i=e.right,n=e.bottom,o=e.left):t=i=n=o=e,{top:t,right:i,bottom:n,left:o,disabled:!1===e}}(X(this.options.clip,function(e,t,i){if(!1===i)return!1;const n=Vi(e,i),o=Vi(t,i);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],o=t.chartArea,r=[],s=this._drawStart||0,a=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,o,s,a),u=s;u<s+a;++u){const t=n[u];t.hidden||(t.active&&l?r.push(t):t.draw(e,o))}for(u=0;u<r.length;++u)r[u].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,i){return Vt(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),o.parsed=this.getParsed(e),o.raw=n.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function(e,t){return Vt(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=n,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0;const n="active"===t,o=this._cachedDataOpts,r=e+"-"+t,s=o[r],a=this.enableOptionSharing&&ce(i);if(s)return Qi(s,a);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,e),c=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),u),h=Object.keys(pt.elements[e]),p=l.resolveNamedOptions(d,h,(()=>this.getContext(i,n,t)),c);return p.$shared&&(p.$shared=a,o[r]=Object.freeze(Qi(p,a))),p}_resolveAnimations(e,t,i){const n=this.chart,o=this._cachedDataOpts,r="animation-".concat(t),s=o[r];if(s)return s;let a;if(!1!==n.options.animation){const n=this.chart.config,o=n.datasetAnimationScopeKeys(this._type,t),r=n.getOptionScopes(this.getDataset(),o);a=n.createResolver(r,this.getContext(e,i,t))}const l=new Gi(n,a&&a.animations);return a&&a._cacheable&&(o[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||qi(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,o=this.getSharedOptions(i),r=this.includeOptions(t,o)||o!==n;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:r}}updateElement(e,t,i,n){qi(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!qi(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const o=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const n=i.length,o=t.length,r=Math.min(o,n);r&&this.parse(0,r),o>n?this._insertElements(n,o-n,e):o<n&&this._removeElements(o,n-o)}_insertElements(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,o=n.data,r=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=r;s--)e[s]=e[s-t]};for(a(o),s=e;s<r;++s)o[s]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&Yi(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $i(e){const t=e.iScale,i=function(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,o=i.length;t<o;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=We(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,o,r,s,a=t._length;const l=()=>{32767!==r&&-32768!==r&&(ce(s)&&(a=Math.min(a,Math.abs(r-s)||a)),s=r)};for(n=0,o=i.length;n<o;++n)r=t.getPixelForValue(i[n]),l();for(s=void 0,n=0,o=t.ticks.length;n<o;++n)r=t.getPixelForTick(n),l();return a}function Ji(e,t,i,n){return K(e)?function(e,t,i,n){const o=i.parse(e[0],n),r=i.parse(e[1],n),s=Math.min(o,r),a=Math.max(o,r);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),t[i.axis]=u,t._custom={barStart:l,barEnd:u,start:o,end:r,min:s,max:a}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function Zi(e,t,i,n){const o=e.iScale,r=e.vScale,s=o.getLabels(),a=o===r,l=[];let u,c,d,h;for(u=i,c=i+n;u<c;++u)h=t[u],d={},d[o.axis]=a||o.parse(s[u],u),l.push(Ji(h,d,r,u));return l}function en(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function tn(e,t,i,n){let o=t.borderSkipped;const r={};if(!o)return void(e.borderSkipped=r);if(!0===o)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:u,bottom:c}=function(e){let t,i,n,o,r;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(o="end",r="start"):(o="start",r="end"),{start:i,end:n,reverse:t,top:o,bottom:r}}(e);"middle"===o&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?o=u:(i._bottom||0)===n?o=c:(r[nn(c,s,a,l)]=!0,o=u)),r[nn(o,s,a,l)]=!0,e.borderSkipped=r}function nn(e,t,i,n){var o,r,s;return n?(s=i,e=on(e=(o=e)===(r=t)?s:o===s?r:o,i,t)):e=on(e,t,i),e}function on(e,t,i){return"start"===e?t:"end"===e?i:e}function rn(e,t,i){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===i?.33:0:n}u(Xi,"defaults",{}),u(Xi,"datasetElementType",null),u(Xi,"dataElementType",null);class sn extends Xi{parsePrimitiveData(e,t,i,n){return Zi(e,t,i,n)}parseArrayData(e,t,i,n){return Zi(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:o,vScale:r}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===o.axis?s:a,u="x"===r.axis?s:a,c=[];let d,h,p,g;for(d=i,h=i+n;d<h;++d)g=t[d],p={},p[o.axis]=o.parse(le(g,l),d),c.push(Ji(le(g,u),p,r,d));return c}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,o=this.getParsed(e),r=o._custom,s=en(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(o[n.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const o="reset"===n,{index:r,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),u=this._getRuler(),{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n);for(let h=t;h<t+i;h++){const t=this.getParsed(h),i=o||j(t[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,u),g=(t._stacks||{})[s.axis],f={horizontal:l,base:i.base,enableBorderRadius:!g||en(t._custom)||r===g._top||r===g._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};d&&(f.options=c||this.resolveDataElementOptions(h,e[h].active?"active":n));const m=f.options||e[h].options;tn(f,m,g,r),rn(f,m,u.ratio),this.updateElement(e[h],h,f,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=i.options.stacked,r=[],s=e=>{const i=e.controller.getParsed(t),n=i&&i[e.vScale.axis];if(j(n)||isNaN(n))return!0};for(const a of n)if((void 0===t||!s(a))&&((!1===o||-1===r.indexOf(a.stack)||void 0===o&&void 0===a.stack)&&r.push(a.stack),a.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const n=this._getStacks(e,i),o=void 0!==t?n.indexOf(t):-1;return-1===o?n.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let o,r;for(o=0,r=t.data.length;o<r;++o)n.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const s=e.barThickness;return{min:s||$i(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:o,minBarLength:r}}=this,s=o||0,a=this.getParsed(e),l=a._custom,u=en(l);let c,d,h=a[t.axis],p=0,g=i?this.applyStack(t,a,i):h;g!==h&&(p=g-h,g=h),u&&(h=l.barStart,g=l.barEnd-l.barStart,0!==h&&Ee(h)!==Ee(l.barEnd)&&(p=0),p+=h);const f=j(o)||u?p:o;let m=t.getPixelForValue(f);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(p+g):m,d=c-m,Math.abs(d)<r){d=function(e,t,i){return 0!==e?Ee(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(d,t,s)*r,h===s&&(m-=d/2);const e=t.getPixelForDecimal(0),o=t.getPixelForDecimal(1),l=Math.min(e,o),p=Math.max(e,o);m=Math.max(Math.min(m,p),l),c=m+d,i&&!u&&(a._stacks[t.axis]._visualValues[n]=t.getValueForPixel(c)-t.getValueForPixel(m))}if(m===t.getPixelForValue(s)){const e=Ee(d)*t.getLineWidthForValue(s)/2;m+=e,d-=e}return{size:d,base:m,head:c,center:c+d/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,o=n.skipNull,r=X(n.maxBarThickness,1/0);let s,a;if(t.grouped){const i=o?this._getStackCount(e):t.stackCount,l="flex"===n.barThickness?function(e,t,i,n){const o=t.pixels,r=o[e];let s=e>0?o[e-1]:null,a=e<o.length-1?o[e+1]:null;const l=i.categoryPercentage;null===s&&(s=r-(null===a?t.end-t.start:a-r)),null===a&&(a=r+r-s);const u=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:i.barPercentage,start:u}}(e,t,n,i):function(e,t,i,n){const o=i.barThickness;let r,s;return j(o)?(r=t.min*i.categoryPercentage,s=i.barPercentage):(r=o*n,s=1),{chunk:r/n,ratio:s,start:t.pixels[e]-r/2}}(e,t,n,i),u=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);s=l.start+l.chunk*u+l.chunk/2,a=Math.min(r,l.chunk*l.ratio)}else s=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(r,t.min*t.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let o=0;for(;o<n;++o)null===this.getParsed(o)[t.axis]||i[o].hidden||i[o].draw(this._ctx)}}u(sn,"id","bar"),u(sn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),u(sn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class an extends Xi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){const o=super.parsePrimitiveData(e,t,i,n);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+i).radius;return o}parseArrayData(e,t,i,n){const o=super.parseArrayData(e,t,i,n);for(let r=0;r<o.length;r++){const e=t[i+r];o[r]._custom=X(e[2],this.resolveDataElementOptions(r+i).radius)}return o}parseObjectData(e,t,i,n){const o=super.parseObjectData(e,t,i,n);for(let r=0;r<o.length;r++){const e=t[i+r];o[r]._custom=X(e&&e.r&&+e.r,this.resolveDataElementOptions(r+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:o}=t,r=this.getParsed(e),s=n.getLabelForValue(r.x),a=o.getLabelForValue(r.y),l=r._custom;return{label:i[e]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){const o="reset"===n,{iScale:r,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,n),u=r.axis,c=s.axis;for(let d=t;d<t+i;d++){const t=e[d],i=!o&&this.getParsed(d),h={},p=h[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(i[u]),g=h[c]=o?s.getBasePixel():s.getPixelForValue(i[c]);h.skip=isNaN(p)||isNaN(g),l&&(h.options=a||this.resolveDataElementOptions(d,t.active?"active":n),o&&(h.options.radius=0)),this.updateElement(t,d,h,n)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const o=n.radius;return"active"!==t&&(n.radius=0),n.radius+=X(i&&i._custom,o),n}}u(an,"id","bubble"),u(an,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),u(an,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class ln extends Xi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let o,r,s=e=>+i[e];if(Y(i[e])){const{key:e="value"}=this._parsing;s=t=>+le(i[t],e)}for(o=e,r=e+t;o<r;++o)n._parsed[o]=s(o)}}_getRotation(){return De(this.options.rotation-90)}_getCircumference(){return De(this.options.circumference)}_getRotationExtents(){let e=ge,t=-ge;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,o=n._getRotation(),r=n._getCircumference();e=Math.min(e,o),t=Math.max(t,o+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,o=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-r)/2,0),a=Math.min((l=this.options.cutout,u=s,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/u),1);var l,u;const c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:f,offsetY:m}=function(e,t,i){let n=1,o=1,r=0,s=0;if(t<ge){const a=e,l=a+t,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(e,t,n)=>Le(e,a,l,!0)?1:Math.max(t,t*i,n,n*i),g=(e,t,n)=>Le(e,a,l,!0)?-1:Math.min(t,t*i,n,n*i),f=p(0,u,d),m=p(Ce,c,h),v=g(pe,u,d),C=g(pe+Ce,c,h);n=(f-v)/2,o=(m-C)/2,r=-(f+v)/2,s=-(m+C)/2}return{ratioX:n,ratioY:o,offsetX:r,offsetY:s}}(h,d,a),v=(i.width-r)/p,C=(i.height-r)/g,y=Math.max(Math.min(v,C)/2,0),w=$(this.options.radius,y),b=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*w,this.offsetY=m*w,n.total=this.calculateTotal(),this.outerRadius=w-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*o/ge)}updateElements(e,t,i,n){const o="reset"===n,r=this.chart,s=r.chartArea,a=r.options.animation,l=(s.left+s.right)/2,u=(s.top+s.bottom)/2,c=o&&a.animateScale,d=c?0:this.innerRadius,h=c?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,n);let f,m=this._getRotation();for(f=0;f<t;++f)m+=this._circumference(f,o);for(f=t;f<t+i;++f){const t=this._circumference(f,o),i=e[f],r={x:l+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:h,innerRadius:d};g&&(r.options=p||this.resolveDataElementOptions(f,i.active?"active":n)),m+=t,this.updateElement(i,f,r,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i,n=0;for(i=0;i<t.length;i++){const o=e._parsed[i];null===o||isNaN(o)||!this.chart.getDataVisibility(i)||t[i].hidden||(n+=Math.abs(o))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ge*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],o=rt(t._parsed[e],i.options.locale);return{label:n[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,o,r,s,a;if(!e)for(n=0,o=i.data.datasets.length;n<o;++n)if(i.isDatasetVisible(n)){r=i.getDatasetMeta(n),e=r.data,s=r.controller;break}if(!e)return 0;for(n=0,o=e.length;n<o;++n)a=s.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}u(ln,"id","doughnut"),u(ln,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),u(ln,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),u(ln,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map(((t,o)=>{const r=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class un extends Xi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:n=[],_dataset:o}=t,r=this.chart._animationsDisabled;let{start:s,count:a}=Ye(t,n,r);this._drawStart=s,this._drawCount=a,qe(t)&&(s=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:l},e),this.updateElements(n,s,a,e)}updateElements(e,t,i,n){const o="reset"===n,{iScale:r,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(t,n),d=r.axis,h=s.axis,{spanGaps:p,segment:g}=this.options,f=Re(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||o||"none"===n,v=t+i,C=e.length;let y=t>0&&this.getParsed(t-1);for(let w=0;w<C;++w){const i=e[w],p=m?i:{};if(w<t||w>=v){p.skip=!0;continue}const C=this.getParsed(w),b=j(C[h]),E=p[d]=r.getPixelForValue(C[d],w),S=p[h]=o||b?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,C,a):C[h],w);p.skip=isNaN(E)||isNaN(S)||b,p.stop=w>0&&Math.abs(C[d]-y[d])>f,g&&(p.parsed=C,p.raw=l.data[w]),c&&(p.options=u||this.resolveDataElementOptions(w,i.active?"active":n)),m||this.updateElement(i,w,p,n),y=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}u(un,"id","line"),u(un,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),u(un,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class cn extends Xi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],o=rt(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:o}}parseObjectData(e,t,i,n){return Zt.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(n/2,0),r=(o-Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,i,n){const o="reset"===n,r=this.chart,s=r.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,u=a.yCenter,c=a.getIndexAngle(0)-.5*pe;let d,h=c;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,n,p);for(d=t;d<t+i;d++){const t=e[d];let i=h,g=h+this._computeAngle(d,n,p),f=r.getDataVisibility(d)?a.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=g,o&&(s.animateScale&&(f=0),s.animateRotate&&(i=g=c));const m={x:l,y:u,innerRadius:0,outerRadius:f,startAngle:i,endAngle:g,options:this.resolveDataElementOptions(d,t.active?"active":n)};this.updateElement(t,d,m,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++})),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?De(this.resolveDataElementOptions(e,t).angle||i):0}}u(cn,"id","polarArea"),u(cn,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),u(cn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map(((t,o)=>{const r=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class dn extends ln{}u(dn,"id","pie"),u(dn,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class hn extends Xi{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return Zt.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta,i=t.dataset,n=t.data||[],o=t.iScale.getLabels();if(i.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const r={_loop:!0,_fullLoop:o.length===n.length,options:t};this.updateElement(i,void 0,r,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){const o=this._cachedMeta.rScale,r="reset"===n;for(let s=t;s<t+i;s++){const t=e[s],i=this.resolveDataElementOptions(s,t.active?"active":n),a=o.getPointPositionForValue(s,this.getParsed(s).r),l=r?o.xCenter:a.x,u=r?o.yCenter:a.y,c={x:l,y:u,angle:a.angle,skip:isNaN(l)||isNaN(u),options:i};this.updateElement(t,s,c,n)}}}u(hn,"id","radar"),u(hn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),u(hn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class pn extends Xi{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:o}=t,r=this.getParsed(e),s=n.getLabelForValue(r.x),a=o.getLabelForValue(r.y);return{label:i[e]||"",value:"("+s+", "+a+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled;let{start:o,count:r}=Ye(t,i,n);if(this._drawStart=o,this._drawCount=r,qe(t)&&(o=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:r}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=i;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){const o="reset"===n,{iScale:r,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(t,n),c=this.getSharedOptions(u),d=this.includeOptions(n,c),h=r.axis,p=s.axis,{spanGaps:g,segment:f}=this.options,m=Re(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===n;let C=t>0&&this.getParsed(t-1);for(let y=t;y<t+i;++y){const t=e[y],i=this.getParsed(y),u=v?t:{},g=j(i[p]),w=u[h]=r.getPixelForValue(i[h],y),b=u[p]=o||g?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,i,a):i[p],y);u.skip=isNaN(w)||isNaN(b)||g,u.stop=y>0&&Math.abs(i[h]-C[h])>m,f&&(u.parsed=i,u.raw=l.data[y]),d&&(u.options=c||this.resolveDataElementOptions(y,t.active?"active":n)),v||this.updateElement(t,y,u,n),C=i}this.updateSharedOptions(c,n,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!t.length)return n;const o=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,o,r)/2}}u(pn,"id","scatter"),u(pn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),u(pn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function gn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fn{static override(e){Object.assign(fn.prototype,e)}constructor(e){u(this,"options",void 0),this.options=e||{}}init(){}formats(){return gn()}parse(){return gn()}format(){return gn()}add(){return gn()}diff(){return gn()}startOf(){return gn()}endOf(){return gn()}}var mn=fn;function vn(e,t,i,n){const{controller:o,data:r,_sorted:s}=e,a=o._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&r.length){const e=a._reversePixels?Ve:Ge;if(!n)return e(r,t,i);if(o._sharedOptions){const n=r[0],o="function"===typeof n.getRange&&n.getRange(t);if(o){const n=e(r,t,i-o),s=e(r,t,i+o);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:r.length-1}}function Cn(e,t,i,n,o){const r=e.getSortedVisibleDatasetMetas(),s=i[t];for(let a=0,l=r.length;a<l;++a){const{index:e,data:i}=r[a],{lo:l,hi:u}=vn(r[a],t,s,o);for(let t=l;t<=u;++t){const o=i[t];o.skip||n(o,e,t)}}}function yn(e,t,i,n,o){const r=[];if(!o&&!e.isPointInArea(t))return r;return Cn(e,i,t,(function(i,s,a){(o||wt(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&r.push({element:i,datasetIndex:s,index:a})}),!0),r}function wn(e,t,i,n,o,r){let s=[];const a=function(e){const t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){const o=t?Math.abs(e.x-n.x):0,r=i?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}(i);let l=Number.POSITIVE_INFINITY;return Cn(e,i,t,(function(i,u,c){const d=i.inRange(t.x,t.y,o);if(n&&!d)return;const h=i.getCenterPoint(o);if(!(!!r||e.isPointInArea(h))&&!d)return;const p=a(t,h);p<l?(s=[{element:i,datasetIndex:u,index:c}],l=p):p===l&&s.push({element:i,datasetIndex:u,index:c})})),s}function bn(e,t,i,n,o,r){return r||e.isPointInArea(t)?"r"!==i||n?wn(e,t,i,n,o,r):function(e,t,i,n){let o=[];return Cn(e,i,t,(function(e,i,r){const{startAngle:s,endAngle:a}=e.getProps(["startAngle","endAngle"],n),{angle:l}=Me(e,{x:t.x,y:t.y});Le(l,s,a)&&o.push({element:e,datasetIndex:i,index:r})})),o}(e,t,i,o):[]}function En(e,t,i,n,o){const r=[],s="x"===i?"inXRange":"inYRange";let a=!1;return Cn(e,i,t,((e,n,l)=>{e[s](t[i],o)&&(r.push({element:e,datasetIndex:n,index:l}),a=a||e.inRange(t.x,t.y,o))})),n&&!a?[]:r}var Sn={evaluateInteractionItems:Cn,modes:{index(e,t,i,n){const o=gi(t,e),r=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?yn(e,o,r,n,s):bn(e,o,r,!1,n,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,i,n){const o=gi(t,e),r=i.axis||"xy",s=i.includeInvisible||!1;let a=i.intersect?yn(e,o,r,n,s):bn(e,o,r,!1,n,s);if(a.length>0){const t=a[0].datasetIndex,i=e.getDatasetMeta(t).data;a=[];for(let e=0;e<i.length;++e)a.push({element:i[e],datasetIndex:t,index:e})}return a},point:(e,t,i,n)=>yn(e,gi(t,e),i.axis||"xy",n,i.includeInvisible||!1),nearest(e,t,i,n){const o=gi(t,e),r=i.axis||"xy",s=i.includeInvisible||!1;return bn(e,o,r,i.intersect,n,s)},x:(e,t,i,n)=>En(e,gi(t,e),"x",i.intersect,n),y:(e,t,i,n)=>En(e,gi(t,e),"y",i.intersect,n)}};const xn=["left","top","right","bottom"];function Rn(e,t){return e.filter((e=>e.pos===t))}function Tn(e,t){return e.filter((e=>-1===xn.indexOf(e.pos)&&e.box.axis===t))}function Dn(e,t){return e.sort(((e,i)=>{const n=t?i:e,o=t?e:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight}))}function Pn(e,t){const i=function(e){const t={};for(const i of e){const{stack:e,pos:n,stackWeight:o}=i;if(!e||!xn.includes(n))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:o}=t;let r,s,a;for(r=0,s=e.length;r<s;++r){a=e[r];const{fullSize:s}=a.box,l=i[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*n:s&&t.availableWidth,a.height=o):(a.width=n,a.height=u?u*o:s&&t.availableHeight)}return i}function An(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function Mn(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _n(e,t,i,n){const{pos:o,box:r}=i,s=e.maxPadding;if(!Y(o)){i.size&&(e[o]-=i.size);const t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?r.height:r.width),i.size=t.size/t.count,e[o]+=i.size}r.getPadding&&Mn(s,r.getPadding());const a=Math.max(0,t.outerWidth-An(s,e,"left","right")),l=Math.max(0,t.outerHeight-An(s,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:u,other:c}:{same:c,other:u}}function kn(e,t){const i=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],i[e])})),n}return n(e?["left","right"]:["top","bottom"])}function Fn(e,t,i,n){const o=[];let r,s,a,l,u,c;for(r=0,s=e.length,u=0;r<s;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,kn(a.horizontal,t));const{same:s,other:d}=_n(t,i,a,n);u|=s&&o.length,c=c||d,l.fullSize||o.push(a)}return u&&Fn(o,t,i,n)||c}function Ln(e,t,i,n,o){e.top=i,e.left=t,e.right=t+n,e.bottom=i+o,e.width=n,e.height=o}function Nn(e,t,i,n){const o=i.padding;let{x:r,y:s}=t;for(const a of e){const e=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const n=t.w*u,r=l.size||e.height;ce(l.start)&&(s=l.start),e.fullSize?Ln(e,o.left,s,i.outerWidth-o.right-o.left,r):Ln(e,t.left+l.placed,s,n,r),l.start=s,l.placed+=n,s=e.bottom}else{const n=t.h*u,s=l.size||e.width;ce(l.start)&&(r=l.start),e.fullSize?Ln(e,r,o.top,s,i.outerHeight-o.bottom-o.top):Ln(e,r,t.top+l.placed,s,n),l.start=r,l.placed+=n,r=e.right}}t.x=r,t.y=s}var On={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const o=Ot(e.options.layout.padding),r=Math.max(t-o.width,0),s=Math.max(i-o.height,0),a=function(e){const t=function(e){const t=[];let i,n,o,r,s,a;for(i=0,n=(e||[]).length;i<n;++i)o=e[i],({position:r,options:{stack:s,stackWeight:a=1}}=o),t.push({index:i,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return t}(e),i=Dn(t.filter((e=>e.box.fullSize)),!0),n=Dn(Rn(t,"left"),!0),o=Dn(Rn(t,"right")),r=Dn(Rn(t,"top"),!0),s=Dn(Rn(t,"bottom")),a=Tn(t,"x"),l=Tn(t,"y");return{fullSize:i,leftAndTop:n.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:Rn(t,"chartArea"),vertical:n.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}(e.boxes),l=a.vertical,u=a.horizontal;Z(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const c=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:i,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/c,hBoxMaxHeight:s/2}),h=Object.assign({},o);Mn(h,Ot(n));const p=Object.assign({maxPadding:h,w:r,h:s,x:o.left,y:o.top},o),g=Pn(l.concat(u),d);Fn(a.fullSize,p,d,g),Fn(l,p,d,g),Fn(u,p,d,g)&&Fn(l,p,d,g),function(e){const t=e.maxPadding;function i(i){const n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(p),Nn(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,Nn(a.rightAndBottom,p,d,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Z(a.chartArea,(t=>{const i=t.box;Object.assign(i,e.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class In{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class Gn extends In{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vn="$chartjs",Hn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bn=e=>null===e||""===e;const Wn=!!Ci&&{passive:!0};function zn(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,Wn)}function Un(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function jn(e,t,i){const n=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const i of e)t=t||Un(i.addedNodes,n),t=t&&!Un(i.removedNodes,n);t&&i()}));return o.observe(document,{childList:!0,subtree:!0}),o}function Kn(e,t,i){const n=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const i of e)t=t||Un(i.removedNodes,n),t=t&&!Un(i.addedNodes,n);t&&i()}));return o.observe(document,{childList:!0,subtree:!0}),o}const Yn=new Map;let qn=0;function Qn(){const e=window.devicePixelRatio;e!==qn&&(qn=e,Yn.forEach(((t,i)=>{i.currentDevicePixelRatio!==e&&t()})))}function Xn(e,t,i){const n=e.canvas,o=n&&li(n);if(!o)return;const r=Ue(((e,t)=>{const n=o.clientWidth;i(e,t),n<o.clientWidth&&i()}),window),s=new ResizeObserver((e=>{const t=e[0],i=t.contentRect.width,n=t.contentRect.height;0===i&&0===n||r(i,n)}));return s.observe(o),function(e,t){Yn.size||window.addEventListener("resize",Qn),Yn.set(e,t)}(e,r),s}function $n(e,t,i){i&&i.disconnect(),"resize"===t&&function(e){Yn.delete(e),Yn.size||window.removeEventListener("resize",Qn)}(e)}function Jn(e,t,i){const n=e.canvas,o=Ue((t=>{null!==e.ctx&&i(function(e,t){const i=Hn[e.type]||e.type,{x:n,y:o}=gi(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,i){e&&e.addEventListener(t,i,Wn)}(n,t,o),o}class Zn extends In{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){const i=e.style,n=e.getAttribute("height"),o=e.getAttribute("width");if(e[Vn]={initial:{height:n,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Bn(o)){const t=yi(e,"width");void 0!==t&&(e.width=t)}if(Bn(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=yi(e,"height");void 0!==t&&(e.height=t)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Vn])return!1;const i=t[Vn].initial;["height","width"].forEach((e=>{const n=i[e];j(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=i.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[Vn],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:jn,detach:Kn,resize:Xn}[t]||Jn;n[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];if(!n)return;({attach:$n,detach:$n,resize:$n}[t]||zn)(e,t,n),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return mi(e,t,i,n)}isAttached(e){const t=e&&li(e);return!(!t||!t.isConnected)}}class eo{constructor(){u(this,"x",void 0),u(this,"y",void 0),u(this,"active",!1),u(this,"options",void 0),u(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Re(this.x)&&Re(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach((e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]})),n}}function to(e,t){const i=e.options.ticks,n=function(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),o=e._maxLength/i;return Math.floor(Math.min(n,o))}(e),o=Math.min(i.maxTicksLimit||n,n),r=i.major.enabled?function(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}(t):[],s=r.length,a=r[0],l=r[s-1],u=[];if(s>o)return function(e,t,i,n){let o,r=0,s=i[0];for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=i[r*n])}(t,u,r,s/o),u;const c=function(e,t,i){const n=function(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}(e),o=t.length/i;if(!n)return Math.max(o,1);const r=function(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(0|i)&&t.push(i),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let s=0,a=r.length-1;s<a;s++){const e=r[s];if(e>o)return e}return Math.max(o,1)}(r,t,o);if(s>0){let e,i;const n=s>1?Math.round((l-a)/(s-1)):null;for(io(t,u,c,j(n)?0:a-n,a),e=0,i=s-1;e<i;e++)io(t,u,c,r[e],r[e+1]);return io(t,u,c,l,j(n)?t.length:l+n),u}return io(t,u,c),u}function io(e,t,i,n,o){const r=X(n,0),s=Math.min(X(o,e.length),e.length);let a,l,u,c=0;for(i=Math.ceil(i),o&&(a=o-n,i=a/Math.floor(a/i)),u=r;u<0;)c++,u=Math.round(r+c*i);for(l=Math.max(r,0);l<s;l++)l===u&&(t.push(e[l]),c++,u=Math.round(r+c*i))}u(eo,"defaults",{}),u(eo,"defaultRoutes",void 0);const no=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,oo=(e,t)=>Math.min(t||e,e);function ro(e,t){const i=[],n=e.length/t,o=e.length;let r=0;for(;r<o;r+=n)i.push(e[Math.floor(r)]);return i}function so(e,t,i){const n=e.ticks.length,o=Math.min(t,n-1),r=e._startPixel,s=e._endPixel,a=1e-6;let l,u=e.getPixelForTick(o);if(!(i&&(l=1===n?Math.max(u-r,s-u):0===t?(e.getPixelForTick(1)-u)/2:(u-e.getPixelForTick(o-1))/2,u+=o<t?l:-l,u<r-a||u>s+a)))return u}function ao(e){return e.drawTicks?e.tickLength:0}function lo(e,t){if(!e.display)return 0;const i=It(e.font,t),n=Ot(e.padding);return(K(e.text)?e.text.length:1)*i.lineHeight+n.height}function uo(e,t,i){let n=je(e);return(i&&"right"!==t||!i&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class co extends eo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=Q(e,Number.POSITIVE_INFINITY),t=Q(t,Number.NEGATIVE_INFINITY),i=Q(i,Number.POSITIVE_INFINITY),n=Q(n,Number.NEGATIVE_INFINITY),{min:Q(e,i),max:Q(t,n),minDefined:q(e),maxDefined:q(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:o,maxDefined:r}=this.getUserBounds();if(o&&r)return{min:i,max:n};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)t=s[a].controller.getMinMax(this,e),o||(i=Math.min(i,t.min)),r||(n=Math.max(n,t.max));return i=r&&i>n?n:i,n=o&&i>n?i:n,{min:Q(i,Q(n,i)),max:Q(n,Q(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){J(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:o,ticks:r}=this.options,s=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){const{min:n,max:o}=e,r=$(t,(o-n)/2),s=(e,t)=>i&&0===e?0:e+t;return{min:s(n,-Math.abs(r)),max:s(o,r)}}(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?ro(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=to(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){J(this.options.afterUpdate,[this])}beforeSetDimensions(){J(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){J(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),J(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){J(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i],o.label=J(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){J(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){J(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=oo(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,o=t.maxRotation;let r,s,a,l=n;if(!this._isVisible()||!t.display||n>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const u=this._getLabelSizes(),c=u.widest.width,d=u.highest.height,h=Ne(this.chart.width-c,0,this.maxWidth);r=e.offset?this.maxWidth/i:h/(i-1),c+6>r&&(r=h/(i-(e.offset?.5:1)),s=this.maxHeight-ao(e.grid)-t.padding-lo(e.title,this.chart.options.font),a=Math.sqrt(c*c+d*d),l=Pe(Math.min(Math.asin(Ne((u.highest.height+6)/r,-1,1)),Math.asin(Ne(s/a,-1,1))-Math.asin(Ne(d/a,-1,1)))),l=Math.max(n,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){J(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){J(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:o}}=this,r=this._isVisible(),s=this.isHorizontal();if(r){const r=lo(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=ao(o)+r):(e.height=this.maxHeight,e.width=ao(o)+r),i.display&&this.ticks.length){const{first:t,last:n,widest:o,highest:r}=this._getLabelSizes(),a=2*i.padding,l=De(this.labelRotation),u=Math.cos(l),c=Math.sin(l);if(s){const t=i.mirror?0:c*o.width+u*r.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=i.mirror?0:u*o.width+c*r.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,n,c,u)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:o,padding:r},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;a?l?(c=n*e.width,d=i*t.height):(c=i*e.height,d=n*t.width):"start"===o?d=t.width:"end"===o?c=e.width:"inner"!==o&&(c=e.width/2,d=t.width/2),this.paddingLeft=Math.max((c-s+r)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-u+r)*this.width/(this.width-u),0)}else{let i=t.height/2,n=e.height/2;"start"===o?(i=0,n=e.height):"end"===o&&(i=t.height,n=0),this.paddingTop=i+r,this.paddingBottom=n+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){J(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)j(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=ro(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:o}=this,r=[],s=[],a=Math.floor(t/oo(t,i));let l,u,c,d,h,p,g,f,m,v,C,y=0,w=0;for(l=0;l<t;l+=a){if(d=e[l].label,h=this._resolveTickFontOptions(l),n.font=p=h.string,g=o[p]=o[p]||{data:{},gc:[]},f=h.lineHeight,m=v=0,j(d)||K(d)){if(K(d))for(u=0,c=d.length;u<c;++u)C=d[u],j(C)||K(C)||(m=gt(n,g.data,g.gc,m,C),v+=f)}else m=gt(n,g.data,g.gc,m,d),v=f;r.push(m),s.push(v),y=Math.max(m,y),w=Math.max(v,w)}!function(e,t){Z(e,(e=>{const i=e.gc,n=i.length/2;let o;if(n>t){for(o=0;o<n;++o)delete e.data[i[o]];i.splice(0,n)}}))}(o,t);const b=r.indexOf(y),E=s.indexOf(w),S=e=>({width:r[e]||0,height:s[e]||0});return{first:S(0),last:S(t-1),widest:S(b),highest:S(E),widths:r,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ne(this._alignToPixels?mt(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function(e,t,i){return Vt(e,{tick:i,index:t,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=Vt(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=De(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,s=o?o.widest.width+r:0,a=o?o.highest.height+r:0;return this.isHorizontal()?a*i>s*n?s/i:a/n:a*n<s*i?a/i:s/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:o,position:r,border:s}=n,a=o.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),c=ao(o),d=[],h=s.setContext(this.getContext()),p=h.display?h.width:0,g=p/2,f=function(e){return mt(i,e,p)};let m,v,C,y,w,b,E,S,x,R,T,D;if("top"===r)m=f(this.bottom),b=this.bottom-c,S=m-g,R=f(e.top)+g,D=e.bottom;else if("bottom"===r)m=f(this.top),R=e.top,D=f(e.bottom)-g,b=m+g,S=this.top+c;else if("left"===r)m=f(this.right),w=this.right-c,E=m-g,x=f(e.left)+g,T=e.right;else if("right"===r)m=f(this.left),x=e.left,T=f(e.right)-g,w=m+g,E=this.left+c;else if("x"===t){if("center"===r)m=f((e.top+e.bottom)/2+.5);else if(Y(r)){const e=Object.keys(r)[0],t=r[e];m=f(this.chart.scales[e].getPixelForValue(t))}R=e.top,D=e.bottom,b=m+g,S=b+c}else if("y"===t){if("center"===r)m=f((e.left+e.right)/2);else if(Y(r)){const e=Object.keys(r)[0],t=r[e];m=f(this.chart.scales[e].getPixelForValue(t))}w=m-g,E=w-c,x=e.left,T=e.right}const P=X(n.ticks.maxTicksLimit,u),A=Math.max(1,Math.ceil(u/P));for(v=0;v<u;v+=A){const e=this.getContext(v),t=o.setContext(e),n=s.setContext(e),r=t.lineWidth,u=t.color,c=n.dash||[],h=n.dashOffset,p=t.tickWidth,g=t.tickColor,f=t.tickBorderDash||[],m=t.tickBorderDashOffset;C=so(this,v,a),void 0!==C&&(y=mt(i,C,r),l?w=E=x=T=y:b=S=R=D=y,d.push({tx1:w,ty1:b,tx2:E,ty2:S,x1:x,y1:R,x2:T,y2:D,width:r,color:u,borderDash:c,borderDashOffset:h,tickWidth:p,tickColor:g,tickBorderDash:f,tickBorderDashOffset:m}))}return this._ticksLength=u,this._borderValue=m,d}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:o}=i,r=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:u,mirror:c}=o,d=ao(i.grid),h=d+u,p=c?-u:h,g=-De(this.labelRotation),f=[];let m,v,C,y,w,b,E,S,x,R,T,D,P="middle";if("top"===n)b=this.bottom-p,E=this._getXAxisLabelAlignment();else if("bottom"===n)b=this.top+p,E=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(d);E=e.textAlign,w=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(d);E=e.textAlign,w=e.x}else if("x"===t){if("center"===n)b=(e.top+e.bottom)/2+h;else if(Y(n)){const e=Object.keys(n)[0],t=n[e];b=this.chart.scales[e].getPixelForValue(t)+h}E=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)w=(e.left+e.right)/2-h;else if(Y(n)){const e=Object.keys(n)[0],t=n[e];w=this.chart.scales[e].getPixelForValue(t)}E=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===a?P="top":"end"===a&&(P="bottom"));const A=this._getLabelSizes();for(m=0,v=s.length;m<v;++m){C=s[m],y=C.label;const e=o.setContext(this.getContext(m));S=this.getPixelForTick(m)+o.labelOffset,x=this._resolveTickFontOptions(m),R=x.lineHeight,T=K(y)?y.length:1;const t=T/2,i=e.color,a=e.textStrokeColor,u=e.textStrokeWidth;let d,h=E;if(r?(w=S,"inner"===E&&(h=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),D="top"===n?"near"===l||0!==g?-T*R+R/2:"center"===l?-A.highest.height/2-t*R+R:-A.highest.height+R/2:"near"===l||0!==g?R/2:"center"===l?A.highest.height/2-t*R:A.highest.height-T*R,c&&(D*=-1),0===g||e.showLabelBackdrop||(w+=R/2*Math.sin(g))):(b=S,D=(1-T)*R/2),e.showLabelBackdrop){const t=Ot(e.backdropPadding),i=A.heights[m],n=A.widths[m];let o=D-t.top,r=0-t.left;switch(P){case"middle":o-=i/2;break;case"bottom":o-=i}switch(E){case"center":r-=n/2;break;case"right":r-=n;break;case"inner":m===v-1?r-=n:m>0&&(r-=n/2)}d={left:r,top:o,width:n+t.width,height:i+t.height,color:e.backdropColor}}f.push({label:y,font:x,textOffset:D,options:{rotation:g,color:i,strokeColor:a,strokeWidth:u,textAlign:h,textBaseline:P,translation:[w,b],backdrop:d}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-De(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,r=e+o,s=this._getLabelSizes().widest.width;let a,l;return"left"===t?n?(l=this.right+o,"near"===i?a="left":"center"===i?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-r,"near"===i?a="right":"center"===i?(a="center",l-=s/2):(a="left",l=this.left)):"right"===t?n?(l=this.left+o,"near"===i?a="right":"center"===i?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+r,"near"===i?a="left":"center"===i?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:o,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,o,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex((t=>t.value===e));if(i>=0){return t.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const s=(e,t,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(t.display)for(o=0,r=n.length;o<r;++o){const e=n[o];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),r=i.display?o.width:0;if(!r)return;const s=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,u,c,d;this.isHorizontal()?(l=mt(e,this.left,r)-r/2,u=mt(e,this.right,s)+s/2,c=d=a):(c=mt(e,this.top,r)-r/2,d=mt(e,this.bottom,s)+s/2,l=u=a),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,c),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,i=this._computeLabelArea();i&&bt(t,i);const n=this.getLabelItems(e);for(const o of n){const e=o.options,i=o.font;Dt(t,o.label,0,o.textOffset,i,e)}i&&Et(t)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const o=It(i.font),r=Ot(i.padding),s=i.align;let a=o.lineHeight/2;"bottom"===t||"center"===t||Y(t)?(a+=r.bottom,K(i.text)&&(a+=o.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:l,titleY:u,maxWidth:c,rotation:d}=function(e,t,i,n){const{top:o,left:r,bottom:s,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let d,h,p,g=0;const f=s-o,m=a-r;if(e.isHorizontal()){if(h=Ke(n,r,a),Y(i)){const e=Object.keys(i)[0],n=i[e];p=c[e].getPixelForValue(n)+f-t}else p="center"===i?(u.bottom+u.top)/2+f-t:no(e,i,t);d=a-r}else{if(Y(i)){const e=Object.keys(i)[0],n=i[e];h=c[e].getPixelForValue(n)-m+t}else h="center"===i?(u.left+u.right)/2-m+t:no(e,i,t);p=Ke(n,s,o),g="left"===i?-Ce:Ce}return{titleX:h,titleY:p,maxWidth:d,rotation:g}}(this,a,t,s);Dt(e,i.text,0,0,o,{color:i.color,maxWidth:c,rotation:d,textAlign:uo(s,t,n),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=X(e.grid&&e.grid.z,-1),n=X(e.border&&e.border.z,0);return this._isVisible()&&this.draw===co.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let o,r;for(o=0,r=t.length;o<r;++o){const r=t[o];r[i]!==this.id||e&&r.type!==e||n.push(r)}return n}_resolveTickFontOptions(e){return It(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ho{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const n=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in n||(n[o]=e,function(e,t,i){const n=oe(Object.create(null),[i?pt.get(i):{},pt.get(t),e.defaults]);pt.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((i=>{const n=i.split("."),o=n.pop(),r=[e].concat(n).join("."),s=t[i].split("."),a=s.pop(),l=s.join(".");pt.route(r,o,l,a)}))}(t,e.defaultRoutes);e.descriptors&&pt.describe(t,e.descriptors)}(e,r,i),this.override&&pt.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in pt[n]&&(delete pt[n][i],this.override&&delete lt[i])}}class po{constructor(){this.controllers=new ho(Xi,"datasets",!0),this.elements=new ho(eo,"elements"),this.plugins=new ho(Object,"plugins"),this.scales=new ho(co,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._each("unregister",t,this.scales)}_each(e,t,i){[...t].forEach((t=>{const n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Z(t,(t=>{const n=i||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,i){const n=ue(e);J(i["before"+n],[],i),t[e](i),J(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var go=new po;class fo{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=n?this._descriptors(e).filter(n):this._descriptors(e),r=this._notify(o,e,t,i);return"afterDestroy"===t&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,n){n=n||{};for(const o of e){const e=o.plugin;if(!1===J(e[i],[t,n,o.options],e)&&n.cancelable)return!1}return!0}invalidate(){j(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=X(i.options&&i.options.plugins,{}),o=function(e){const t={},i=[],n=Object.keys(go.plugins.items);for(let r=0;r<n.length;r++)i.push(go.getPlugin(n[r]));const o=e.plugins||[];for(let r=0;r<o.length;r++){const e=o[r];-1===i.indexOf(e)&&(i.push(e),t[e.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,t,i,n){let{plugins:o,localIds:r}=t;const s=[],a=e.getContext();for(const l of o){const t=l.id,o=mo(i[t],n);null!==o&&s.push({plugin:l,options:vo(e.config,{plugin:l,local:r[t]},o,a)})}return s}(e,o,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function mo(e,t){return t||!1!==e?!0===e?{}:e:null}function vo(e,t,i,n){let{plugin:o,local:r}=t;const s=e.pluginScopeKeys(o),a=e.getOptionScopes(i,s);return r&&o.defaults&&a.push(o.defaults),e.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Co(e,t){const i=pt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function yo(e){if("x"===e||"y"===e||"r"===e)return e}function wo(e){if(yo(e))return e;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const r of i){const t=r.axis||("top"===(o=r.position)||"bottom"===o?"x":"left"===o||"right"===o?"y":void 0)||e.length>1&&yo(e[0].toLowerCase());if(t)return t}var o;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function bo(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function Eo(e,t){const i=lt[e.type]||{scales:{}},n=t.scales||{},o=Co(e.type,t),r=Object.create(null);return Object.keys(n).forEach((t=>{const s=n[t];if(!Y(s))return console.error("Invalid scale configuration for scale: ".concat(t));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=wo(t,s,function(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(i.length)return bo(e,"x",i[0])||bo(e,"y",i[0])}return{}}(t,e),pt.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,o),u=i.scales||{};r[t]=re(Object.create(null),[{axis:a},s,u[a],u[l]])})),e.data.datasets.forEach((i=>{const o=i.type||e.type,s=i.indexAxis||Co(o,t),a=(lt[o]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let i=e;return"_index_"===e?i=t:"_value_"===e&&(i="x"===t?"y":"x"),i}(e,s),o=i[t+"AxisID"]||t;r[o]=r[o]||Object.create(null),re(r[o],[{axis:t},n[o],a[e]])}))})),Object.keys(r).forEach((e=>{const t=r[e];re(t,[pt.scales[t.type],pt.scale])})),r}function So(e){const t=e.options||(e.options={});t.plugins=X(t.plugins,{}),t.scales=Eo(e,t)}function xo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Ro=new Map,To=new Set;function Do(e,t){let i=Ro.get(e);return i||(i=t(),Ro.set(e,i),To.add(i)),i}const Po=(e,t,i)=>{const n=le(t,i);void 0!==n&&e.add(n)};class Ao{constructor(e){this._config=function(e){return(e=e||{}).data=xo(e.data),So(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=xo(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),So(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Do(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return Do("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return Do("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,i=this.type;return Do("".concat(i,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return n&&!t||(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:o}=this,r=this._cachedScopes(e,i),s=r.get(t);if(s)return s;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>Po(a,e,t)))),t.forEach((e=>Po(a,n,e))),t.forEach((e=>Po(a,lt[o]||{},e))),t.forEach((e=>Po(a,pt,e))),t.forEach((e=>Po(a,ut,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),To.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,lt[t]||{},pt.datasets[t]||{},{type:t},pt,ut]}resolveNamedOptions(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const o={$shared:!0},{resolver:r,subPrefixes:s}=Mo(this._resolverCache,e,n);let a=r;if(function(e,t){const{isScriptable:i,isIndexable:n}=Wt(e);for(const o of t){const t=i(o),r=n(o),s=(r||t)&&e[o];if(t&&(de(s)||_o(s))||r&&K(s))return!0}return!1}(r,t)){o.$shared=!1;a=Bt(r,i=de(i)?i():i,this.createResolver(e,i,s))}for(const l of t)o[l]=a[l];return o}createResolver(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:o}=Mo(this._resolverCache,e,i);return Y(t)?Bt(o,t,void 0,n):o}}function Mo(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const o=i.join();let r=n.get(o);if(!r){r={resolver:Ht(t,i),subPrefixes:i.filter((e=>!e.toLowerCase().includes("hover")))},n.set(o,r)}return r}const _o=e=>Y(e)&&Object.getOwnPropertyNames(e).some((t=>de(e[t])));const ko=["top","bottom","left","right","chartArea"];function Fo(e,t){return"top"===e||"bottom"===e||-1===ko.indexOf(e)&&"x"===t}function Lo(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function No(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),J(i&&i.onComplete,[e],t)}function Oo(e){const t=e.chart,i=t.options.animation;J(i&&i.onProgress,[e],t)}function Io(e){return ai()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Go={},Vo=e=>{const t=Io(e);return Object.values(Go).filter((e=>e.canvas===t)).pop()};function Ho(e,t,i){const n=Object.keys(e);for(const o of n){const n=+o;if(n>=t){const r=e[o];delete e[o],(i>0||n>t)&&(e[n+i]=r)}}}function Bo(e,t,i){return e.options.clip?e[i]:t[i]}class Wo{static register(){go.add(...arguments),zo()}static unregister(){go.remove(...arguments),zo()}constructor(e,t){const i=this.config=new Ao(t),n=Io(e),o=Vo(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!ai()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Gn:Zn}(n)),this.platform.updateConfig(i);const s=this.platform.acquireContext(n,r.aspectRatio),a=s&&s.canvas,l=a&&a.height,u=a&&a.width;this.id=U(),this.ctx=s,this.canvas=a,this.width=u,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t?(clearTimeout(i),i=setTimeout(e,t,o)):e.apply(this,o),t}}((e=>this.update(e)),r.resizeDelay||0),this._dataChanges=[],Go[this.id]=this,s&&a?(Li.listen(this,"complete",No),Li.listen(this,"progress",Oo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:o}=this;return j(e)?t&&o?o:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return go}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vt(this.canvas,this.ctx),this}stop(){return Li.stop(this),this}resize(e,t){Li.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,e,t,o),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,vi(this,s,!0)&&(this.notifyPlugins("resize",{size:r}),J(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Z(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const i=t[e],n=wo(e,i),o="r"===n,r="x"===n;return{options:i,dposition:o?"chartArea":r?"bottom":"left",dtype:o?"radialLinear":r?"category":"linear"}})))),Z(o,(t=>{const o=t.options,r=o.id,s=wo(r,o),a=X(o.type,t.dtype);void 0!==o.position&&Fo(o.position,s)===Fo(t.dposition)||(o.position=t.dposition),n[r]=!0;let l=null;if(r in i&&i[r].type===a)l=i[r];else{l=new(go.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),i[l.id]=l}l.init(o,e)})),Z(n,((e,t)=>{e||delete i[t]})),Z(i,(e=>{On.configure(this,e,e.options),On.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort(((e,t)=>e.index-t.index)),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Lo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,i)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const n=t[i];let o=this.getDatasetMeta(i);const r=n.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=r,o.indexAxis=n.indexAxis||Co(r,this.options),o.order=n.order||0,o.index=i,o.label=""+n.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const t=go.getController(r),{datasetElementType:n,dataElementType:s}=pt.datasets[r];Object.assign(t,{dataElementType:go.getElement(s),datasetElementType:n&&go.getElement(n)}),o.controller=new t(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Z(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===o.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),n||Z(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Lo("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Z(this.scales,(e=>{On.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);he(t,i)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:o}of t){Ho(e,n,"_removeElements"===i?-o:o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=i(0);for(let o=1;o<t;o++)if(!he(n,i(o)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;On.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Z(this.boxes,(e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,de(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Li.has(this)?this.attached&&!Li.running(this)&&Li.start(this):(this.draw(),No({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,o;for(n=0,o=t.length;n<o;++n){const o=t[n];e&&!o.visible||i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,n=!i.disabled,o=function(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:Bo(i,t,"left"),right:Bo(i,t,"right"),top:Bo(n,t,"top"),bottom:Bo(n,t,"bottom")}:t}(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&bt(t,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),e.controller.draw(),n&&Et(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return wt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const o=Sn.modes[t];return"function"===typeof o?o(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Vt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"===typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,n);ce(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(o,{visible:i}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Li.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vt(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Go[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};Z(this.options.events,(e=>i(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(i,n)=>{e[i]&&(t.removeEventListener(this,i,n),delete e[i])},o=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",o),i("detach",r)};r=()=>{this.attached=!1,n("resize",o),this._stop(),this._resize(0,0),i("attach",s)},t.isAttached(this.canvas)?s():r()}unbindEvents(){Z(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Z(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let o,r,s,a;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+n+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){r=e[s];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map((e=>{let{datasetIndex:t,index:i}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[i],index:i}}));!ee(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,i){const n=this.options.hover,o=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),r=o(t,e),s=i?e:o(e,t);r.length&&this.updateHoverStyle(r,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:o}=this,r=t,s=this._getActiveElements(e,n,i,r),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,i,n){return i&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,i,a);i&&(this._lastEvent=null,J(o.onHover,[e,s,this],this),a&&J(o.onClick,[e,s,this],this));const u=!ee(s,n);return(u||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,u}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,n)}}function zo(){return Z(Wo.instances,(e=>e._plugins.invalidate()))}function Uo(e,t,i,n){const o=Ft(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(i-t)/2,s=Math.min(r,n*t/2),a=e=>{const t=(i-Math.min(r,e))*n/2;return Ne(e,0,Math.min(r,t))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:Ne(o.innerStart,0,s),innerEnd:Ne(o.innerEnd,0,s)}}function jo(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function Ko(e,t,i,n,o,r){const{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,d=Math.max(t.outerRadius+n+i-u,0),h=c>0?c+n+i+u:0;let p=0;const g=o-l;if(n){const e=((c>0?c-n:0)+(d>0?d-n:0))/2;p=(g-(0!==e?g*e/(e+n):g))/2}const f=(g-Math.max(.001,g*d-i/pe)/d)/2,m=l+f+p,v=o-f-p,{outerStart:C,outerEnd:y,innerStart:w,innerEnd:b}=Uo(t,h,d,v-m),E=d-C,S=d-y,x=m+C/E,R=v-y/S,T=h+w,D=h+b,P=m+w/T,A=v-b/D;if(e.beginPath(),r){const t=(x+R)/2;if(e.arc(s,a,d,x,t),e.arc(s,a,d,t,R),y>0){const t=jo(S,R,s,a);e.arc(t.x,t.y,y,R,v+Ce)}const i=jo(D,v,s,a);if(e.lineTo(i.x,i.y),b>0){const t=jo(D,A,s,a);e.arc(t.x,t.y,b,v+Ce,A+Math.PI)}const n=(v-b/h+(m+w/h))/2;if(e.arc(s,a,h,v-b/h,n,!0),e.arc(s,a,h,n,m+w/h,!0),w>0){const t=jo(T,P,s,a);e.arc(t.x,t.y,w,P+Math.PI,m-Ce)}const o=jo(E,m,s,a);if(e.lineTo(o.x,o.y),C>0){const t=jo(E,x,s,a);e.arc(t.x,t.y,C,m-Ce,x)}}else{e.moveTo(s,a);const t=Math.cos(x)*d+s,i=Math.sin(x)*d+a;e.lineTo(t,i);const n=Math.cos(R)*d+s,o=Math.sin(R)*d+a;e.lineTo(n,o)}e.closePath()}function Yo(e,t,i,n,o){const{fullCircles:r,startAngle:s,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!u)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*u,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");let g=t.endAngle;if(r){Ko(e,t,i,n,g,o);for(let t=0;t<r;++t)e.stroke();isNaN(a)||(g=s+(a%ge||ge))}p&&function(e,t,i){const{startAngle:n,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=t;let u=o/a;e.beginPath(),e.arc(r,s,a,n-u,i+u),l>o?(u=o/l,e.arc(r,s,l,i+u,n-u,!0)):e.arc(r,s,o,i+Ce,n-Ce),e.closePath(),e.clip()}(e,t,g),r||(Ko(e,t,i,n,g,o),e.stroke())}u(Wo,"defaults",pt),u(Wo,"instances",Go),u(Wo,"overrides",lt),u(Wo,"registry",go),u(Wo,"version","4.4.3"),u(Wo,"getChart",Vo);class qo extends eo{constructor(e){super(),u(this,"circumference",void 0),u(this,"endAngle",void 0),u(this,"fullCircles",void 0),u(this,"innerRadius",void 0),u(this,"outerRadius",void 0),u(this,"pixelMargin",void 0),u(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.getProps(["x","y"],i),{angle:o,distance:r}=Me(n,{x:e,y:t}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:u,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=(this.options.spacing+this.options.borderWidth)/2,h=X(c,a-s)>=ge||Le(o,s,a),p=Oe(r,l+d,u+d);return h&&p}getCenterPoint(e){const{x:t,y:i,startAngle:n,endAngle:o,innerRadius:r,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,u=(n+o)/2,c=(r+s+l+a)/2;return{x:t+Math.cos(u)*c,y:i+Math.sin(u)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,n=(t.offset||0)/4,o=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>ge?Math.floor(i/ge):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);const a=n*(1-Math.sin(Math.min(pe,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,i,n,o){const{fullCircles:r,startAngle:s,circumference:a}=t;let l=t.endAngle;if(r){Ko(e,t,i,n,l,o);for(let t=0;t<r;++t)e.fill();isNaN(a)||(l=s+(a%ge||ge))}Ko(e,t,i,n,l,o),e.fill()}(e,this,a,o,r),Yo(e,this,a,o,r),e.restore()}}function Qo(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=X(i.borderCapStyle,t.borderCapStyle),e.setLineDash(X(i.borderDash,t.borderDash)),e.lineDashOffset=X(i.borderDashOffset,t.borderDashOffset),e.lineJoin=X(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=X(i.borderWidth,t.borderWidth),e.strokeStyle=X(i.borderColor,t.borderColor)}function Xo(e,t,i){e.lineTo(i.x,i.y)}function $o(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:o=0,end:r=n-1}=i,{start:s,end:a}=t,l=Math.max(o,s),u=Math.min(r,a),c=o<s&&r<s||o>a&&r>a;return{count:n,start:l,loop:t.loop,ilen:u<l&&!c?n+u-l:u-l}}function Jo(e,t,i,n){const{points:o,options:r}=t,{count:s,start:a,loop:l,ilen:u}=$o(o,i,n),c=function(e){return e.stepped?St:e.tension||"monotone"===e.cubicInterpolationMode?xt:Xo}(r);let d,h,p,{move:g=!0,reverse:f}=n||{};for(d=0;d<=u;++d)h=o[(a+(f?u-d:d))%s],h.skip||(g?(e.moveTo(h.x,h.y),g=!1):c(e,p,h,f,r.stepped),p=h);return l&&(h=o[(a+(f?u:0))%s],c(e,p,h,f,r.stepped)),!!l}function Zo(e,t,i,n){const o=t.points,{count:r,start:s,ilen:a}=$o(o,i,n),{move:l=!0,reverse:u}=n||{};let c,d,h,p,g,f,m=0,v=0;const C=e=>(s+(u?a-e:e))%r,y=()=>{p!==g&&(e.lineTo(m,g),e.lineTo(m,p),e.lineTo(m,f))};for(l&&(d=o[C(0)],e.moveTo(d.x,d.y)),c=0;c<=a;++c){if(d=o[C(c)],d.skip)continue;const t=d.x,i=d.y,n=0|t;n===h?(i<p?p=i:i>g&&(g=i),m=(v*m+t)/++v):(y(),e.lineTo(t,i),h=n,v=0,p=g=i),f=i}y()}function er(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!i?Zo:Jo}u(qo,"id","arc"),u(qo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),u(qo,"defaultRoutes",{backgroundColor:"backgroundColor"}),u(qo,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const tr="function"===typeof Path2D;function ir(e,t,i,n){tr&&!t.options.segment?function(e,t,i,n){let o=t._path;o||(o=t._path=new Path2D,t.path(o,i,n)&&o.closePath()),Qo(e,t.options),e.stroke(o)}(e,t,i,n):function(e,t,i,n){const{segments:o,options:r}=t,s=er(t);for(const a of o)Qo(e,r,a.style),e.beginPath(),s(e,t,a,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}(e,t,i,n)}class nr extends eo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;si(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const i=e.points,n=e.options.spanGaps,o=i.length;if(!o)return[];const r=!!e._loop,{start:s,end:a}=function(e,t,i,n){let o=0,r=t-1;if(i&&!n)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,i&&(r+=o);r>o&&e[r%t].skip;)r--;return r%=t,{start:o,end:r}}(i,o,r,n);return Mi(e,!0===n?[{start:s,end:a,loop:r}]:function(e,t,i,n){const o=e.length,r=[];let s,a=t,l=e[t];for(s=t+1;s<=i;++s){const i=e[s%o];i.skip||i.stop?l.skip||(n=!1,r.push({start:t%o,end:(s-1)%o,loop:n}),t=a=i.stop?s:null):(a=s,l.skip&&(t=s)),l=i}return null!==a&&r.push({start:t%o,end:a%o,loop:n}),r}(i,s,a<s?a+o:a,!!e._fullLoop&&0===s&&a===o-1),i,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],o=this.points,r=Ai(this,{property:t,start:n,end:n});if(!r.length)return;const s=[],a=function(e){return e.stepped?bi:e.tension||"monotone"===e.cubicInterpolationMode?Ei:wi}(i);let l,u;for(l=0,u=r.length;l<u;++l){const{start:u,end:c}=r[l],d=o[u],h=o[c];if(d===h){s.push(d);continue}const p=a(d,h,Math.abs((n-d[t])/(h[t]-d[t])),i.stepped);p[t]=e[t],s.push(p)}return 1===s.length?s[0]:s}pathSegment(e,t,i){return er(this)(e,this,t,i)}path(e,t,i){const n=this.segments,o=er(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const s of n)r&=o(e,this,s,{start:t,end:t+i-1});return!!r}draw(e,t,i,n){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),ir(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function or(e,t,i,n){const o=e.options,{[i]:r}=e.getProps([i],n);return Math.abs(t-r)<o.radius+o.hitRadius}u(nr,"id","line"),u(nr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),u(nr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),u(nr,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class rr extends eo{constructor(e){super(),u(this,"parsed",void 0),u(this,"skip",void 0),u(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.options,{x:o,y:r}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(t-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return or(this,e,"x",t)}inYRange(e,t){return or(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const i=this.options;this.skip||i.radius<.1||!wt(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Ct(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function sr(e,t){const{x:i,y:n,base:o,width:r,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,d;return e.horizontal?(d=s/2,a=Math.min(i,o),l=Math.max(i,o),u=n-d,c=n+d):(d=r/2,a=i-d,l=i+d,u=Math.min(n,o),c=Math.max(n,o)),{left:a,top:u,right:l,bottom:c}}function ar(e,t,i,n){return e?0:Ne(t,i,n)}function lr(e){const t=sr(e),i=t.right-t.left,n=t.bottom-t.top,o=function(e,t,i){const n=e.options.borderWidth,o=e.borderSkipped,r=Lt(n);return{t:ar(o.top,r.top,0,i),r:ar(o.right,r.right,0,t),b:ar(o.bottom,r.bottom,0,i),l:ar(o.left,r.left,0,t)}}(e,i/2,n/2),r=function(e,t,i){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,r=Nt(o),s=Math.min(t,i),a=e.borderSkipped,l=n||Y(o);return{topLeft:ar(!l||a.top||a.left,r.topLeft,0,s),topRight:ar(!l||a.top||a.right,r.topRight,0,s),bottomLeft:ar(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:ar(!l||a.bottom||a.right,r.bottomRight,0,s)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:r},inner:{x:t.left+o.l,y:t.top+o.t,w:i-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function ur(e,t,i,n){const o=null===t,r=null===i,s=e&&!(o&&r)&&sr(e,n);return s&&(o||Oe(t,s.left,s.right))&&(r||Oe(i,s.top,s.bottom))}function cr(e,t){e.rect(t.x,t.y,t.w,t.h)}function dr(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==i.x?-t:0,o=e.y!==i.y?-t:0,r=(e.x+e.w!==i.x+i.w?t:0)-n,s=(e.y+e.h!==i.y+i.h?t:0)-o;return{x:e.x+n,y:e.y+o,w:e.w+r,h:e.h+s,radius:e.radius}}u(rr,"id","point"),u(rr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),u(rr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class hr extends eo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:o,outer:r}=lr(this),s=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Pt:cr;var a;e.save(),r.w===o.w&&r.h===o.h||(e.beginPath(),s(e,dr(r,t,o)),e.clip(),s(e,dr(o,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),s(e,dr(o,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return ur(this,e,t,i)}inXRange(e,t){return ur(this,e,null,t)}inYRange(e,t){return ur(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+n)/2:t,y:o?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}u(hr,"id","bar"),u(hr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),u(hr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pr(e,t,i,n){if(n)return;let o=t[e],r=i[e];return"angle"===e&&(o=Fe(o),r=Fe(r)),{property:e,start:o,end:r}}function gr(e,t,i){for(;t>e;t--){const e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function fr(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}function mr(e,t){let i=[],n=!1;return K(e)?(n=!0,i=e):i=function(e,t){const{x:i=null,y:n=null}=e||{},o=t.points,r=[];return t.segments.forEach((e=>{let{start:t,end:s}=e;s=gr(t,s,o);const a=o[t],l=o[s];null!==n?(r.push({x:a.x,y:n}),r.push({x:l.x,y:n})):null!==i&&(r.push({x:i,y:a.y}),r.push({x:i,y:l.y}))})),r}(e,t),i.length?new nr({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function vr(e){return e&&!1!==e.fill}function Cr(e,t,i){let n=e[t].fill;const o=[t];let r;if(!i)return n;for(;!1!==n&&-1===o.indexOf(n);){if(!q(n))return n;if(r=e[n],!r)return!1;if(r.visible)return n;o.push(n),n=r.fill}return!1}function yr(e,t,i){const n=function(e){const t=e.options,i=t.fill;let n=X(i&&i.target,i);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(Y(n))return!isNaN(n.value)&&n;let o=parseFloat(n);return q(o)&&Math.floor(o)===o?function(e,t,i,n){"-"!==e&&"+"!==e||(i=t+i);if(i===t||i<0||i>=n)return!1;return i}(n[0],t,o,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function wr(e,t,i){const n=[];for(let o=0;o<i.length;o++){const r=i[o],{first:s,last:a,point:l}=br(r,t,"x");if(!(!l||s&&a))if(s)n.unshift(l);else if(e.push(l),!a)break}e.push(...n)}function br(e,t,i){const n=e.interpolate(t,i);if(!n)return{};const o=n[i],r=e.segments,s=e.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const e=r[u],t=s[e.start][i],n=s[e.end][i];if(Oe(o,t,n)){a=o===t,l=o===n;break}}return{first:a,last:l,point:n}}class Er{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:n,y:o,radius:r}=this;return t=t||{start:0,end:ge},e.arc(n,o,r,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:n}=this,o=e.angle;return{x:t+Math.cos(o)*n,y:i+Math.sin(o)*n,angle:o}}}function Sr(e){const{chart:t,fill:i,line:n}=e;if(q(i))return function(e,t){const i=e.getDatasetMeta(t),n=i&&e.isDatasetVisible(t);return n?i.dataset:null}(t,i);if("stack"===i)return function(e){const{scale:t,index:i,line:n}=e,o=[],r=n.segments,s=n.points,a=function(e,t){const i=[],n=e.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){const e=n[o];if(e.index===t)break;e.hidden||i.unshift(e.dataset)}return i}(t,i);a.push(mr({x:null,y:t.bottom},n));for(let l=0;l<r.length;l++){const e=r[l];for(let t=e.start;t<=e.end;t++)wr(o,s[t],a)}return new nr({points:o,options:{}})}(e);if("shape"===i)return!0;const o=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:i}=e,n=t.options,o=t.getLabels().length,r=n.reverse?t.max:t.min,s=function(e,t,i){let n;return n="start"===e?i:"end"===e?t.options.reverse?t.min:t.max:Y(e)?e.value:t.getBaseValue(),n}(i,t,r),a=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,r);return new Er({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(t.getPointPositionForValue(l,s));return a}(e);return function(e){const{scale:t={},fill:i}=e,n=function(e,t){let i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:Y(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}(i,t);if(q(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return o instanceof Er?o:mr(o,n)}function xr(e,t,i){const n=Sr(t),{line:o,scale:r,axis:s}=t,a=o.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:d=u}=l||{};n&&o.points.length&&(bt(e,i),function(e,t){const{line:i,target:n,above:o,below:r,area:s,scale:a}=t,l=i._loop?"angle":t.axis;e.save(),"x"===l&&r!==o&&(Rr(e,n,s.top),Tr(e,{line:i,target:n,color:o,scale:a,property:l}),e.restore(),e.save(),Rr(e,n,s.bottom));Tr(e,{line:i,target:n,color:r,scale:a,property:l}),e.restore()}(e,{line:o,target:n,above:c,below:d,area:i,scale:r,axis:s}),Et(e))}function Rr(e,t,i){const{segments:n,points:o}=t;let r=!0,s=!1;e.beginPath();for(const a of n){const{start:n,end:l}=a,u=o[n],c=o[gr(n,l,o)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,i),e.lineTo(u.x,u.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(c.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function Tr(e,t){const{line:i,target:n,property:o,color:r,scale:s}=t,a=function(e,t,i){const n=e.segments,o=e.points,r=t.points,s=[];for(const a of n){let{start:e,end:n}=a;n=gr(e,n,o);const l=pr(i,o[e],o[n],a.loop);if(!t.segments){s.push({source:a,target:l,start:o[e],end:o[n]});continue}const u=Ai(t,l);for(const t of u){const e=pr(i,r[t.start],r[t.end],t.loop),n=Pi(a,o,e);for(const o of n)s.push({source:o,target:t,start:{[i]:fr(l,e,"start",Math.max)},end:{[i]:fr(l,e,"end",Math.min)}})}}return s}(i,n,o);for(const{source:l,target:u,start:c,end:d}of a){const{style:{backgroundColor:t=r}={}}=l,a=!0!==n;e.save(),e.fillStyle=t,Dr(e,s,a&&pr(o,c,d)),e.beginPath();const h=!!i.pathSegment(e,l);let p;if(a){h?e.closePath():Pr(e,n,d,o);const t=!!n.pathSegment(e,u,{move:h,reverse:!0});p=h&&t,p||Pr(e,n,c,o)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Dr(e,t,i){const{top:n,bottom:o}=t.chart.chartArea,{property:r,start:s,end:a}=i||{};"x"===r&&(e.beginPath(),e.rect(s,n,a-s,o-n),e.clip())}function Pr(e,t,i,n){const o=t.interpolate(i,n);o&&e.lineTo(o.x,o.y)}var Ar={id:"filler",afterDatasetsUpdate(e,t,i){const n=(e.data.datasets||[]).length,o=[];let r,s,a,l;for(s=0;s<n;++s)r=e.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof nr&&(l={visible:e.isDatasetVisible(s),index:s,fill:yr(a,s,n),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<n;++s)l=o[s],l&&!1!==l.fill&&(l.fill=Cr(o,s,i.propagate))},beforeDraw(e,t,i){const n="beforeDraw"===i.drawTime,o=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let s=o.length-1;s>=0;--s){const t=o[s].$filler;t&&(t.line.updateControlPoints(r,t.axis),n&&t.fill&&xr(e.ctx,t,r))}},beforeDatasetsDraw(e,t,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){const t=n[o].$filler;vr(t)&&xr(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,i){const n=t.meta.$filler;vr(n)&&"beforeDatasetDraw"===i.drawTime&&xr(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Mr=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}};class _r extends eo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=J(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,i)=>e.sort(t,i,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,n=It(i.font),o=n.size,r=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=Mr(i,o);let l,u;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(r,o,s,a)+10):(u=this.maxHeight,l=this._fitCols(r,n,s,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:o,maxWidth:r,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],u=n+s;let c=e;o.textAlign="left",o.textBaseline="middle";let d=-1,h=-u;return this.legendItems.forEach(((e,p)=>{const g=i+t/2+o.measureText(e.text).width;(0===p||l[l.length-1]+g+2*s>r)&&(c+=u,l[l.length-(p>0?0:1)]=0,h+=u,d++),a[p]={left:0,top:h,row:d,width:g,height:n},l[l.length-1]+=g+s})),c}_fitCols(e,t,i,n){const{ctx:o,maxHeight:r,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],u=r-e;let c=s,d=0,h=0,p=0,g=0;return this.legendItems.forEach(((e,r)=>{const{itemWidth:f,itemHeight:m}=function(e,t,i,n,o){const r=function(e,t,i,n){let o=e.text;o&&"string"!==typeof o&&(o=o.reduce(((e,t)=>e.length>t.length?e:t)));return t+i.size/2+n.measureText(o).width}(n,e,t,i),s=function(e,t,i){let n=e;"string"!==typeof t.text&&(n=kr(t,i));return n}(o,n,t.lineHeight);return{itemWidth:r,itemHeight:s}}(i,t,o,e,n);r>0&&h+m+2*s>u&&(c+=d+s,l.push({width:d,height:h}),p+=d+s,g++,d=h=0),a[r]={left:p,top:h,col:g,width:f,height:m},d=Math.max(d,f),h+=m+s})),c+=d,l.push({width:d,height:h}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:o}}=this,r=Si(o,this.left,this.width);if(this.isHorizontal()){let o=0,s=Ke(i,this.left+n,this.right-this.lineWidths[o]);for(const a of t)o!==a.row&&(o=a.row,s=Ke(i,this.left+n,this.right-this.lineWidths[o])),a.top+=this.top+e+n,a.left=r.leftForLtr(r.x(s),a.width),s+=a.width+n}else{let o=0,s=Ke(i,this.top+e+n,this.bottom-this.columnSizes[o].height);for(const a of t)a.col!==o&&(o=a.col,s=Ke(i,this.top+e+n,this.bottom-this.columnSizes[o].height)),a.top=s,a.left+=this.left+n,a.left=r.leftForLtr(r.x(a.left),a.width),s+=a.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;bt(e,this),this._draw(),Et(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:o,labels:r}=e,s=pt.color,a=Si(e.rtl,this.left,this.width),l=It(r.font),{padding:u}=r,c=l.size,d=c/2;let h;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:p,boxHeight:g,itemHeight:f}=Mr(r,c),m=this.isHorizontal(),v=this._computeTitleHeight();h=m?{x:Ke(o,this.left+u,this.right-i[0]),y:this.top+u+v,line:0}:{x:this.left+u,y:Ke(o,this.top+v+u,this.bottom-t[0].height),line:0},xi(this.ctx,e.textDirection);const C=f+u;this.legendItems.forEach(((y,w)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const b=n.measureText(y.text).width,E=a.textAlign(y.textAlign||(y.textAlign=r.textAlign)),S=p+d+b;let x=h.x,R=h.y;a.setWidth(this.width),m?w>0&&x+S+u>this.right&&(R=h.y+=C,h.line++,x=h.x=Ke(o,this.left+u,this.right-i[h.line])):w>0&&R+C>this.bottom&&(x=h.x=x+t[h.line].width+u,h.line++,R=h.y=Ke(o,this.top+v+u,this.bottom-t[h.line].height));if(function(e,t,i){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;n.save();const o=X(i.lineWidth,1);if(n.fillStyle=X(i.fillStyle,s),n.lineCap=X(i.lineCap,"butt"),n.lineDashOffset=X(i.lineDashOffset,0),n.lineJoin=X(i.lineJoin,"miter"),n.lineWidth=o,n.strokeStyle=X(i.strokeStyle,s),n.setLineDash(X(i.lineDash,[])),r.usePointStyle){const s={radius:g*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:o},l=a.xPlus(e,p/2);yt(n,s,l,t+d,r.pointStyleWidth&&p)}else{const r=t+Math.max((c-g)/2,0),s=a.leftForLtr(e,p),l=Nt(i.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?Pt(n,{x:s,y:r,w:p,h:g,radius:l}):n.rect(s,r,p,g),n.fill(),0!==o&&n.stroke()}n.restore()}(a.x(x),R,y),x=((e,t,i,n)=>e===(n?"left":"right")?i:"center"===e?(t+i)/2:t)(E,x+p+d,m?x+S:this.right,e.rtl),function(e,t,i){Dt(n,i.text,e,t+f/2,l,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x(x),R,y),m)h.x+=S+u;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=kr(y,e)+u}else h.y+=C})),Ri(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=It(t.font),n=Ot(t.padding);if(!t.display)return;const o=Si(e.rtl,this.left,this.width),r=this.ctx,s=t.position,a=i.size/2,l=n.top+a;let u,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+l,c=Ke(e.align,c,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);u=l+Ke(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Ke(s,c,c+d);r.textAlign=o.textAlign(je(s)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,Dt(r,t.text,h,u,i)}_computeTitleHeight(){const e=this.options.title,t=It(e.font),i=Ot(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,o;if(Oe(e,this.left,this.right)&&Oe(t,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],Oe(e,n.left,n.left+n.width)&&Oe(t,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=(o=i,null!==(n=r)&&null!==o&&n.datasetIndex===o.datasetIndex&&n.index===o.index);r&&!s&&J(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&J(t.onHover,[e,i,this],this)}else i&&J(t.onClick,[e,i,this],this);var n,o}}function kr(e,t){return t*(e.text?e.text.length:0)}var Fr={id:"legend",_element:_r,start(e,t,i){const n=e.legend=new _r({ctx:e.ctx,options:i,chart:e});On.configure(e,n,i),On.addBox(e,n)},stop(e){On.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;On.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,o=i.chart;o.isDatasetVisible(n)?(o.hide(n),t.hidden=!0):(o.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:o,color:r,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(i?0:void 0),u=Ot(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:o||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Lr extends eo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=K(i.text)?i.text.length:1;this._padding=Ot(i.padding);const o=n*It(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:n,right:o,options:r}=this,s=r.align;let a,l,u,c=0;return this.isHorizontal()?(l=Ke(s,i,o),u=t+e,a=o-i):("left"===r.position?(l=i+e,u=Ke(s,n,t),c=-.5*pe):(l=o-e,u=Ke(s,t,n),c=.5*pe),a=n-t),{titleX:l,titleY:u,maxWidth:a,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=It(t.font),n=i.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:s,rotation:a}=this._drawArgs(n);Dt(e,t.text,0,0,i,{color:t.color,maxWidth:s,rotation:a,textAlign:je(t.align),textBaseline:"middle",translation:[o,r]})}}var Nr={id:"title",_element:Lr,start(e,t,i){!function(e,t){const i=new Lr({ctx:e.ctx,options:t,chart:e});On.configure(e,i,t),On.addBox(e,i),e.titleBlock=i}(e,i)},stop(e){const t=e.titleBlock;On.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const n=e.titleBlock;On.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Or={average(e){if(!e.length)return!1;let t,i,n=new Set,o=0,r=0;for(t=0,i=e.length;t<i;++t){const i=e[t].element;if(i&&i.hasValue()){const e=i.tooltipPosition();n.add(e.x),o+=e.y,++r}}return{x:[...n].reduce(((e,t)=>e+t))/n.size,y:o/r}},nearest(e,t){if(!e.length)return!1;let i,n,o,r=t.x,s=t.y,a=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){const n=e[i].element;if(n&&n.hasValue()){const e=_e(t,n.getCenterPoint());e<a&&(a=e,o=n)}}if(o){const e=o.tooltipPosition();r=e.x,s=e.y}return{x:r,y:s}}};function Ir(e,t){return t&&(K(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Gr(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Vr(e,t){const{element:i,datasetIndex:n,index:o}=t,r=e.getDatasetMeta(n).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:e,label:s,parsed:r.getParsed(o),raw:e.data.datasets[n].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:n,element:i}}function Hr(e,t){const i=e.chart.ctx,{body:n,footer:o,title:r}=e,{boxWidth:s,boxHeight:a}=t,l=It(t.bodyFont),u=It(t.titleFont),c=It(t.footerFont),d=r.length,h=o.length,p=n.length,g=Ot(t.padding);let f=g.height,m=0,v=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(f+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){f+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*c.lineHeight+(h-1)*t.footerSpacing);let C=0;const y=function(e){m=Math.max(m,i.measureText(e).width+C)};return i.save(),i.font=u.string,Z(e.title,y),i.font=l.string,Z(e.beforeBody.concat(e.afterBody),y),C=t.displayColors?s+2+t.boxPadding:0,Z(n,(e=>{Z(e.before,y),Z(e.lines,y),Z(e.after,y)})),C=0,i.font=c.string,Z(e.footer,y),i.restore(),m+=g.width,{width:m,height:f}}function Br(e,t,i,n){const{x:o,width:r}=i,{width:s,chartArea:{left:a,right:l}}=e;let u="center";return"center"===n?u=o<=(a+l)/2?"left":"right":o<=r/2?u="left":o>=s-r/2&&(u="right"),function(e,t,i,n){const{x:o,width:r}=n,s=i.caretSize+i.caretPadding;return"left"===e&&o+r+s>t.width||"right"===e&&o-r-s<0||void 0}(u,e,t,i)&&(u="center"),u}function Wr(e,t,i){const n=i.yAlign||t.yAlign||function(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||Br(e,t,i,n),yAlign:n}}function zr(e,t,i,n){const{caretSize:o,caretPadding:r,cornerRadius:s}=e,{xAlign:a,yAlign:l}=i,u=o+r,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:p}=Nt(s);let g=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,a);const f=function(e,t,i){let{y:n,height:o}=e;return"top"===t?n+=i:n-="bottom"===t?o+i:o/2,n}(t,l,u);return"center"===l?"left"===a?g+=u:"right"===a&&(g-=u):"left"===a?g-=Math.max(c,h)+o:"right"===a&&(g+=Math.max(d,p)+o),{x:Ne(g,0,n.width-t.width),y:Ne(f,0,n.height-t.height)}}function Ur(e,t,i){const n=Ot(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function jr(e){return Ir([],Gr(e))}function Kr(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const Yr={beforeTitle:z,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:z,beforeBody:z,beforeLabel:z,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return j(i)||(t+=i),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:z,afterBody:z,beforeFooter:z,footer:z,afterFooter:z};function qr(e,t,i,n){const o=e[t].call(i,n);return"undefined"===typeof o?Yr[t].call(i,n):o}class Qr extends eo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,o=new Gi(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,i=this._tooltipItems,Vt(e,{tooltip:t,tooltipItems:i,type:"tooltip"})));var e,t,i}getTitle(e,t){const{callbacks:i}=t,n=qr(i,"beforeTitle",this,e),o=qr(i,"title",this,e),r=qr(i,"afterTitle",this,e);let s=[];return s=Ir(s,Gr(n)),s=Ir(s,Gr(o)),s=Ir(s,Gr(r)),s}getBeforeBody(e,t){return jr(qr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return Z(e,(e=>{const t={before:[],lines:[],after:[]},o=Kr(i,e);Ir(t.before,Gr(qr(o,"beforeLabel",this,e))),Ir(t.lines,qr(o,"label",this,e)),Ir(t.after,Gr(qr(o,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return jr(qr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=qr(i,"beforeFooter",this,e),o=qr(i,"footer",this,e),r=qr(i,"afterFooter",this,e);let s=[];return s=Ir(s,Gr(n)),s=Ir(s,Gr(o)),s=Ir(s,Gr(r)),s}_createItems(e){const t=this._active,i=this.chart.data,n=[],o=[],r=[];let s,a,l=[];for(s=0,a=t.length;s<a;++s)l.push(Vr(this.chart,t[s]));return e.filter&&(l=l.filter(((t,n,o)=>e.filter(t,n,o,i)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,i)))),Z(l,(t=>{const i=Kr(e.callbacks,t);n.push(qr(i,"labelColor",this,t)),o.push(qr(i,"labelPointStyle",this,t)),r.push(qr(i,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let o,r=[];if(n.length){const e=Or[i.position].call(this,n,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const t=this._size=Hr(this,i),s=Object.assign({},e,t),a=Wr(this.chart,i,s),l=zr(i,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,o={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const o=this.getCaretPosition(e,i,n);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:o}=this,{caretSize:r,cornerRadius:s}=i,{topLeft:a,topRight:l,bottomLeft:u,bottomRight:c}=Nt(s),{x:d,y:h}=e,{width:p,height:g}=t;let f,m,v,C,y,w;return"center"===o?(y=h+g/2,"left"===n?(f=d,m=f-r,C=y+r,w=y-r):(f=d+p,m=f+r,C=y-r,w=y+r),v=f):(m="left"===n?d+Math.max(a,u)+r:"right"===n?d+p-Math.max(l,c)-r:this.caretX,"top"===o?(C=h,y=C-r,f=m-r,v=m+r):(C=h+g,y=C+r,f=m+r,v=m-r),w=C),{x1:f,x2:m,x3:v,y1:C,y2:y,y3:w}}drawTitle(e,t,i){const n=this.title,o=n.length;let r,s,a;if(o){const l=Si(i.rtl,this.x,this.width);for(e.x=Ur(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",r=It(i.titleFont),s=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,a=0;a<o;++a)t.fillText(n[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+s,a+1===o&&(e.y+=i.titleMarginBottom-s)}}_drawColorBox(e,t,i,n,o){const r=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:a,boxWidth:l}=o,u=It(o.bodyFont),c=Ur(this,"left",o),d=n.x(c),h=a<u.lineHeight?(u.lineHeight-a)/2:0,p=t.y+h;if(o.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},i=n.leftForLtr(d,l)+l/2,u=p+a/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ct(e,t,i,u),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Ct(e,t,i,u)}else{e.lineWidth=Y(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=n.leftForLtr(d,l),i=n.leftForLtr(n.xPlus(d,1),l-2),s=Nt(r.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Pt(e,{x:t,y:p,w:l,h:a,radius:s}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Pt(e,{x:i,y:p+1,w:l-2,h:a-2,radius:s}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=r.backgroundColor,e.fillRect(i,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:o,bodyAlign:r,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:u}=i,c=It(i.bodyFont);let d=c.lineHeight,h=0;const p=Si(i.rtl,this.x,this.width),g=function(i){t.fillText(i,p.x(e.x+h),e.y+d/2),e.y+=d+o},f=p.textAlign(r);let m,v,C,y,w,b,E;for(t.textAlign=r,t.textBaseline="middle",t.font=c.string,e.x=Ur(this,f,i),t.fillStyle=i.bodyColor,Z(this.beforeBody,g),h=s&&"right"!==f?"center"===r?l/2+u:l+2+u:0,y=0,b=n.length;y<b;++y){for(m=n[y],v=this.labelTextColors[y],t.fillStyle=v,Z(m.before,g),C=m.lines,s&&C.length&&(this._drawColorBox(t,e,y,p,i),d=Math.max(c.lineHeight,a)),w=0,E=C.length;w<E;++w)g(C[w]),d=c.lineHeight;Z(m.after,g)}h=0,d=c.lineHeight,Z(this.afterBody,g),e.y-=o}drawFooter(e,t,i){const n=this.footer,o=n.length;let r,s;if(o){const a=Si(i.rtl,this.x,this.width);for(e.x=Ur(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",r=It(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,s=0;s<o;++s)t.fillText(n[s],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:o,yAlign:r}=this,{x:s,y:a}=e,{width:l,height:u}=i,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:p}=Nt(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+c,a),"top"===r&&this.drawCaret(e,t,i,n),t.lineTo(s+l-d,a),t.quadraticCurveTo(s+l,a,s+l,a+d),"center"===r&&"right"===o&&this.drawCaret(e,t,i,n),t.lineTo(s+l,a+u-p),t.quadraticCurveTo(s+l,a+u,s+l-p,a+u),"bottom"===r&&this.drawCaret(e,t,i,n),t.lineTo(s+h,a+u),t.quadraticCurveTo(s,a+u,s,a+u-h),"center"===r&&"left"===o&&this.drawCaret(e,t,i,n),t.lineTo(s,a+c),t.quadraticCurveTo(s,a,s+c,a),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,o=i&&i.y;if(n||o){const i=Or[e.position].call(this,this._active,this._eventPosition);if(!i)return;const r=this._size=Hr(this,e),s=Object.assign({},i,this._size),a=Wr(t,e,s),l=zr(e,s,a,t);n._to===l.x&&o._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Ot(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,n,t),xi(e,t.textDirection),o.y+=r.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Ri(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map((e=>{let{datasetIndex:t,index:i}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[i],index:i}})),o=!ee(i,n),r=this._positionChanged(n,t);(o||r)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,o=this._active||[],r=this._getActiveElements(e,o,t,i),s=this._positionChanged(r,e),a=t||!ee(r,o)||s;return a&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,n){const o=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const r=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:n,options:o}=this,r=Or[o.position].call(this,e,t);return!1!==r&&(i!==r.x||n!==r.y)}}u(Qr,"positioners",Or);var Xr={id:"tooltip",_element:Qr,positioners:Or,afterInit(e,t,i){i&&(e.tooltip=new Qr({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function $r(e,t,i,n){const o=e.indexOf(t);if(-1===o)return((e,t,i,n)=>("string"===typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i))(e,t,i,n);return o!==e.lastIndexOf(t)?i:o}function Jr(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Zr extends co{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(j(e))return null;const i=this.getLabels();return((e,t)=>null===e?null:Ne(Math.round(e),0,t))(t=isFinite(t)&&i[t]===e?t:$r(i,e,X(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let o=this.getLabels();o=0===e&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)n.push({value:r});return n}getLabelForValue(e){return Jr.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function es(e,t){const i=[],{bounds:n,step:o,min:r,max:s,precision:a,count:l,maxTicks:u,maxDigits:c,includeBounds:d}=e,h=o||1,p=u-1,{min:g,max:f}=t,m=!j(r),v=!j(s),C=!j(l),y=(f-g)/(c+1);let w,b,E,S,x=xe((f-g)/p/h)*h;if(x<1e-14&&!m&&!v)return[{value:g},{value:f}];S=Math.ceil(f/x)-Math.floor(g/x),S>p&&(x=xe(S*x/p/h)*h),j(a)||(w=Math.pow(10,a),x=Math.ceil(x*w)/w),"ticks"===n?(b=Math.floor(g/x)*x,E=Math.ceil(f/x)*x):(b=g,E=f),m&&v&&o&&function(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}((s-r)/o,x/1e3)?(S=Math.round(Math.min((s-r)/x,u)),x=(s-r)/S,b=r,E=s):C?(b=m?r:b,E=v?s:E,S=l-1,x=(E-b)/S):(S=(E-b)/x,S=Se(S,Math.round(S),x/1e3)?Math.round(S):Math.ceil(S));const R=Math.max(Ae(x),Ae(b));w=Math.pow(10,j(a)?R:a),b=Math.round(b*w)/w,E=Math.round(E*w)/w;let T=0;for(m&&(d&&b!==r?(i.push({value:r}),b<r&&T++,Se(Math.round((b+T*x)*w)/w,r,ts(r,y,e))&&T++):b<r&&T++);T<S;++T){const e=Math.round((b+T*x)*w)/w;if(v&&e>s)break;i.push({value:e})}return v&&d&&E!==s?i.length&&Se(i[i.length-1].value,s,ts(s,y,e))?i[i.length-1].value=s:i.push({value:s}):v&&E!==s||i.push({value:E}),i}function ts(e,t,i){let{horizontal:n,minRotation:o}=i;const r=De(o),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}u(Zr,"id","category"),u(Zr,"defaults",{ticks:{callback:Jr}});class is extends co{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return j(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:o}=this;const r=e=>n=t?n:e,s=e=>o=i?o:e;if(e){const e=Ee(n),t=Ee(o);e<0&&t<0?s(0):e>0&&t>0&&r(0)}if(n===o){let t=0===o?1:Math.abs(.05*o);s(o+t),e||r(n-t)}this.min=n,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:i,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=es({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Te(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return rt(e,this.chart.options.locale,this.options.ticks.format)}}class ns extends is{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=q(e)?e:0,this.max=q(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=De(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}u(ns,"id","linear"),u(ns,"defaults",{ticks:{callback:at.formatters.numeric}});const os=e=>Math.floor(be(e)),rs=(e,t)=>Math.pow(10,os(e)+t);function ss(e){return 1===e/Math.pow(10,os(e))}function as(e,t,i){const n=Math.pow(10,i),o=Math.floor(e/n);return Math.ceil(t/n)-o}function ls(e,t){let{min:i,max:n}=t;i=Q(e.min,i);const o=[],r=os(i);let s=function(e,t){let i=os(t-e);for(;as(e,t,i)>10;)i++;for(;as(e,t,i)<10;)i--;return Math.min(i,os(e))}(i,n),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),u=r>s?Math.pow(10,r):0,c=Math.round((i-u)*a)/a,d=Math.floor((i-u)/l/10)*l*10;let h=Math.floor((c-d)/Math.pow(10,s)),p=Q(e.min,Math.round((u+d+h*Math.pow(10,s))*a)/a);for(;p<n;)o.push({value:p,major:ss(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,a=s>=0?1:a),p=Math.round((u+d+h*Math.pow(10,s))*a)/a;const g=Q(e.max,p);return o.push({value:g,major:ss(g),significand:h}),o}class us extends co{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=is.prototype.parse.apply(this,[e,t]);if(0!==i)return q(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=q(e)?Math.max(0,e):null,this.max=q(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!q(this._userMin)&&(this.min=e===rs(this.min,0)?rs(this.min,-1):rs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,n=this.max;const o=t=>i=e?i:t,r=e=>n=t?n:e;i===n&&(i<=0?(o(1),r(10)):(o(rs(i,-1)),r(rs(n,1)))),i<=0&&o(rs(n,-1)),n<=0&&r(rs(i,1)),this.min=i,this.max=n}buildTicks(){const e=this.options,t=ls({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Te(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":rt(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=be(e),this._valueRange=be(this.max)-be(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(be(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function cs(e){const t=e.ticks;if(t.display&&e.display){const e=Ot(t.backdropPadding);return X(t.font&&t.font.size,pt.font.size)+e.height}return 0}function ds(e,t,i,n,o){return e===n||e===o?{start:t-i/2,end:t+i/2}:e<n||e>o?{start:t-i,end:t}:{start:t,end:t+i}}function hs(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],o=[],r=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?pe/r:0;for(let d=0;d<r;d++){const r=s.setContext(e.getPointLabelContext(d));o[d]=r.padding;const h=e.getPointPosition(d,e.drawingArea+o[d],a),p=It(r.font),g=(l=e.ctx,u=p,c=K(c=e._pointLabels[d])?c:[c],{w:ft(l,u.string,c),h:c.length*u.lineHeight});n[d]=g;const f=Fe(e.getIndexAngle(d)+a),m=Math.round(Pe(f));ps(i,t,f,ds(m,h.x,g.w,0,180),ds(m,h.y,g.h,90,270))}var l,u,c;e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){const n=[],o=e._pointLabels.length,r=e.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:cs(r)/2,additionalAngle:s?pe/o:0};let u;for(let c=0;c<o;c++){l.padding=i[c],l.size=t[c];const o=gs(e,c,l);n.push(o),"auto"===a&&(o.visible=fs(o,u),o.visible&&(u=o))}return n}(e,n,o)}function ps(e,t,i,n,o){const r=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/r,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),o.start<t.t?(l=(t.t-o.start)/s,e.t=Math.min(e.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function gs(e,t,i){const n=e.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=i,l=e.getPointPosition(t,n+o+s,r),u=Math.round(Pe(Fe(l.angle+Ce))),c=function(e,t,i){90===i||270===i?e-=t/2:(i>270||i<90)&&(e-=t);return e}(l.y,a.h,u),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(u),h=function(e,t,i){"right"===i?e-=t:"center"===i&&(e-=t/2);return e}(l.x,a.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:h,top:c,right:h+a.w,bottom:c+a.h}}function fs(e,t){if(!t)return!0;const{left:i,top:n,right:o,bottom:r}=e;return!(wt({x:i,y:n},t)||wt({x:i,y:r},t)||wt({x:o,y:n},t)||wt({x:o,y:r},t))}function ms(e,t,i){const{left:n,top:o,right:r,bottom:s}=i,{backdropColor:a}=t;if(!j(a)){const i=Nt(t.borderRadius),l=Ot(t.backdropPadding);e.fillStyle=a;const u=n-l.left,c=o-l.top,d=r-n+l.width,h=s-o+l.height;Object.values(i).some((e=>0!==e))?(e.beginPath(),Pt(e,{x:u,y:c,w:d,h:h,radius:i}),e.fill()):e.fillRect(u,c,d,h)}}function vs(e,t,i,n){const{ctx:o}=e;if(i)o.arc(e.xCenter,e.yCenter,t,0,ge);else{let i=e.getPointPosition(0,t);o.moveTo(i.x,i.y);for(let r=1;r<n;r++)i=e.getPointPosition(r,t),o.lineTo(i.x,i.y)}}u(us,"id","logarithmic"),u(us,"defaults",{ticks:{callback:at.formatters.logarithmic,major:{enabled:!0}}});class Cs extends is{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ot(cs(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=q(e)&&!isNaN(e)?e:0,this.max=q(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cs(this.options))}generateTickLabels(e){is.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const i=J(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?hs(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){return Fe(e*(ge/(this._pointLabels.length||1))+De(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(j(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(j(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function(e,t,i){return Vt(e,{label:i,index:t,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-Ce+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:n,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),vs(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:n,border:o}=t,r=this._pointLabels.length;let s,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:i,options:{pointLabels:n}}=e;for(let o=t-1;o>=0;o--){const t=e._pointLabelItems[o];if(!t.visible)continue;const r=n.setContext(e.getPointLabelContext(o));ms(i,r,t);const s=It(r.font),{x:a,y:l,textAlign:u}=t;Dt(i,e._pointLabels[o],a,l+s.lineHeight/2,s,{color:r.color,textAlign:u,textBaseline:"middle"})}}(this,r),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const i=this.getContext(t),s=n.setContext(i),l=o.setContext(i);!function(e,t,i,n,o){const r=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!n||!a||!l||i<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash),r.lineDashOffset=o.dashOffset,r.beginPath(),vs(e,i,s,n),r.closePath(),r.stroke(),r.restore())}(this,s,a,r,l)}})),i.display){for(e.save(),s=r-1;s>=0;s--){const n=i.setContext(this.getPointLabelContext(s)),{color:o,lineWidth:r}=n;r&&o&&(e.lineWidth=r,e.strokeStyle=o,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,s)=>{if(0===s&&this.min>=0&&!t.reverse)return;const a=i.setContext(this.getContext(s)),l=It(a.font);if(o=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){e.font=l.string,r=e.measureText(n.label).width,e.fillStyle=a.backdropColor;const t=Ot(a.backdropPadding);e.fillRect(-r/2-t.left,-o-l.size/2-t.top,r+t.width,l.size+t.height)}Dt(e,n.label,0,-o,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}u(Cs,"id","radialLinear"),u(Cs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:at.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),u(Cs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),u(Cs,"descriptors",{angleLines:{_fallback:"grid"}});const ys={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ws=Object.keys(ys);function bs(e,t){return e-t}function Es(e,t){if(j(t))return null;const i=e._adapter,{parser:n,round:o,isoWeekday:r}=e._parseOpts;let s=t;return"function"===typeof n&&(s=n(s)),q(s)||(s="string"===typeof n?i.parse(s,n):i.parse(s)),null===s?null:(o&&(s="week"!==o||!Re(r)&&!0!==r?i.startOf(s,o):i.startOf(s,"isoWeek",r)),+s)}function Ss(e,t,i,n){const o=ws.length;for(let r=ws.indexOf(e);r<o-1;++r){const e=ys[ws[r]],o=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(o*e.size))<=n)return ws[r]}return ws[o-1]}function xs(e,t,i){if(i){if(i.length){const{lo:n,hi:o}=Ie(i,t);e[i[n]>=t?i[n]:i[o]]=!0}}else e[t]=!0}function Rs(e,t,i){const n=[],o={},r=t.length;let s,a;for(s=0;s<r;++s)a=t[s],o[a]=s,n.push({value:a,major:!1});return 0!==r&&i?function(e,t,i,n){const o=e._adapter,r=+o.startOf(t[0].value,n),s=t[t.length-1].value;let a,l;for(a=r;a<=s;a=+o.add(a,1,n))l=i[a],l>=0&&(t[l].major=!0);return t}(e,n,o,i):n}class Ts extends co{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e.time||(e.time={}),n=this._adapter=new mn(e.adapters.date);n.init(t),re(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Es(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:o,minDefined:r,maxDefined:s}=this.getUserBounds();function a(e){r||isNaN(e.min)||(n=Math.min(n,e.min)),s||isNaN(e.max)||(o=Math.max(o,e.max))}r&&s||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),n=q(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),o=q(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,o-1),this.max=Math.max(n+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const o=this.min,r=function(e,t,i){let n=0,o=e.length;for(;n<o&&e[n]<t;)n++;for(;o>n&&e[o-1]>i;)o--;return n>0||o<e.length?e.slice(n,o):e}(n,o,this.max);return this._unit=t.unit||(i.autoSkip?Ss(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(e,t,i,n,o){for(let r=ws.length-1;r>=ws.indexOf(i);r--){const i=ws[r];if(ys[i].common&&e._adapter.diff(o,n,i)>=t-1)return i}return ws[i?ws.indexOf(i):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=ws.indexOf(e)+1,i=ws.length;t<i;++t)if(ys[ws[t]].common)return ws[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&r.reverse(),Rs(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,o=0;this.options.offset&&i.length&&(e=this.getDecimalForValue(i[0]),n=1===i.length?1-e:(this.getDecimalForValue(i[1])-e)/2,t=this.getDecimalForValue(i[i.length-1]),o=1===i.length?t:(t-this.getDecimalForValue(i[i.length-2]))/2);const r=i.length<3?.5:.25;n=Ne(n,0,r),o=Ne(o,0,r),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,o=n.time,r=o.unit||Ss(o.minUnit,t,i,this._getLabelCapacity(t)),s=X(n.ticks.stepSize,1),a="week"===r&&o.isoWeekday,l=Re(a)||!0===a,u={};let c,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,l?"day":r),e.diff(i,t,r)>1e5*s)throw new Error(t+" and "+i+" are too far apart with stepSize of "+s+" "+r);const p="data"===n.ticks.source&&this.getDataTimestamps();for(c=h,d=0;c<i;c=+e.add(c,s,r),d++)xs(u,c,p);return c!==i&&"ticks"!==n.bounds&&1!==d||xs(u,c,p),Object.keys(u).sort(bs).map((e=>+e))}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,n=this._unit,o=t||i[n];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,n){const o=this.options,r=o.ticks.callback;if(r)return J(r,[e,t,i],this);const s=o.time.displayFormats,a=this._unit,l=this._majorUnit,u=a&&s[a],c=l&&s[l],d=i[t],h=l&&c&&d&&d.major;return this._adapter.format(e,n||(h?c:u))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=De(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(n),r=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*o+s*r,h:i*r+s*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Rs(this,[e],this._majorUnit),n),r=this._getLabelSize(o),s=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)i=i.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(Es(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return We(e.sort(bs))}}function Ds(e,t,i){let n,o,r,s,a=0,l=e.length-1;i?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=Ge(e,"pos",t)),({pos:n,time:r}=e[a]),({pos:o,time:s}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=Ge(e,"time",t)),({time:n,pos:r}=e[a]),({time:o,pos:s}=e[l]));const u=o-n;return u?r+(s-r)*(t-n)/u:r}u(Ts,"id","time"),u(Ts,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Ps extends Ts{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ds(t,this.min),this._tableRange=Ds(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],o=[];let r,s,a,l,u;for(r=0,s=e.length;r<s;++r)l=e[r],l>=t&&l<=i&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,s=n.length;r<s;++r)u=n[r+1],a=n[r-1],l=n[r],Math.round((u+a)/2)!==l&&o.push({time:l,pos:r/(s-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ds(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Ds(this._table,i*this._tableRange+this._minPos,!0)}}u(Ps,"id","timeseries"),u(Ps,"defaults",Ts.defaults);const As="label";function Ms(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function _s(e,t){e.labels=t}function ks(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:As;const n=[];e.datasets=t.map((t=>{const o=e.datasets.find((e=>e[i]===t[i]));return o&&t.data&&!n.includes(o)?(n.push(o),Object.assign(o,t),o):{...t}}))}function Fs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:As;const i={labels:[],datasets:[]};return _s(i,e.labels),ks(i,e.datasets,t),i}function Ls(t,i){const{height:n=150,width:o=300,redraw:r=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:c=[],fallbackContent:d,updateMode:h,...p}=t,g=(0,e.useRef)(null),f=(0,e.useRef)(),m=()=>{g.current&&(f.current=new Wo(g.current,{type:a,data:Fs(l,s),options:u&&{...u},plugins:c}),Ms(i,f.current))},v=()=>{Ms(i,null),f.current&&(f.current.destroy(),f.current=null)};return(0,e.useEffect)((()=>{!r&&f.current&&u&&function(e,t){const i=e.options;i&&t&&Object.assign(i,t)}(f.current,u)}),[r,u]),(0,e.useEffect)((()=>{!r&&f.current&&_s(f.current.config.data,l.labels)}),[r,l.labels]),(0,e.useEffect)((()=>{!r&&f.current&&l.datasets&&ks(f.current.config.data,l.datasets,s)}),[r,l.datasets]),(0,e.useEffect)((()=>{f.current&&(r?(v(),setTimeout(m)):f.current.update(h))}),[r,u,l.labels,l.datasets,h]),(0,e.useEffect)((()=>{f.current&&(v(),setTimeout(m))}),[a]),(0,e.useEffect)((()=>(m(),()=>v())),[]),e.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:o},p),d)}const Ns=(0,e.forwardRef)(Ls);function Os(t,i){return Wo.register(i),(0,e.forwardRef)(((i,n)=>e.createElement(Ns,Object.assign({},i,{ref:n,type:t}))))}const Is=Os("line",un),Gs=Os("doughnut",ln);Wo.register(qo,Zr,ns,rr,nr,Nr,Ar,Xr,Fr);class Vs extends e.Component{constructor(e){super(e),this.state={month:7,year:2024,data:null}}async componentDidMount(){let e=await fetch("/progress-narrative/ynab.json").then((e=>e.json()));this.setState({data:e})}render(){if(null==this.state.data)return(0,o.jsx)("p",{children:"Loading..."});const e=Object.keys(this.state.data[this.state.year][this.state.month].categories),t={datasets:[{data:e.map((e=>Math.max(this.state.data[this.state.year][this.state.month].categories[e].budgeted/1e3,0))),borderWidth:1}],labels:e};var i={};for(const o in this.state.data)for(const e in this.state.data[o]){const t=o.toString()+"-"+e;i[t]=this.state.data[o][e]}const n={datasets:[{label:"income",fill:!0,data:Object.keys(i).map((e=>i[e].income/1e3)),borderWidth:1,backgroundColor:"rgba(0, 0, 255, 0.5)"},{label:"spending",fill:!0,data:Object.keys(i).map((e=>i[e].budgeted/1e3)),borderWidth:1,backgroundColor:"rgba(255, 0, 0, 0.5)"}],labels:Object.keys(i)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",width:"100vw",height:"75vh"},children:[(0,o.jsx)("div",{style:{width:"50vw"},children:(0,o.jsx)(Gs,{data:t})}),(0,o.jsx)("div",{style:{width:"50vw"},children:(0,o.jsx)(Gs,{data:t})})]}),(0,o.jsx)("div",{sytle:{width:"100vw",height:"25vh"},children:(0,o.jsx)(Is,{data:n,height:"100%",options:{maintainAspectRatio:!1}})})]})}}class Hs extends e.Component{render(){return(0,o.jsx)("div",{children:"social -> how to even show this"})}}var Bs=Object.defineProperty,Ws=Object.defineProperties,zs=Object.getOwnPropertyDescriptor,Us=Object.getOwnPropertyDescriptors,js=Object.getOwnPropertySymbols,Ks=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,qs=(e,t,i)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Qs=(e,t)=>{for(var i in t||(t={}))Ks.call(t,i)&&qs(e,i,t[i]);if(js)for(var i of js(t))Ys.call(t,i)&&qs(e,i,t[i]);return e},Xs=(e,t)=>Ws(e,Us(t)),$s=(e,t)=>{for(var i in t)Bs(e,i,{get:t[i],enumerable:!0})},Js=(e,t,i,n)=>{for(var o,r=n>1?void 0:n?zs(t,i):t,s=e.length-1;s>=0;s--)(o=e[s])&&(r=(n?o(t,i,r):o(r))||r);return n&&r&&Bs(t,i,r),r},Zs=(e,t)=>(i,n)=>t(i,n,e),ea={};function ta(e){return null==e||""===e?null:e}function ia(e){return null!=e&&(""!==e||arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function na(e){return!ia(e)}function oa(e){return null==e||0===e.length}function ra(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function sa(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function aa(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"===typeof e?e:/true/i.test(e))}function la(e){if(null!=e&&""!==e)return e}function ua(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function ca(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&o)return 0;if(n)return-1;if(o)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return r(e,t);if(!i)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}function da(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach((e=>t.push(e))),t}return Object.values(e)}$s(ea,{attrToBoolean:()=>aa,attrToNumber:()=>sa,attrToString:()=>la,defaultComparator:()=>ca,exists:()=>ia,jsonEquals:()=>ua,makeNull:()=>ta,missing:()=>na,missingOrEmpty:()=>oa,toStringOrNull:()=>ra,values:()=>da});var ha=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=ra(e);let i=0;for(;;){let n;if(e?(n=e,0!==i&&(n+="_"+i)):t?(n=t,0!==i&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},pa={};$s(pa,{SKIP_JS_BUILTINS:()=>ga,cloneObject:()=>ma,deepCloneDefinition:()=>va,getAllValuesInObject:()=>Ca,getValueUsingField:()=>wa,isNonNullObject:()=>Ea,iterateObject:()=>fa,mergeDeep:()=>ya,removeAllReferences:()=>ba});var ga=new Set(["__proto__","constructor","prototype"]);function fa(e,t){if(null!=e)if(Array.isArray(e))for(let i=0;i<e.length;i++)t(i.toString(),e[i]);else for(const[i,n]of Object.entries(e))t(i,n)}function ma(e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(ga.has(i[n]))continue;const o=i[n],r=e[o];t[o]=r}return t}function va(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach((e=>{if(t&&t.indexOf(e)>=0||ga.has(e))return;const o=i[e],r=Ea(o)&&o.constructor===Object;n[e]=r?va(o):o})),n}function Ca(e){if(!e)return[];const t=Object;if("function"===typeof t.values)return t.values(e);const i=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function ya(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];ia(t)&&fa(t,((t,o)=>{if(ga.has(t))return;let r=e[t];if(r!==o){if(n){if(null==r&&null!=o){"object"===typeof o&&o.constructor===Object&&(r={},e[t]=r)}}Ea(o)&&Ea(r)&&!Array.isArray(r)?ya(r,o,i,n):(i||void 0!==o)&&(e[t]=o)}}))}function wa(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let o=e;for(let r=0;r<n.length;r++){if(null==o)return;o=o[n[r]]}return o}function ba(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;Object.keys(e).forEach((i=>{"object"!==typeof e[i]||t.includes(i)||(e[i]=void 0)}));const n=Object.getPrototypeOf(e),o={};Object.getOwnPropertyNames(n).forEach((e=>{if("function"===typeof n[e]&&!t.includes(e)){const t=()=>{console.warn((e=>"AG Grid: Grid API function ".concat(e,"() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(i))(e))};o[e]={value:t,writable:!0}}})),Object.defineProperties(e,o)}function Ea(e){return"object"===typeof e&&null!==e}var Sa={};$s(Sa,{compose:()=>Ga,debounce:()=>Na,doOnce:()=>Ra,errorOnce:()=>Da,executeAfter:()=>La,executeInAWhile:()=>Ma,executeNextVMTurn:()=>Fa,getFunctionName:()=>Pa,isFunction:()=>Aa,noop:()=>Va,throttle:()=>Oa,waitUntil:()=>Ia,warnOnce:()=>Ta});var xa={};function Ra(e,t){xa[t]||(e(),xa[t]=!0)}function Ta(e){Ra((()=>console.warn("AG Grid: "+e)),e)}function Da(e){Ra((()=>console.error("AG Grid: "+e)),e)}function Pa(e){if(e.name)return e.name;const t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function Aa(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ma(e){La(e,400)}var _a=[],ka=!1;function Fa(e){_a.push(e),ka||(ka=!0,window.setTimeout((()=>{const e=_a.slice();_a.length=0,ka=!1,e.forEach((e=>e()))}),0))}function La(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.length>0&&window.setTimeout((()=>e.forEach((e=>e()))),t)}function Na(e,t){let i;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const s=this;window.clearTimeout(i),i=window.setTimeout((function(){e.apply(s,o)}),t)}}function Oa(e,t){let i=0;return function(){const n=(new Date).getTime();if(!(n-i<t)){i=n;for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];e.apply(this,r)}}}function Ia(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3?arguments[3]:void 0;const o=(new Date).getTime();let r=null,s=!1;const a=()=>{const a=(new Date).getTime()-o>i;(e()||a)&&(t(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&n&&console.warn(n))};a(),s||(r=window.setInterval(a,10))}function Ga(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return e=>t.reduce(((e,t)=>t(e)),e)}var Va=()=>{},Ha=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(Ha||{}),Ba=class e{static register(t){e.__register(t,!0,void 0)}static registerModules(t){e.__registerModules(t,!0,void 0)}static __register(t,i,n){e.runVersionChecks(t),void 0!==n?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[n]&&(e.gridModulesMap[n]={}),e.gridModulesMap[n][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(i)}static __unRegisterGridModules(t){delete e.gridModulesMap[t]}static __registerModules(t,i,n){e.setModuleBased(i),t&&t.forEach((t=>e.__register(t,i,n)))}static isValidModuleVersion(t){const[i,n]=t.version.split(".")||[],[o,r]=e.currentModuleVersion.split(".")||[];return i===o&&n===r}static runVersionChecks(t){if(e.currentModuleVersion||(e.currentModuleVersion=t.version),t.version?e.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){const e=t.validate();if(!e.isValid){const t=e;console.error("AG Grid: ".concat(t.message))}}}static setModuleBased(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&Ra((()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.")}),"ModulePackageCheck")}static __setIsBundled(){e.isBundled=!0}static __assertRegistered(t,i,n){var o;if(this.__isRegistered(t,n))return!0;const r=i+t;let s;if(e.isBundled)s="AG Grid: unable to use ".concat(i," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(e.moduleBased||void 0===e.moduleBased){let r=null==(o=Object.entries(Ha).find((e=>{let[i,n]=e;return n===t})))?void 0:o[0];s="AG Grid: unable to use ".concat(i," as the ").concat(r," is not registered").concat(e.areGridScopedModules?" for gridId: ".concat(n):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(r," } from '").concat(t,"';\n    \n    ModuleRegistry.registerModules([ ").concat(r," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else s="AG Grid: unable to use ".concat(i," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';");return Ra((()=>{console.warn(s)}),r),!1}static __isRegistered(t,i){var n;return!!e.globalModulesMap[t]||!!(null==(n=e.gridModulesMap[i])?void 0:n[t])}static __getRegisteredModules(t){return[...da(e.globalModulesMap),...da(e.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var i;return da(null!=(i=e.gridModulesMap[t])?i:{})||[]}static __isPackageBased(){return!e.moduleBased}};Ba.globalModulesMap={},Ba.gridModulesMap={},Ba.areGridScopedModules=!1;var Wa=Ba,za=class{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return da(this.beanWrappers).map((e=>e.beanInstance))}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),ia(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),fa(this.beanWrappers,((e,t)=>{let i;t.bean.__agBeanMetaData&&t.bean.__agBeanMetaData.autowireMethods&&t.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=t.bean.__agBeanMetaData.autowireMethods.agConstructor);const n=this.getBeansForParameters(i,t.bean.name),o=new(t.bean.bind.apply(t.bean,[null,...n]));t.beanInstance=o}));const e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let t;return t=e.prototype.constructor?Pa(e.prototype.constructor):""+e,void console.error("Context item ".concat(t," is not a bean"))}const i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i}autoWireBeans(e){e.forEach((e=>{this.forEachMetaDataInHierarchy(e,((t,i)=>{const n=t.agClassAttributes;n&&n.forEach((t=>{const n=this.lookupBeanInstance(i,t.beanName,t.optional);e[t.attributeName]=n}))}))}))}methodWireBeans(e){e.forEach((e=>{this.forEachMetaDataInHierarchy(e,((t,i)=>{fa(t.autowireMethods,((t,n)=>{if("agConstructor"===t)return;const o=this.getBeansForParameters(n,i);e[t].apply(e,o)}))}))}))}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;null!=i;){const e=i.constructor;if(e.hasOwnProperty("__agBeanMetaData")){t(e.__agBeanMetaData,this.getBeanName(e))}i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const i=[];return e&&fa(e,((e,n)=>{const o=this.lookupBeanInstance(t,n);i[Number(e)]=o})),i}lookupBeanInstance(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(t," is used after the grid is destroyed!")),null;if("context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const n=this.beanWrappers[t];return n?n.beanInstance:(i||console.error("AG Grid: unable to find bean reference ".concat(t," while initialising ").concat(e)),null)}callLifeCycleMethods(e,t){e.forEach((e=>this.callLifeCycleMethodsOnBean(e,t)))}callLifeCycleMethodsOnBean(e,t,i){const n={};this.forEachMetaDataInHierarchy(e,(e=>{const o=e[t];o&&o.forEach((e=>{e!=i&&(n[e]=!0)}))}));Object.keys(n).forEach((t=>e[t]()))}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,Wa.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach((e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");const t=e;"function"===typeof t.destroy&&t.destroy()})),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function Ua(e,t,i){const n=Ja(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function ja(e,t,i){const n=Ja(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function Ka(e,t,i){const n=Ja(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function Ya(e){return t=>{Ja(t).beanName=e}}function qa(e){return(t,i,n)=>{Xa(t,e,!1,t,i,null)}}function Qa(e){return(t,i,n)=>{Xa(t,e,!0,t,i,null)}}function Xa(e,t,i,n,o,r){if(null===t)return void console.error("AG Grid: Autowired name should not be null");if("number"===typeof r)return void console.error("AG Grid: Autowired should be on an attribute");const s=Ja(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:t,optional:i})}function $a(e){return(t,i,n)=>{const o="function"==typeof t?t:t.constructor;let r;if("number"===typeof n){let t;i?(r=Ja(o),t=i):(r=Ja(o),t="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[t]||(r.autowireMethods[t]={}),r.autowireMethods[t][n]=e}}}function Ja(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var Za=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.frameworkOverrides=t,this.gos=e,i){const t=e.useAsyncEvents();this.addGlobalListener(i,t)}n&&this.addGlobalListener(n,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let o=n.get(e);return!o&&i&&(o=new Set,n.set(e,o)),o}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,i,!0).add(t)}removeEventListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.getListeners(e,i,!1);if(n&&(n.delete(t),0===n.size)){(i?this.allAsyncListeners:this.allSyncListeners).delete(e)}}addGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.gos&&this.gos.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var i;const n=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const o=(i,n)=>i.forEach((i=>{if(!n.has(i))return;const o=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(e))):()=>i(e);t?this.dispatchAsync(o):o()})),r=null!=(i=this.getListeners(n,t,!1))?i:new Set,s=new Set(r);s.size>0&&o(s,r);new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((i=>{const o=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(n,e))):()=>i(n,e);t?this.dispatchAsync(o):o()}))}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming((()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)})),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((e=>e()))}};Js([Zs(0,$a("gridOptionsService")),Zs(1,$a("frameworkOverrides")),Zs(2,$a("globalEventListener")),Zs(3,$a("globalSyncEventListener"))],Za.prototype,"setBeans",1),Za=Js([Ya("eventService")],Za);var el=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=t=>{this.frameworkOverrides.wrapOutgoing((()=>e(t)))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(t,i)=>{this.frameworkOverrides.wrapOutgoing((()=>e(t,i)))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return null!=(t=this.wrappedListeners.get(e))?t:e}unwrapGlobal(e){var t;return null!=(t=this.wrappedGlobalListeners.get(e))?t:e}},tl={resizable:!0,sortable:!0},il=0;function nl(){return il++}var ol=class e{constructor(e,t,i,n){this.instanceId=nl(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Za,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);const n=e.hide,o=e.initialHide;this.visible=void 0!==n?!n:!o,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const r=e.flex,s=e.initialFlex;void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=ia(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ia(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){var e,t;const i=this.colDef;this.minWidth=null!=(e=i.minWidth)?e:this.environment.getMinColWidth(),this.maxWidth=null!=(t=i.maxWidth)?t:Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=ia(this.colDef.tooltipField)||ia(this.colDef.tooltipValueGetter)||ia(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){var t,i;const n=null!=(t=e.minWidth)?t:this.environment.getMinColWidth(),o=null!=(i=e.maxWidth)?i:Number.MAX_SAFE_INTEGER;let r;const s=sa(e.width),a=sa(e.initialWidth);return r=null!=s?s:null!=a?a:200,Math.max(Math.min(r,o),n)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(na(this.colDef)||na(this.colDef.showRowGroup))return!1;const t=!0===this.colDef.showRowGroup,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){var i,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new el(this.frameworkOverrides));const o=null!=(n=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(t))?n:t;this.eventService.addEventListener(e,o)}removeEventListener(e,t){var i,n;const o=null!=(n=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(t))?n:t;this.eventService.removeEventListener(e,o)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){return!(e.group&&!this.gos.get("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var t;return null!=(t=this.colDef[e])?t:tl[e]}isColumnFunc(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}setMoving(e,t){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return na(this.sort)}isSorting(){return ia(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);i&&ya(n,i),this.eventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const i=!0===e;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(na(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(na(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return null!=this.maxWidth&&e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){ia(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(e){Ta("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let t=this.getColDef().menuTabs;return null==t&&(t=e),t}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:e.EVENT_STATE_UPDATED,key:t})}};ol.EVENT_MOVING_CHANGED="movingChanged",ol.EVENT_LEFT_CHANGED="leftChanged",ol.EVENT_WIDTH_CHANGED="widthChanged",ol.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",ol.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",ol.EVENT_VISIBLE_CHANGED="visibleChanged",ol.EVENT_FILTER_CHANGED="filterChanged",ol.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",ol.EVENT_SORT_CHANGED="sortChanged",ol.EVENT_COL_DEF_CHANGED="colDefChanged",ol.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",ol.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",ol.EVENT_PIVOT_CHANGED="columnPivotChanged",ol.EVENT_VALUE_CHANGED="columnValueChanged",ol.EVENT_STATE_UPDATED="columnStateUpdated",Js([qa("gridOptionsService")],ol.prototype,"gos",2),Js([qa("environment")],ol.prototype,"environment",2),Js([qa("columnHoverService")],ol.prototype,"columnHoverService",2),Js([qa("frameworkOverrides")],ol.prototype,"frameworkOverrides",2),Js([ja],ol.prototype,"initialise",1);var rl=ol,sl=class e{constructor(e,t,i,n){this.localEventService=new Za,this.expandable=!1,this.instanceId=nl(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((e=>e.isVisible()))}isPadding(){return this.padding}setExpanded(t){this.expanded=void 0!==t&&t;const i={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(t){this.children&&this.children.forEach((i=>{i instanceof rl?t.push(i):i instanceof e&&i.addLeafColumns(t)}))}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((t=>t.addEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((t=>t.removeEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,i=!1,n=!1;const o=this.findChildrenRemovingPadding();for(let e=0,s=o.length;e<s;e++){const r=o[e];if(!r.isVisible())continue;const s=r.getColumnGroupShow();"open"===s?(t=!0,n=!0):"closed"===s?(i=!0,n=!0):(t=!0,i=!0)}const r=t&&i&&n;if(this.expandable!==r){this.expandable=r;const t={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(t)}}findChildrenRemovingPadding(){const t=[],i=n=>{n.forEach((n=>{n instanceof e&&n.isPadding()?i(n.children):t.push(n)}))};return i(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};sl.EVENT_EXPANDED_CHANGED="expandedChanged",sl.EVENT_EXPANDABLE_CHANGED="expandableChanged",Js([Ka],sl.prototype,"destroy",1);var al=sl,ll={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ul={};$s(ul,{addSafePassiveEventListener:()=>Vl,createEventPath:()=>Il,getCtrlForEventTarget:()=>Nl,getEventPath:()=>Gl,isElementInEventPath:()=>Ol,isEventSupported:()=>Ll,isStopPropagationForAgGrid:()=>Fl,stopPropagationForAgGrid:()=>kl});var cl={};function dl(e){return null!=e&&e.length>0}function hl(e){if(e&&e.length)return e[e.length-1]}function pl(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,n)=>i?i(e,t[n]):t[n]===e))}function gl(e,t){return pl(e,t)}function fl(e){return e.sort(((e,t)=>e-t))}function ml(e,t){if(e)for(let i=e.length-2;i>=0;i--){const n=e[i]===t,o=e[i+1]===t;n&&o&&e.splice(i+1,1)}}function vl(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function Cl(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function yl(e,t){for(let i=0;i<t.length;i++)vl(e,t[i])}function wl(e,t){for(let i=0;i<t.length;i++)Cl(e,t[i])}function bl(e,t,i){e.splice(i,0,t)}function El(e,t,i){if(null!=e&&null!=t)for(let n=t.length-1;n>=0;n--){bl(e,t[n],i)}}function Sl(e,t,i){wl(e,t),t.slice().reverse().forEach((t=>bl(e,t,i)))}function xl(e,t){return e.indexOf(t)>-1}function Rl(e){return[].concat.apply([],e)}function Tl(e,t){null!=t&&null!=e&&t.forEach((t=>e.push(t)))}function Dl(e){return e.map(ra)}function Pl(e,t){if(null!=e)for(let i=e.length-1;i>=0;i--)t(e[i],i)}$s(cl,{areEqual:()=>pl,existsAndNotEmpty:()=>dl,flatten:()=>Rl,forEachReverse:()=>Pl,includes:()=>xl,insertArrayIntoArray:()=>El,insertIntoArray:()=>bl,last:()=>hl,moveInArray:()=>Sl,pushAll:()=>Tl,removeAllFromArray:()=>wl,removeAllFromUnorderedArray:()=>yl,removeFromArray:()=>Cl,removeFromUnorderedArray:()=>vl,removeRepeatsFromArray:()=>ml,shallowCompare:()=>gl,sortNumerically:()=>fl,toStrings:()=>Dl});var Al="__ag_Grid_Stop_Propagation",Ml=["touchstart","touchend","touchmove","touchcancel","scroll"],_l={};function kl(e){e[Al]=!0}function Fl(e){return!0===e[Al]}var Ll=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"===typeof _l[t])return _l[t];const i=document.createElement(e[t]||"div");return _l[t="on"+t]=t in i}})();function Nl(e,t,i){let n=t;for(;n;){const t=e.getDomData(n,i);if(t)return t;n=n.parentElement}return null}function Ol(e,t){return!(!t||!e)&&Gl(t).indexOf(e)>=0}function Il(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function Gl(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Il(t)}function Vl(e,t,i,n){const o=xl(Ml,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,o)}var Hl=class e{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})}addEventListener(e,t){this.localEventService||(this.localEventService=new Za),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,t,i){if(this.destroyed)return;e instanceof HTMLElement?Vl(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==n)),null)}setupGridOptionListener(e,t){this.gos.addEventListener(e,t);const i=()=>(this.gos.removeEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==i)),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=e.changeSet.id}const n={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(n)};e.forEach((e=>this.setupGridOptionListener(e,n)))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.getContext()).createBean(e,i)}destroyBean(e,t){return(t||this.getContext()).destroyBean(e)}destroyBeans(e,t){if(e)for(let i=0;i<e.length;i++)this.destroyBean(e[i],t);return[]}};Hl.EVENT_DESTROYED="destroyed",Js([qa("frameworkOverrides")],Hl.prototype,"frameworkOverrides",2),Js([qa("context")],Hl.prototype,"context",2),Js([qa("eventService")],Hl.prototype,"eventService",2),Js([qa("gridOptionsService")],Hl.prototype,"gos",2),Js([qa("localeService")],Hl.prototype,"localeService",2),Js([qa("environment")],Hl.prototype,"environment",2),Js([Ka],Hl.prototype,"destroy",1);var Bl=Hl,Wl=class extends Bl{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i,n){const o=new ha,{existingCols:r,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(i);o.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,r,o,s,n),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);const c=this.balanceColumnTree(l,0,u,o);return zl(null,c,((e,t)=>{e instanceof al&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:c,treeDept:u}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&zl(null,e,(e=>{if(e instanceof al){const t=e;i.push(t)}else{const i=e;n.push(i.getId()),t.push(i)}})),{existingCols:t,existingGroups:i,existingColKeys:n}}createForAutoGroups(e,t){return e.map((e=>this.createAutoGroupTreeItem(t,e)))}createAutoGroupTreeItem(e,t){const i=this.findDepth(e);let n=t;for(let o=i-1;o>=0;o--){const e=new al(null,"FAKE_PATH_".concat(t.getId(),"}_").concat(o),!0,o);this.createBean(e),e.setChildren([n]),n.setOriginalParent(e),n=e}return 0===i&&t.setOriginalParent(null),n}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof al;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const o=[];for(let r=0;r<e.length;r++){const s=e[r];if(s instanceof al){const e=s,r=this.balanceColumnTree(e.getChildren(),t+1,i,n);e.setChildren(r),o.push(e)}else{let r,a;for(let e=i-1;e>=t;e--){const e=n.getUniqueKey(null,null),i=this.createMergedColGroupDef(null),o=new al(i,e,!0,t);this.createBean(o),a&&a.setChildren([o]),a=o,r||(r=a)}if(r&&a){o.push(r);if(e.some((e=>e instanceof al))){a.setChildren([s]);continue}a.setChildren(e);break}o.push(s)}}return o}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const o=e[n];if(o instanceof al){const e=o,n=this.findMaxDept(e.getChildren(),t+1);i<n&&(i=n)}}return i}recursivelyCreateColumns(e,t,i,n,o,r,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(i,u,t,n,o,r,s):a[l]=this.createColumn(i,u,n,o,s)}return a}createColumnGroup(e,t,i,n,o,r,s){const a=this.createMergedColGroupDef(t),l=o.getUniqueKey(a.groupId||null,null),u=new al(a,l,!1,i);this.createBean(u);const c=this.findExistingGroup(t,r);c&&r.splice(c.idx,1);let d=null==c?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,e,n,o,r,s);return u.setChildren(h),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,o){const r=this.findExistingColumn(t,i);r&&(null==i||i.splice(r.idx,1));let s=null==r?void 0:r.column;if(s){const e=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(e,t,o),this.applyColumnState(s,e,o)}else{const i=n.getUniqueKey(t.colId,t.field),o=this.addColumnDefaultAndTypes(t,i);s=new rl(o,t,i,e),this.context.createBean(s)}return this.dataTypeService.addColumnListeners(s),s}applyColumnState(e,t,i){const n=sa(t.flex);void 0!==n&&e.setFlex(n);if(e.getFlex()<=0){const n=sa(t.width);if(null!=n)e.setActualWidth(n,i);else{const t=e.getActualWidth();e.setActualWidth(t,i)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,i):e.setSort(void 0,i));const o=sa(t.sortIndex);void 0!==o&&e.setSortIndex(o);const r=aa(t.hide);void 0!==r&&e.setVisible(!r,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(!n)continue;if(null!=e.colId){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(null!=e.field){if(n.field===e.field)return{idx:i,column:t[i]}}else if(n===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let i=0;i<t.length;i++){const n=t[i];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:i,group:n}}}addColumnDefaultAndTypes(e,t){const i={};ya(i,this.gos.get("defaultColDef"),!1,!0);const n=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);n&&this.assignColumnTypes(n,i),ya(i,e,!1,!0);const o=this.gos.get("autoGroupColumnDef"),r=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&r&&ya(i,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},ll);fa(this.gos.get("columnTypes")||{},((e,t)=>{if(e in i)console.warn("AG Grid: the column type '".concat(e,"' is a default column type and cannot be overridden."));else{t.type&&Ta("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[e]=t}})),e.forEach((e=>{const n=i[e.trim()];n?ya(t,n,!1,!0):console.warn("AG Grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(e){return void 0!==e.children}};function zl(e,t,i){if(t)for(let n=0;n<t.length;n++){const o=t[n];o instanceof al&&zl(o,o.getChildren(),i),i(o,e)}}Js([qa("dataTypeService")],Wl.prototype,"dataTypeService",2),Js([Zs(0,$a("loggerFactory"))],Wl.prototype,"setBeans",1),Wl=Js([Ya("columnFactory")],Wl);var Ul=class e{constructor(e,t,i,n){this.displayedChildren=[],this.localEventService=new Za,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}static createUniqueId(e,t){return e+"_"+t}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return e.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((e=>e.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((t=>{t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=hl(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let i=!1;return this.children.forEach((n=>{t===n&&(i=!0),n instanceof e&&n.isChildInThisGroupDeepSearch(t)&&(i=!0)})),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach((t=>{e+=t.getActualWidth()})),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach((t=>{t.isResizable()&&(e=!0)})),e}getMinWidth(){let e=0;return this.displayedChildren.forEach((t=>{e+=t.getMinWidth()||0})),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(t){this.displayedChildren.forEach((i=>{i instanceof rl?t.push(i):i instanceof e&&i.addDisplayedLeafColumns(t)}))}addLeafColumns(t){this.children.forEach((i=>{i instanceof rl?t.push(i):i instanceof e&&i.addLeafColumns(t)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;null!=t&&t.isPadding();)t=t.getParent();if(!(!!t&&t.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((i=>{if(i instanceof e&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(i);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i)}})),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))}};Ul.EVENT_LEFT_CHANGED="leftChanged",Ul.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",Js([qa("gridOptionsService")],Ul.prototype,"gos",2);var jl=Ul,Kl=class{};Kl.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",Kl.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",Kl.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded",Kl.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",Kl.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",Kl.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",Kl.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",Kl.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",Kl.EVENT_COLUMN_MOVED="columnMoved",Kl.EVENT_COLUMN_VISIBLE="columnVisible",Kl.EVENT_COLUMN_PINNED="columnPinned",Kl.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",Kl.EVENT_COLUMN_RESIZED="columnResized",Kl.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",Kl.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",Kl.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",Kl.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",Kl.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",Kl.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",Kl.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",Kl.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",Kl.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",Kl.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",Kl.EVENT_ROW_GROUP_OPENED="rowGroupOpened",Kl.EVENT_ROW_DATA_UPDATED="rowDataUpdated",Kl.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",Kl.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",Kl.EVENT_CHART_CREATED="chartCreated",Kl.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",Kl.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",Kl.EVENT_CHART_DESTROYED="chartDestroyed",Kl.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",Kl.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",Kl.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",Kl.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",Kl.EVENT_MODEL_UPDATED="modelUpdated",Kl.EVENT_CUT_START="cutStart",Kl.EVENT_CUT_END="cutEnd",Kl.EVENT_PASTE_START="pasteStart",Kl.EVENT_PASTE_END="pasteEnd",Kl.EVENT_FILL_START="fillStart",Kl.EVENT_FILL_END="fillEnd",Kl.EVENT_RANGE_DELETE_START="rangeDeleteStart",Kl.EVENT_RANGE_DELETE_END="rangeDeleteEnd",Kl.EVENT_UNDO_STARTED="undoStarted",Kl.EVENT_UNDO_ENDED="undoEnded",Kl.EVENT_REDO_STARTED="redoStarted",Kl.EVENT_REDO_ENDED="redoEnded",Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",Kl.EVENT_CELL_CLICKED="cellClicked",Kl.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",Kl.EVENT_CELL_MOUSE_DOWN="cellMouseDown",Kl.EVENT_CELL_CONTEXT_MENU="cellContextMenu",Kl.EVENT_CELL_VALUE_CHANGED="cellValueChanged",Kl.EVENT_CELL_EDIT_REQUEST="cellEditRequest",Kl.EVENT_ROW_VALUE_CHANGED="rowValueChanged",Kl.EVENT_CELL_FOCUSED="cellFocused",Kl.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",Kl.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",Kl.EVENT_ROW_SELECTED="rowSelected",Kl.EVENT_SELECTION_CHANGED="selectionChanged",Kl.EVENT_TOOLTIP_SHOW="tooltipShow",Kl.EVENT_TOOLTIP_HIDE="tooltipHide",Kl.EVENT_CELL_KEY_DOWN="cellKeyDown",Kl.EVENT_CELL_MOUSE_OVER="cellMouseOver",Kl.EVENT_CELL_MOUSE_OUT="cellMouseOut",Kl.EVENT_FILTER_CHANGED="filterChanged",Kl.EVENT_FILTER_MODIFIED="filterModified",Kl.EVENT_FILTER_OPENED="filterOpened",Kl.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",Kl.EVENT_SORT_CHANGED="sortChanged",Kl.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",Kl.EVENT_ROW_CLICKED="rowClicked",Kl.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",Kl.EVENT_GRID_READY="gridReady",Kl.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",Kl.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",Kl.EVENT_VIEWPORT_CHANGED="viewportChanged",Kl.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",Kl.EVENT_FIRST_DATA_RENDERED="firstDataRendered",Kl.EVENT_DRAG_STARTED="dragStarted",Kl.EVENT_DRAG_STOPPED="dragStopped",Kl.EVENT_CHECKBOX_CHANGED="checkboxChanged",Kl.EVENT_ROW_EDITING_STARTED="rowEditingStarted",Kl.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",Kl.EVENT_CELL_EDITING_STARTED="cellEditingStarted",Kl.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",Kl.EVENT_BODY_SCROLL="bodyScroll",Kl.EVENT_BODY_SCROLL_END="bodyScrollEnd",Kl.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",Kl.EVENT_PAGINATION_CHANGED="paginationChanged",Kl.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",Kl.EVENT_STORE_REFRESHED="storeRefreshed",Kl.EVENT_STATE_UPDATED="stateUpdated",Kl.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",Kl.EVENT_CONTEXT_MENU_VISIBLE_CHANGED="contextMenuVisibleChanged",Kl.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",Kl.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",Kl.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",Kl.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",Kl.EVENT_FLASH_CELLS="flashCells",Kl.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",Kl.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",Kl.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",Kl.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",Kl.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",Kl.EVENT_ROW_DRAG_ENTER="rowDragEnter",Kl.EVENT_ROW_DRAG_MOVE="rowDragMove",Kl.EVENT_ROW_DRAG_LEAVE="rowDragLeave",Kl.EVENT_ROW_DRAG_END="rowDragEnd",Kl.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",Kl.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",Kl.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",Kl.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",Kl.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",Kl.EVENT_STORE_UPDATED="storeUpdated",Kl.EVENT_FILTER_DESTROYED="filterDestroyed",Kl.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",Kl.EVENT_ROW_COUNT_READY="rowCountReady",Kl.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",Kl.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",Kl.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",Kl.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",Kl.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var Yl=new Set([Kl.EVENT_GRID_PRE_DESTROYED,Kl.EVENT_FILL_START]),ql=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!==typeof t?0:t+1,this.existingIds[e]=i,i}},Ql="ag-Grid-AutoColumn",Xl=class extends Bl{createAutoGroupColumns(e){const t=[],i=this.gos.get("treeData");let n=this.gos.isGroupMultiAutoColumn();return i&&n&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),n=!1),n?e.forEach(((e,i)=>{t.push(this.createOneAutoGroupColumn(e,i))})):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e,t){e.forEach(((e,i)=>this.updateOneAutoGroupColumn(e,i,t)))}createOneAutoGroupColumn(e,t){let i;i=e?"".concat(Ql,"-").concat(e.getId()):Ql;const n=this.createAutoGroupColDef(i,e,t);n.colId=i;const o=new rl(n,null,i,!0);return this.context.createBean(o),o}updateOneAutoGroupColumn(e,t,i){const n=e.getColDef(),o="string"==typeof n.showRowGroup?n.showRowGroup:void 0,r=null!=o?this.columnModel.getPrimaryColumn(o):void 0,s=this.createAutoGroupColDef(e.getId(),null!=r?r:void 0,t);e.setColDef(s,null,i),this.columnFactory.applyColumnState(e,s,i)}createAutoGroupColDef(e,t,i){let n=this.createBaseColDef(t);if(ya(n,this.gos.get("autoGroupColumnDef")),n=this.columnFactory.addColumnDefaultAndTypes(n,e),!this.gos.get("treeData")){na(n.field)&&na(n.valueGetter)&&na(n.filterValueGetter)&&"agGroupColumnFilter"!==n.filter&&(n.filter=!1)}i&&i>0&&(n.headerCheckboxSelection=!1);const o=this.gos.isColumnsSortingCoupledToGroup(),r=n.valueGetter||null!=n.field;return o&&!r&&(n.sortIndex=void 0,n.initialSort=void 0),n}createBaseColDef(e){const t=this.gos.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e){const t=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:t.headerValueGetter}),t.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:t.cellRenderer,innerRendererParams:t.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i}};Js([qa("columnModel")],Xl.prototype,"columnModel",2),Js([qa("columnFactory")],Xl.prototype,"columnFactory",2),Xl=Js([Ya("autoGroupColService")],Xl);var $l={};$s($l,{camelCaseToHumanText:()=>nu,camelCaseToHyphenated:()=>ou,capitalise:()=>tu,escapeString:()=>iu,utf8_encode:()=>eu});var Jl=/[&<>"']/g,Zl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function eu(e){const t=String.fromCharCode;function i(e,i){return t(e>>i&63|128)}function n(e){if(e>=0&&e<=31&&10!==e){const t=e.toString(16).toUpperCase().padStart(4,"0");return"_x".concat(t,"_")}if(0==(4294967168&e))return t(e);let n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=i(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=i(e,12),n+=i(e,6)),n+=t(63&e|128),n}const o=function(e){const t=[];if(!e)return[];const i=e.length;let n,o,r=0;for(;r<i;)n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<i?(o=e.charCodeAt(r++),56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)):t.push(n);return t}(e),r=o.length;let s,a=-1,l="";for(;++a<r;)s=o[a],l+=n(s);return l}function tu(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function iu(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(Jl,(e=>Zl[e]))}function nu(e){if(!e||null==e)return null;return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):""))).join(" ")}function ou(e){return e.replace(/[A-Z]/g,(e=>"-".concat(e.toLocaleLowerCase())))}var ru={};function su(e){const t=new Map;return e.forEach((e=>t.set(e[0],e[1]))),t}function au(e,t){const i=new Map;return e.forEach((e=>i.set(t(e),e))),i}function lu(e){const t=[];return e.forEach(((e,i)=>t.push(i))),t}$s(ru,{convertToMap:()=>su,keys:()=>lu,mapById:()=>au});var uu=class extends Bl{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation");const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(e=>this.buildAutoGroupColumns(cu(e.source)))),this.addManagedPropertyListener("autoGroupColumnDef",(e=>this.onAutoGroupColumnDefChanged(cu(e.source)))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],(e=>this.onSharedColDefChanged(cu(e.source)))),this.addManagedPropertyListener("pivotMode",(e=>this.setPivotMode(this.gos.get("pivotMode"),cu(e.source)))),this.addManagedListener(this.eventService,Kl.EVENT_FIRST_DATA_RENDERED,(()=>this.onFirstDataRendered()))}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,t){const i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const i={};if(!e)return;zl(null,e,(e=>{i[e.getInstanceId()]=e})),t&&zl(null,t,(e=>{i[e.getInstanceId()]=null}));const n=Object.values(i).filter((e=>null!=e));this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t){const i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,o=this.primaryColumnTree,r=this.columnFactory.createColumnTree(this.columnDefs,!0,o,t);this.destroyOldColumns(this.primaryColumnTree,r.columnTree),this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((e=>this.primaryColumnsMap[e.getId()]=e)),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.extractValueColumns(t,n),this.ready=!0;const s=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||s||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gos.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(t)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){const t={type:Kl.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t),"gridInitializing"===e&&this.onColumnsReady()}dispatchEverythingChanged(e){const t={type:Kl.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter((e=>this.gridColumns.indexOf(e)>=0)),i=this.gridColumns.filter((e=>t.indexOf(e)<0));this.gridColumns=[...i,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gos.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}checkViewportColumns(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null==this.displayedColumnsCenter)return;if(!this.extractViewport())return;const t={type:Kl.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}setViewportPosition(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(Ta("Pivot mode not available with treeData."),!1)}setPivotMode(e,t){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))return;if(this.pivotMode=e,!this.gridColumns)return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const i={type:Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}getSecondaryPivotColumn(e,t){if(na(this.secondaryColumns))return null;const i=this.getPrimaryColumn(t);let n=null;return this.secondaryColumns.forEach((t=>{const o=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;pl(o,e)&&r===i&&(n=t)})),n}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?hl(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?hl(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)}))}autoSizeColumns(e){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push((()=>this.autoSizeColumns(e)));const{columns:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:o,source:r="api"}=e;this.animationFrameService.flushAllFrames();const s=[];let a=-1;const l=null!=i?i:this.gos.get("skipHeaderOnAutoSize"),u=null!=n?n:l;for(;0!==a;)a=0,this.actionOnGridColumns(t,(e=>{if(s.indexOf(e)>=0)return!1;const t=this.autoWidthCalculator.getPreferredWidthForColumn(e,l);if(t>0){const i=this.normaliseColumnWidth(e,t);e.setActualWidth(i,r),s.push(e),a++}return!0}),r);u||this.autoSizeColumnGroupsByColumns(t,r,o),this.dispatchColumnResizedEvent(s,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&e.length){const o={type:Kl.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,source:i};this.eventService.dispatchEvent(o)}}dispatchColumnChangedEvent(e,t,i){const n={type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i};this.eventService.dispatchEvent(n)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:i,toIndex:n,finished:o}=e,r={type:Kl.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:n,finished:o,source:i};this.eventService.dispatchEvent(r)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,(e=>e.getPinned())),o={type:Kl.EVENT_COLUMN_PINNED,pinned:null!=n?n:null,columns:e,column:i,source:t};this.eventService.dispatchEvent(o)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,(e=>e.isVisible())),o={type:Kl.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:i,source:t};this.eventService.dispatchEvent(o)}autoSizeColumn(e,t,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;let o;this.getGridColumns(e).forEach((e=>{let t=e.getParent();for(;t&&t!=i;)t.isPadding()||n.add(t),t=t.getParent()}));for(const r of n){for(const e of this.ctrlsService.getHeaderRowContainerCtrls())if(o=e.getHeaderCtrlForColumn(r),o)break;o&&o.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push((()=>this.autoSizeAllColumns(e,t)));const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:t,source:e})}getColumnsFromTree(e){const t=[],i=e=>{for(let n=0;n<e.length;n++){const o=e[n];o instanceof rl?t.push(o):o instanceof al&&i(o.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,n){const o=[];let r=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,u=Math.min(a.getColSpan(e),l),c=[a];if(u>1){const e=u-1;for(let i=1;i<=e;i++)c.push(t[s+i]);s+=e}let d;if(i?(d=!1,c.forEach((e=>{i(e)&&(d=!0)}))):d=!0,d){if(0===o.length&&r){!!n&&n(a)&&o.push(r)}o.push(a)}r=a}return o}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,t,(e=>{const t=e.getLeft();return ia(t)&&t>this.viewportLeft}))}isColumnAtEdge(e,t){const i=this.getAllDisplayedColumns();if(!i.length)return!1;const n="first"===t;let o;if(e instanceof jl){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;o=n?t[0]:hl(t)}else o=e;return(n?i[0]:hl(i))===o}getAriaColumnIndex(e){let t;return t=e instanceof jl?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}isColumnInHeaderViewport(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200;return!(t<n&&i<n)&&!(t>o&&i>o)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,n,o,r){if(!e||oa(e))return;let s=!1;if(e.forEach((e=>{if(!e)return;const o=this.getPrimaryColumn(e);if(o){if(i){if(t.indexOf(o)>=0)return;t.push(o)}else{if(t.indexOf(o)<0)return;Cl(t,o)}n(o),s=!0}})),!s)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);const a={type:o,columns:t,column:1===t.length?t[0]:null,source:r};this.eventService.dispatchEvent(a)}setRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([t],!1,i),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnsVisible([t],!0,i))}addRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}addPivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!0,(e=>e.setPivotActive(!0,t)),Kl.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t){this.setPrimaryColumnList(e,this.pivotColumns,Kl.EVENT_COLUMN_PIVOT_CHANGED,!0,((e,i)=>{i.setPivotActive(e,t)}),t)}removePivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!1,(e=>e.setPivotActive(!1,t)),Kl.EVENT_COLUMN_PIVOT_CHANGED,t)}setPrimaryColumnList(e,t,i,n,o,r){if(!this.gridColumns)return;const s=new Map;t.forEach(((e,t)=>s.set(e,t))),t.length=0,ia(e)&&e.forEach((e=>{const i=this.getPrimaryColumn(e);i&&t.push(i)})),t.forEach(((e,t)=>{const i=s.get(e);void 0!==i?n&&i!==t||s.delete(e):s.set(e,0)})),(this.primaryColumns||[]).forEach((e=>{const i=t.indexOf(e)>=0;o(i,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(i,[...s.keys()],r)}setValueColumns(e,t){this.setPrimaryColumnList(e,this.valueColumns,Kl.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const e=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(e)}}addValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Kl.EVENT_COLUMN_VALUE_CHANGED,t)}removeValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Kl.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const i=e.getMinWidth();ia(i)&&t<i&&(t=i);const n=e.getMaxWidth();return ia(n)&&e.isGreaterThanMax(t)&&(t=n),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,n){const o=[];e.forEach((e=>{const i=this.getPrimaryOrGridColumn(e.key);if(!i)return;o.push({width:e.newWidth,ratios:[1],columns:[i]});if("shift"===this.gos.get("colResizeDefault")&&(t=!t),t){const t=this.getDisplayedColAfter(i);if(!t)return;const n=i.getActualWidth()-e.newWidth,r=t.getActualWidth()+n;o.push({width:r,ratios:[1],columns:[t]})}})),0!==o.length&&this.resizeColumnSets({resizeSets:o,finished:i,source:n})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,o=0,r=!0;t.forEach((e=>{const t=e.getMinWidth();n+=t||0;const i=e.getMaxWidth();ia(i)&&i>0?o+=i:r=!1}));return i>=n&&(!r||i<=o)}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every((e=>this.checkMinAndMaxWidthsForSet(e))))){if(i){const e=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(e,i,n)}return}const o=[],r=[];t.forEach((e=>{const{width:t,columns:i,ratios:s}=e,a={},l={};i.forEach((e=>r.push(e)));let u=!0,c=0;for(;u;){if(c++,c>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}u=!1;const e=[];let n=0,o=t;i.forEach(((t,i)=>{if(l[t.getId()])o-=a[t.getId()];else{e.push(t);const o=s[i];n+=o}}));const r=1/n;e.forEach(((i,n)=>{let c;n===e.length-1?c=o:(c=Math.round(s[n]*t*r),o-=c);const d=i.getMinWidth(),h=i.getMaxWidth();ia(d)&&c<d?(c=d,l[i.getId()]=!0,u=!0):ia(h)&&h>0&&c>h&&(c=h,l[i.getId()]=!0,u=!0),a[i.getId()]=c}))}i.forEach((e=>{const t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),o.push(e))}))}));const s=o.length>0;let a=[];s&&(a=this.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const l=r.concat(a);(s||i)&&this.dispatchColumnResizedEvent(l,i,n,a)}setColumnAggFunc(e,t,i){if(!e)return;const n=this.getPrimaryColumn(e);n&&(n.setAggFunc(t),this.dispatchColumnChangedEvent(Kl.EVENT_COLUMN_VALUE_CHANGED,[n],i))}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const n=this.rowGroupColumns[e],o=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n);const r={type:Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:o,column:1===o.length?o[0]:null,source:i};this.eventService.dispatchEvent(r)}moveColumns(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.gridColumns)return;if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const o=this.getGridColumns(e);!this.doesMovePassRules(o,t)||(Sl(this.gridColumns,o,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:o,source:i,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}getProposedColumnOrder(e,t){const i=this.gridColumns.slice();return Sl(i,e,t),i}sortColumnsLikeGridColumns(e){if(!e||e.length<=1)return;e.filter((e=>this.gridColumns.indexOf(e)<0)).length>0||e.sort(((e,t)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(t)))}doesMovePassLockedPositions(e){let t=0,i=!0;return e.forEach((e=>{const n=(o=e.getColDef().lockPosition)?!0===o||"left"===o?0:2:1;var o;n<t&&(i=!1),t=n})),i}doesMovePassMarryChildren(e){let t=!0;return zl(null,this.gridBalancedTree,(i=>{if(!(i instanceof al))return;const n=i,o=n.getColGroupDef();if(!(o&&o.marryChildren))return;const r=[];n.getLeafColumns().forEach((t=>{const i=e.indexOf(t);r.push(i)}));Math.max.apply(Math,r)-Math.min.apply(Math,r)>n.getLeafColumns().length-1&&(t=!1)})),t}moveColumnByIndex(e,t,i){if(!this.gridColumns)return;const n=this.gridColumns[e];this.moveColumns([n],t,i)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort(((e,t)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(t))):this.lastPrimaryOrder&&e.sort(((e,t)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(t))),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;if(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i;const n={type:Kl.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(n);const o={type:Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return null!=(e=this.gridColumns)?e:[]}isRowGroupEmpty(){return oa(this.rowGroupColumns)}setColumnsVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.applyColumnState({state:e.map((e=>({colId:"string"===typeof e?e:e.getColId(),hide:!t})))},i)}setColumnsPinned(e,t,i){if(!this.gridColumns)return;if(this.gos.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,(e=>e.getPinned()!==n&&(e.setPinned(n),!0)),i,(()=>({type:Kl.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:i}))),this.columnAnimationService.finish()}actionOnGridColumns(e,t,i,n){if(oa(e))return;const o=[];if(e.forEach((e=>{if(!e)return;const i=this.getGridColumn(e);if(!i)return;!1!==t(i)&&o.push(i)})),o.length&&(this.updateDisplayedColumns(i),ia(n)&&n)){const e=n();e.columns=o,e.column=1===o.length?o[0]:null,this.eventService.dispatchEvent(e)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),o="After"===t?hl(n):n[0],r="getDisplayedCol".concat(t);for(;;){const t=this[r](o);if(!t)return null;const n=this.getColumnGroupAtLevel(t,i);if(n!==e)return n}}getColumnGroupAtLevel(e,t){let i,n,o=e.getParent();for(;;){if(i=o.getProvidedColumnGroup().getLevel(),n=o.getPaddingLevel(),i+n<=t)break;o=o.getParent()}return o}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,o=null!=e.getSort()?e.getSort():null,r=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:r,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:s}}getColumnState(){if(na(this.primaryColumns)||!this.isAlive())return[];const e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(e){const t=su(this.gridColumns.map(((e,t)=>[e.getColId(),t])));e.sort(((e,i)=>(t.has(e.colId)?t.get(e.colId):-1)-(t.has(i.colId)?t.get(i.colId):-1)))}resetColumnState(e){if(oa(this.primaryColumns))return;const t=this.getColumnsFromTree(this.primaryColumnTree),i=[];let n=1e3,o=1e3,r=[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),t&&(r=r.concat(t)),r.forEach((e=>{const t=this.getColumnStateFromColDef(e);na(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=n++),na(t.pivotIndex)&&t.pivot&&(t.pivotIndex=o++),i.push(t)})),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(e,t)=>null!=e?e:null!=t?t:null,i=e.getColDef(),n=t(i.sort,i.initialSort),o=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),s=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let u=t(i.rowGroupIndex,i.initialRowGroupIndex),c=t(i.rowGroup,i.initialRowGroup);null!=u||null!=c&&0!=c||(u=null,c=null);let d=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);null!=d||null!=h&&0!=h||(d=null,h=null);const p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:o,hide:r,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:p}}applyColumnState(e,t){if(oa(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(i,n,o)=>{const r=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const s=n.slice(),a={},l={},u=[],c=[];let d=0;const h=this.rowGroupColumns.slice(),p=this.pivotColumns.slice();i.forEach((i=>{const n=i.colId||"";if(n.startsWith(Ql))return u.push(i),void c.push(i);const r=o(n);r?(this.syncColumnWithStateItem(r,i,e.defaultState,a,l,!1,t),Cl(s,r)):(c.push(i),d+=1)}));const g=i=>this.syncColumnWithStateItem(i,null,e.defaultState,a,l,!1,t);s.forEach(g);const f=(e,t,i,n)=>{const o=e[i.getId()],r=e[n.getId()],s=null!=o,a=null!=r;if(s&&a)return o-r;if(s)return-1;if(a)return 1;const l=t.indexOf(i),u=t.indexOf(n),c=l>=0;return c&&u>=0?l-u:c?-1:1};this.rowGroupColumns.sort(f.bind(this,a,h)),this.pivotColumns.sort(f.bind(this,l,p)),this.updateGridColumns();const m=this.groupAutoColumns?this.groupAutoColumns.slice():[];return u.forEach((i=>{const n=this.getAutoColumn(i.colId);Cl(m,n),this.syncColumnWithStateItem(n,i,e.defaultState,null,null,!0,t)})),m.forEach(g),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),r(),{unmatchedAndAutoStates:c,unmatchedCount:d}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:o}=i(e.state||[],this.primaryColumns||[],(e=>this.getPrimaryColumn(e)));return(n.length>0||ia(e.defaultState))&&(o=i(n,this.secondaryColumns||[],(e=>this.getSecondaryColumn(e))).unmatchedCount),this.columnAnimationService.finish(),0===o}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const i={};e.state.forEach((e=>{if(!e.colId||i[e.colId])return;const n=this.gridColumnsMap[e.colId];n&&(t.push(n),i[e.colId]=!0)}));let n=0;this.gridColumns.forEach((e=>{const o=e.getColId();if(null!=i[o])return;o.startsWith(Ql)?bl(t,e,n++):t.push(e)})),t=this.placeLockedColumns(t),this.doesMovePassMarryChildren(t)?this.gridColumns=t:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),n={};return i.forEach((e=>{n[e.colId]=e})),()=>{const o=this.getPrimaryAndSecondaryAndAutoColumns(),r=(t,i,n,o)=>{if(pl(i.map(o),n.map(o)))return;const r=new Set(i);n.forEach((e=>{r.delete(e)||r.add(e)}));const s=[...r],a={type:t,columns:s,column:1===s.length?s[0]:null,source:e};this.eventService.dispatchEvent(a)},s=e=>{const t=[];return o.forEach((i=>{const o=n[i.getColId()];o&&e(o,i)&&t.push(i)})),t},a=e=>e.getColId();r(Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,a),r(Kl.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,a);const l=s(((e,t)=>{const i=null!=e.aggFunc,n=i!=t.isValueActive(),o=i&&e.aggFunc!=t.getAggFunc();return n||o}));l.length>0&&this.dispatchColumnChangedEvent(Kl.EVENT_COLUMN_VALUE_CHANGED,l,e);this.dispatchColumnResizedEvent(s(((e,t)=>e.width!=t.getActualWidth())),!0,e);this.dispatchColumnPinnedEvent(s(((e,t)=>e.pinned!=t.getPinned())),e);this.dispatchColumnVisibleEvent(s(((e,t)=>e.hide==t.isVisible())),e);const u=s(((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()));u.length>0&&this.sortController.dispatchSortChangedEvents(e,u),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}normaliseColumnMovedEventForColumnState(e,t){const i=this.getColumnState(),n={};i.forEach((e=>n[e.colId]=e));const o={};e.forEach((e=>{n[e.colId]&&(o[e.colId]=!0)}));const r=e.filter((e=>o[e.colId])),s=i.filter((e=>o[e.colId])),a=[];s.forEach(((e,t)=>{const i=r&&r[t];if(i&&i.colId!==e.colId){const e=this.getGridColumn(i.colId);e&&a.push(e)}})),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,n,o,r,s){var a;if(!e)return;const l=(e,n)=>{const o={value1:void 0,value2:void 0};let r=!1;return t&&(void 0!==t[e]&&(o.value1=t[e],r=!0),ia(n)&&void 0!==t[n]&&(o.value2=t[n],r=!0)),!r&&i&&(void 0!==i[e]&&(o.value1=i[e]),ia(n)&&void 0!==i[n]&&(o.value2=i[n])),o},u=l("hide").value1;void 0!==u&&e.setVisible(!u,s);const c=l("pinned").value1;void 0!==c&&e.setPinned(c);const d=null!=(a=e.getColDef().minWidth)?a:this.environment.getMinColWidth(),h=l("flex").value1;if(void 0!==h&&e.setFlex(h),null==h){const t=l("width").value1;null!=t&&null!=d&&t>=d&&e.setActualWidth(t,s)}const p=l("sort").value1;void 0!==p&&("desc"===p||"asc"===p?e.setSort(p,s):e.setSort(void 0,s));const g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),r||!e.isPrimary())return;const f=l("aggFunc").value1;void 0!==f&&("string"===typeof f?(e.setAggFunc(f),e.isValueActive()||(e.setValueActive(!0,s),this.valueColumns.push(e))):(ia(f)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),Cl(this.valueColumns,e))));const{value1:m,value2:v}=l("rowGroup","rowGroupIndex");void 0===m&&void 0===v||("number"===typeof v||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),this.rowGroupColumns.push(e)),n&&"number"===typeof v&&(n[e.getId()]=v)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),Cl(this.rowGroupColumns,e)));const{value1:C,value2:y}=l("pivot","pivotIndex");void 0===C&&void 0===y||("number"===typeof y||C?(e.isPivotActive()||(e.setPivotActive(!0,s),this.pivotColumns.push(e)),o&&"number"===typeof y&&(o[e.getId()]=y)):e.isPivotActive()&&(e.setPivotActive(!1,s),Cl(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const i=[];return e&&e.forEach((e=>{const n=t(e);n&&i.push(n)})),i}getColumnWithValidation(e){if(null==e)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e||!i)return null;if("string"==typeof e&&i[e])return i[e];for(let n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return this.groupAutoColumns&&ia(this.groupAutoColumns)&&!na(this.groupAutoColumns)&&this.groupAutoColumns.find((t=>this.columnsMatch(t,e)))||null}columnsMatch(e,t){const i=e===t,n=e.getColDef()===t,o=e.getColId()==t;return i||n||o}getDisplayNameForColumn(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,o){const r=e.headerValueGetter;if(r){const s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:o});return"function"===typeof r?r(s):"string"===typeof r?this.expressionService.evaluate(r,s):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?nu(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let n,o=null;if(ia(i)){const r=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,s=void 0!==e.getColDef().pivotTotalColumnIds;if(r&&!s)return t;o=i?i.getAggFunc():null,n=!0}else{const t=e.isValueActive(),i=this.pivotMode||!this.isRowGroupEmpty();t&&i?(o=e.getAggFunc(),n=!0):n=!1}if(n){const e="string"===typeof o?o:"func",i=this.localeService.getLocaleTextFunc()(e,e);return"".concat(i,"(").concat(t,")")}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof jl)return e;const i=this.getAllDisplayedTrees(),n="number"===typeof t;let o=null;return du(i,!1,(i=>{if(i instanceof jl){const r=i;let s;s=n?e===r.getGroupId()&&t===r.getPartId():e===r.getGroupId(),s&&(o=r)}})),o}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,((t,i)=>t.setValueActive(i,e)),(()=>{}),(()=>{}),(e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(e=>null!=e.initialAggFunc&&""!=e.initialAggFunc)),this.valueColumns.forEach((e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,((t,i)=>t.setRowGroupActive(i,e)),(e=>e.rowGroupIndex),(e=>e.initialRowGroupIndex),(e=>e.rowGroup),(e=>e.initialRowGroup))}extractColumns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const a=[],l=[];(this.primaryColumns||[]).forEach((i=>{const u=e.indexOf(i)<0,c=i.getColDef(),d=aa(r(c)),h=aa(s(c)),p=sa(n(c)),g=sa(o(c));let f;if(f=void 0!==d?d:void 0!==p?null!==p&&p>=0:u?void 0!==h?h:!!(void 0!==g)&&(null!=g&&g>=0):t.indexOf(i)>=0,f){(u?null!=p||null!=g:null!=p)?a.push(i):l.push(i)}}));const u=e=>{const t=n(e.getColDef()),i=o(e.getColDef());return null!=t?t:i};a.sort(((e,t)=>{const i=u(e),n=u(t);return i===n?0:i<n?-1:1}));const c=[].concat(a);return t.forEach((e=>{l.indexOf(e)>=0&&c.push(e)})),l.forEach((e=>{c.indexOf(e)<0&&c.push(e)})),t.forEach((e=>{c.indexOf(e)<0&&i(e,!1)})),c.forEach((e=>{t.indexOf(e)<0&&i(e,!0)})),c}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,((t,i)=>t.setPivotActive(i,e)),(e=>e.pivotIndex),(e=>e.initialPivotIndex),(e=>e.pivot),(e=>e.initialPivot))}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const t=[];zl(null,this.primaryColumnTree,(e=>{if(e instanceof al){const i=e.getColGroupDef(),n={groupId:e.getGroupId(),open:i?i.openByDefault:void 0};t.push(n)}})),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return zl(null,this.gridBalancedTree,(t=>{t instanceof al&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e}setColumnGroupState(e,t){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const i=[];if(e.forEach((e=>{const t=e.groupId,n=e.open,o=this.getProvidedColumnGroup(t);o&&o.isExpanded()!==n&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+n+")"),o.setExpanded(n),i.push(o))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.length){const e={type:Kl.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===al.length?i[0]:void 0,columnGroups:i};this.eventService.dispatchEvent(e)}this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;n=e instanceof al?e.getId():e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColumnGroup(e){"string"!==typeof e&&console.error("AG Grid: group key must be a string");let t=null;return zl(null,this.gridBalancedTree,(i=>{i instanceof al&&i.getId()===e&&(t=i)})),t}calculateColumnsForDisplay(){let e;return e=this.pivotMode&&na(this.secondaryColumns)?this.gridColumns.filter((e=>{const t=this.groupAutoColumns&&xl(this.groupAutoColumns,e),i=this.valueColumns&&xl(this.valueColumns,e);return t||i})):this.gridColumns.filter((e=>this.groupAutoColumns&&xl(this.groupAutoColumns,e)||e.isVisible())),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach((e=>{ia(e.getColDef().colSpan)&&(t=!0)})),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};this.gridColumns.forEach((e=>{const t=e.getColDef(),i=t.showRowGroup;t&&ia(i)&&(this.groupDisplayColumns.push(e),"string"===typeof i?this.groupDisplayColumnsMap[i]=e:!0===i&&this.getRowGroupColumns().forEach((t=>{this.groupDisplayColumnsMap[t.getId()]=e})))}))}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return ia(this.secondaryColumns)}setSecondaryColumns(e,t){if(!this.gridColumns)return;const i=e;if(i||!na(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);const i=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,t);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((e=>this.secondaryColumnsMap[e.getId()]=e)),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const n=e=>{e.forEach((e=>{if(ia(e.children)){const t=e;i&&i(t),n(t.children)}else{t&&t(e)}}))};e&&n(e)}updateGridColumns(){const e=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;if(this.createGroupAutoColumnsIfNeeded()){const e=su(this.groupAutoColumns.map((e=>[e,!0])));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter((t=>!e.has(t))),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter((t=>!e.has(t))),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let t;if(this.secondaryColumns&&this.secondaryBalancedTree){const e=this.secondaryColumns.some((e=>void 0!==this.gridColumnsMap[e.getColId()]));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,e&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((e=>this.gridColumnsMap[e.getId()]=e)),this.setAutoHeightActive(),!pl(e,this.gridBalancedTree)){const e={type:Kl.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)}}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter((e=>e.isAutoHeight())).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||Ta("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}orderGridColsLike(e){if(na(e))return;const t=su(e.map(((e,t)=>[e,t])));let i=!0;if(this.gridColumns.forEach((e=>{t.has(e)&&(i=!1)})),i)return;const n=su(this.gridColumns.map((e=>[e,!0]))),o=e.filter((e=>n.has(e))),r=su(o.map((e=>[e,!0]))),s=this.gridColumns.filter((e=>!r.has(e))),a=o.slice();s.forEach((e=>{let t=e.getOriginalParent();if(!t)return void a.push(e);const i=[];for(;!i.length&&t;){t.getLeafColumns().forEach((e=>{const t=a.indexOf(e)>=0,n=i.indexOf(e)<0;t&&n&&i.push(e)})),t=t.getOriginalParent()}if(!i.length)return void a.push(e);const n=i.map((e=>a.indexOf(e))),o=Math.max(...n);bl(a,e,o+1)})),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=null!=(e=this.isPivotMode()&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.secondaryColumns:this.primaryColumns)?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?t:t.filter((e=>e.isVisible()||e.isRowGroupActive()))}placeLockedColumns(e){const t=[],i=[],n=[];return e.forEach((e=>{const o=e.getColDef().lockPosition;"right"===o?n.push(e):"left"===o||!0===o?t.push(e):i.push(e)})),[...t,...i,...n]}addAutoGroupToGridColumns(){if(na(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:Kl.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter((e=>e.isAutoHeight()))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),t=[],i=[],n=[];for(const o of e){const e=o.getPinned();e?!0===e||"left"===e?t.push(o):n.push(o):i.push(o)}this.ariaOrderColumns=t.concat(i).concat(n)}joinDisplayedColumns(){this.gos.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gos.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((n=>{if(i){let t=this.getWidthOfColsInList(n);n.forEach((i=>{t-=i.getActualWidth(),i.setLeft(t,e)}))}else{let t=0;n.forEach((i=>{i.setLeft(t,e),t+=i.getActualWidth()}))}yl(t,n)})),t.forEach((t=>{t.setLeft(null,e)}))}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((e=>{e.forEach((e=>{if(e instanceof jl){e.checkLeft()}}))}))}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,du(e,!0,(e=>{e instanceof rl&&t.push(e)}))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t]}return na(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach((t=>e[t.getId()]=!0));const t=(i,n,o)=>{let r=!1;for(let s=0;s<i.length;s++){const a=i[s];let l=!1;if(a instanceof rl)l=!0===e[a.getId()];else{const e=a.getDisplayedChildren();e&&(l=t(e,n,o+1))}l&&(r=!0,n[o]||(n[o]=[]),n[o].push(a))}return r};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.viewportColumns.map((e=>"".concat(e.getId(),"-").concat(e.getPinned()||"normal"))).join("#"),t=this.viewportColumnsHash!==e;return t&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),t}refreshFlexedColumns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const i=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=-1;if(e.resizingCols){const t=new Set(e.resizingCols);let i=this.displayedColumnsCenter;for(let e=i.length-1;e>=0;e--)if(t.has(i[e])){n=e;break}}let o=0,r=[],s=0,a=0;for(let h=0;h<this.displayedColumnsCenter.length;h++){this.displayedColumnsCenter[h].getFlex()&&h>n?(r.push(this.displayedColumnsCenter[h]),a+=this.displayedColumnsCenter[h].getFlex(),s+=null!=(t=this.displayedColumnsCenter[h].getMinWidth())?t:0):o+=this.displayedColumnsCenter[h].getActualWidth()}if(!r.length)return[];let l=[];o+s>this.flexViewportWidth&&(r.forEach((e=>{var t;return e.setActualWidth(null!=(t=e.getMinWidth())?t:0,i)})),l=r,r=[]);const u=[];let c;e:for(;;){c=this.flexViewportWidth-o;const e=c/a;for(let t=0;t<r.length;t++){const n=r[t],s=e*n.getFlex();let c=0;const d=n.getMinWidth(),h=n.getMaxWidth();if(ia(d)&&s<d?c=d:ia(h)&&s>h&&(c=h),c){n.setActualWidth(c,i),vl(r,n),a-=n.getFlex(),l.push(n),o+=n.getActualWidth();continue e}u[t]=Math.round(s)}break}let d=c;return r.forEach(((e,t)=>{e.setActualWidth(Math.min(u[t],d),i),l.push(e),d-=u[t]})),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,i,r),r}sizeColumnsToFit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;var o,r,s,a,l;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push((()=>this.sizeColumnsToFit(e,t,i,n)));const u={};n&&(null==(o=null==n?void 0:n.columnLimits)||o.forEach((e=>{var t=e,{key:i}=t,n=((e,t)=>{var i={};for(var n in e)Ks.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&js)for(var n of js(e))t.indexOf(n)<0&&Ys.call(e,n)&&(i[n]=e[n]);return i})(t,["key"]);u["string"===typeof i?i:i.getColId()]=n})));const c=this.getAllDisplayedColumns(),d=e===this.getWidthOfColsInList(c);if(e<=0||!c.length||d)return;const h=[],p=[];c.forEach((e=>{!0===e.getColDef().suppressSizeToFit?p.push(e):h.push(e)}));const g=h.slice(0);let f=!1;const m=e=>{Cl(h,e),p.push(e)};for(h.forEach((e=>{var i,o;e.resetActualWidth(t);const r=null==u?void 0:u[e.getId()],s=null!=(i=null==r?void 0:r.minWidth)?i:null==n?void 0:n.defaultMinWidth,a=null!=(o=null==r?void 0:r.maxWidth)?o:null==n?void 0:n.defaultMaxWidth,l=e.getActualWidth();"number"===typeof s&&l<s?e.setActualWidth(s,t,!0):"number"===typeof a&&l>a&&e.setActualWidth(a,t,!0)}));!f;){f=!0;const i=e-this.getWidthOfColsInList(p);if(i<=0)h.forEach((e=>{var i,o;const r=null!=(o=null==(i=null==u?void 0:u[e.getId()])?void 0:i.minWidth)?o:null==n?void 0:n.defaultMinWidth;"number"!==typeof r?e.setMinimum(t):e.setActualWidth(r,t,!0)}));else{const e=i/this.getWidthOfColsInList(h);let o=i;for(let i=h.length-1;i>=0;i--){const c=h[i],d=null==u?void 0:u[c.getId()],p=null!=(r=null==d?void 0:d.minWidth)?r:null==n?void 0:n.defaultMinWidth,g=null!=(s=null==d?void 0:d.maxWidth)?s:null==n?void 0:n.defaultMaxWidth,v=null!=(a=c.getMinWidth())?a:0,C=null!=(l=c.getMaxWidth())?l:Number.MAX_VALUE,y="number"===typeof p&&p>v?p:c.getMinWidth(),w="number"===typeof g&&g<C?g:c.getMaxWidth();let b=Math.round(c.getActualWidth()*e);ia(y)&&b<y?(b=y,m(c),f=!1):ia(w)&&b>w?(b=w,m(c),f=!1):0===i&&(b=o),c.setActualWidth(b,t,!0),o-=b}}}g.forEach((e=>{e.fireColumnWidthChangedEvent(t)})),this.setLeftValues(t),this.updateBodyWidths(),i||this.dispatchColumnResizedEvent(g,!0,t)}buildDisplayedTrees(e){const t=[],i=[],n=[];e.forEach((e=>{switch(e.getPinned()){case"left":t.push(e);break;case"right":i.push(e);break;default:n.push(e)}}));const o=new ql;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,o,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,o,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,o,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};du(this.displayedTreeCentre,!1,e),du(this.displayedTreeLeft,!1,e),du(this.displayedTreeRight,!1,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){du(this.getAllDisplayedTrees(),!1,(e=>{e instanceof jl&&e.calculateDisplayedColumns()}))}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gos.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gos.get("treeData"))&&!i&&!t){const t=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(t,this.groupAutoColumns)||e)return this.groupAutoColumns=t,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){if("custom"===this.gos.get("groupDisplayType"))return!0;return"custom"===this.gos.get("treeDataDisplayType")}autoColsEqual(e,t){return pl(e,t,((e,t)=>e.getColId()===t.getColId()))}getWidthOfColsInList(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}getFirstDisplayedColumn(){const e=this.gos.get("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?hl(n):n[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const t={type:Kl.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(t)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter((e=>e.isAutoHeaderHeight())).map((e=>e.getAutoHeaderHeight()||0));return Math.max(e,...t)}getHeaderHeight(){var e;return null!=(e=this.gos.get("headerHeight"))?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return null!=(e=this.gos.get("floatingFiltersHeight"))?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return null!=(e=this.gos.get("groupHeaderHeight"))?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return null!=(e=this.gos.get("pivotHeaderHeight"))?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return null!=(e=this.gos.get("pivotGroupHeaderHeight"))?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((e=>e())),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}isColumnGroupingLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||0===t)return!1;if(-1===t)return!0;return t>this.rowGroupColumns.findIndex((t=>t.getColId()===e.getColId()))}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={};const n=(e,t,n,o,r,s)=>{if(!t.length||!this.primaryColumns)return[];const a=Object.keys(e),l=new Set(a),u=new Set(a),c=new Set(t.map((e=>{const t=e.getColId();return u.delete(t),t})).concat(a)),d=[],h={};let p=0;for(let i=0;i<this.primaryColumns.length;i++){const e=this.primaryColumns[i].getColId();c.has(e)&&(d.push(e),h[e]=p++)}let g=1e3,f=!1,m=0;const v=t=>{const i=h[t];for(let n=m;n<i;n++){const t=d[n];u.has(t)&&(e[t][r]=g++,u.delete(t))}m=i};t.forEach((t=>{const a=t.getColId();if(l.has(a))v(a),e[a][r]=g++;else{const l=t.getColDef();if(null===l[r]||void 0===l[r]&&null==l[s]){if(!f){l[n]||void 0===l[n]&&l[o]?v(a):(u.forEach((t=>{e[t][r]=g+h[t]})),g+=d.length,f=!0)}i[a]||(i[a]={colId:a}),i[a][r]=g++}}}))};return n(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}onColumnsReady(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout((()=>{if("fitGridWidth"===t){const{columnLimits:t,defaultMinWidth:i,defaultMaxWidth:n}=e,o=null==t?void 0:t.map((e=>{let{colId:t,minWidth:i,maxWidth:n}=e;return{key:t,minWidth:i,maxWidth:n}}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:n,columnLimits:o})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")}))}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==(null==e?void 0:e.type))return;const{colIds:t,skipHeader:i}=e;setTimeout((()=>{t?this.autoSizeColumns({columns:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)}))}};function cu(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function du(e,t,i){if(e)for(let n=0;n<e.length;n++){const o=e[n];if(o instanceof jl){du(t?o.getDisplayedChildren():o.getChildren(),t,i)}i(o)}}Js([qa("expressionService")],uu.prototype,"expressionService",2),Js([qa("columnFactory")],uu.prototype,"columnFactory",2),Js([qa("displayedGroupCreator")],uu.prototype,"displayedGroupCreator",2),Js([qa("ctrlsService")],uu.prototype,"ctrlsService",2),Js([qa("autoWidthCalculator")],uu.prototype,"autoWidthCalculator",2),Js([qa("columnAnimationService")],uu.prototype,"columnAnimationService",2),Js([qa("autoGroupColService")],uu.prototype,"autoGroupColService",2),Js([qa("valueCache")],uu.prototype,"valueCache",2),Js([qa("animationFrameService")],uu.prototype,"animationFrameService",2),Js([qa("sortController")],uu.prototype,"sortController",2),Js([qa("columnDefFactory")],uu.prototype,"columnDefFactory",2),Js([Qa("aggFuncService")],uu.prototype,"aggFuncService",2),Js([ja],uu.prototype,"init",1),Js([Ka],uu.prototype,"destroyColumns",1),Js([Zs(0,$a("loggerFactory"))],uu.prototype,"setBeans",1),uu=Js([Ya("columnModel")],uu);var hu=class extends Bl{createDisplayedGroups(e,t,i,n){const o=this.mapOldGroupsById(n),r=[];let s=e;for(;s.length;){const e=s;s=[];let n=0;const a=a=>{const l=n;n=a;const u=e[l],c=(u instanceof jl?u.getProvidedColumnGroup():u).getOriginalParent();if(null==c){for(let t=l;t<a;t++)r.push(e[t]);return}const d=this.createColumnGroup(c,t,o,i);for(let t=l;t<a;t++)d.addChild(e[t]);s.push(d)};for(let t=1;t<e.length;t++){const i=e[t],o=(i instanceof jl?i.getProvidedColumnGroup():i).getOriginalParent(),r=e[n];o!==(r instanceof jl?r.getProvidedColumnGroup():r).getOriginalParent()&&a(t)}n<e.length&&a(e.length)}return this.setupParentsIntoColumns(r,null),r}createColumnGroup(e,t,i,n){const o=e.getGroupId(),r=t.getInstanceIdForKey(o);let s=i[jl.createUniqueId(o,r)];return s&&s.getProvidedColumnGroup()!==e&&(s=null),ia(s)?s.reset():(s=new jl(e,o,r,n),this.context.createBean(s)),s}mapOldGroupsById(e){const t={},i=e=>{e.forEach((e=>{if(e instanceof jl){const n=e;t[e.getUniqueId()]=n,i(n.getChildren())}}))};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach((e=>{if(e.setParent(t),e instanceof jl){const t=e;this.setupParentsIntoColumns(t.getChildren(),t)}}))}};hu=Js([Ya("displayedGroupCreator")],hu);var pu={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},gu=class{};gu.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],gu.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],gu.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],gu.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],gu.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval"],gu.OTHER_PROPERTIES=["suppressStickyTotalRow"],gu.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],gu.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],gu.FUNCTION_PROPERTIES=[...gu.FUNCTIONAL_PROPERTIES,...gu.CALLBACK_PROPERTIES],gu.ALL_PROPERTIES=[...gu.ARRAY_PROPERTIES,...gu.OBJECT_PROPERTIES,...gu.STRING_PROPERTIES,...gu.NUMBER_PROPERTIES,...gu.FUNCTION_PROPERTIES,...gu.BOOLEAN_PROPERTIES,...gu.OTHER_PROPERTIES];var fu=gu,mu=class e{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(t,i){"object"!==typeof t&&(t={});const n=Qs({},t);return e.getGridOptionKeys().forEach((t=>{const o=i[t];"undefined"!==typeof o&&o!==e.VUE_OMITTED_PROPERTY&&(n[t]=o)})),n}static processOnChange(t,i,n){if(!t)return;const o={};let r=!1;if(Object.keys(t).filter((t=>e.ALL_PROPERTIES_AND_CALLBACKS_SET.has(t))).forEach((e=>{o[e]=t[e],r=!0})),!r)return;i.__internalUpdateGridOptions(o,!0);const s={type:Kl.EVENT_COMPONENT_STATE_CHANGED};fa(o,((e,t)=>{s[e]=t})),i.dispatchEvent(s)}};mu.EVENTS=da(Kl),mu.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",mu.EXCLUDED_INTERNAL_EVENTS=[Kl.EVENT_SCROLLBAR_WIDTH_CHANGED,Kl.EVENT_CHECKBOX_CHANGED,Kl.EVENT_HEIGHT_SCALE_CHANGED,Kl.EVENT_BODY_HEIGHT_CHANGED,Kl.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Kl.EVENT_SCROLL_VISIBILITY_CHANGED,Kl.EVENT_COLUMN_HOVER_CHANGED,Kl.EVENT_FLASH_CELLS,Kl.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Kl.EVENT_DISPLAYED_ROWS_CHANGED,Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED,Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Kl.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Kl.EVENT_STORE_UPDATED,Kl.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Kl.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,Kl.EVENT_FULL_WIDTH_ROW_FOCUSED,Kl.EVENT_HEADER_HEIGHT_CHANGED,Kl.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,Kl.EVENT_CELL_FOCUS_CLEARED,Kl.EVENT_GRID_STYLES_CHANGED,Kl.EVENT_FILTER_DESTROYED,Kl.EVENT_ROW_DATA_UPDATE_STARTED,Kl.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,Kl.EVENT_DATA_TYPES_INFERRED,Kl.EVENT_FIELD_VALUE_CHANGED,Kl.EVENT_FIELD_PICKER_VALUE_SELECTED,Kl.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,Kl.EVENT_SUPPRESS_MENU_HIDE_CHANGED,Kl.EVENT_SUPPRESS_FIELD_DOT_NOTATION,Kl.EVENT_ROW_COUNT_READY,Kl.EVENT_SIDE_BAR_UPDATED],mu.PUBLIC_EVENTS=mu.EVENTS.filter((e=>!xl(mu.EXCLUDED_INTERNAL_EVENTS,e))),mu.EVENT_CALLBACKS=mu.EVENTS.map((e=>mu.getCallbackForEvent(e))),mu.BOOLEAN_PROPERTIES=fu.BOOLEAN_PROPERTIES,mu.ALL_PROPERTIES=fu.ALL_PROPERTIES,mu.ALL_PROPERTIES_AND_CALLBACKS=[...mu.ALL_PROPERTIES,...mu.EVENT_CALLBACKS],mu.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(mu.ALL_PROPERTIES_AND_CALLBACKS);var vu=mu,Cu=class extends Bl{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach((e=>this.addComponent(e)))}addComponent(e){const t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};Cu=Js([Ya("agStackComponentsRegistry")],Cu);var yu={};function wu(e,t,i){null==i||"string"===typeof i&&""==i?Eu(e,t):bu(e,t,i)}function bu(e,t,i){e.setAttribute(Su(t),i.toString())}function Eu(e,t){e.removeAttribute(Su(t))}function Su(e){return"aria-".concat(e)}function xu(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Ru(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}function Tu(e){return parseInt(e.getAttribute("aria-level"),10)}function Du(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Pu(e){return e.getAttribute("aria-label")}function Au(e,t){wu(e,"label",t)}function Mu(e,t){wu(e,"labelledby",t)}function _u(e,t){wu(e,"describedby",t)}function ku(e,t){wu(e,"live",t)}function Fu(e,t){wu(e,"atomic",t)}function Lu(e,t){wu(e,"relevant",t)}function Nu(e,t){wu(e,"level",t)}function Ou(e,t){wu(e,"disabled",t)}function Iu(e,t){wu(e,"hidden",t)}function Gu(e,t){wu(e,"activedescendant",t)}function Vu(e,t){bu(e,"expanded",t)}function Hu(e){Eu(e,"expanded")}function Bu(e,t){bu(e,"setsize",t)}function Wu(e,t){bu(e,"posinset",t)}function zu(e,t){bu(e,"multiselectable",t)}function Uu(e,t){bu(e,"rowcount",t)}function ju(e,t){bu(e,"rowindex",t)}function Ku(e,t){bu(e,"colcount",t)}function Yu(e,t){bu(e,"colindex",t)}function qu(e,t){bu(e,"colspan",t)}function Qu(e,t){bu(e,"sort",t)}function Xu(e){Eu(e,"sort")}function $u(e,t){wu(e,"selected",t)}function Ju(e,t){bu(e,"checked",void 0===t?"mixed":t)}function Zu(e,t){wu(e,"controls",t.id),Mu(t,e.id)}function ec(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}$s(yu,{getAriaCheckboxStateName:()=>ec,getAriaLabel:()=>Pu,getAriaLevel:()=>Tu,getAriaPosInSet:()=>Du,getAriaSortState:()=>Ru,removeAriaExpanded:()=>Hu,removeAriaSort:()=>Xu,setAriaActiveDescendant:()=>Gu,setAriaAtomic:()=>Fu,setAriaChecked:()=>Ju,setAriaColCount:()=>Ku,setAriaColIndex:()=>Yu,setAriaColSpan:()=>qu,setAriaControls:()=>Zu,setAriaDescribedBy:()=>_u,setAriaDisabled:()=>Ou,setAriaExpanded:()=>Vu,setAriaHidden:()=>Iu,setAriaLabel:()=>Au,setAriaLabelledBy:()=>Mu,setAriaLevel:()=>Nu,setAriaLive:()=>ku,setAriaMultiSelectable:()=>zu,setAriaPosInSet:()=>Wu,setAriaRelevant:()=>Lu,setAriaRole:()=>xu,setAriaRowCount:()=>Uu,setAriaRowIndex:()=>ju,setAriaSelected:()=>$u,setAriaSetSize:()=>Bu,setAriaSort:()=>Qu});var tc,ic,nc,oc,rc,sc,ac,lc,uc={};function cc(){return void 0===tc&&(tc=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),tc}function dc(){if(void 0===ic)if(cc()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(ic=null!=e[1]?parseFloat(e[1]):0)}else ic=0;return ic}function hc(){if(void 0===nc){const e=window;nc=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return nc}function pc(){return void 0===oc&&(oc=/(firefox)/i.test(navigator.userAgent)),oc}function gc(){return void 0===rc&&(rc=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),rc}function fc(){return void 0===sc&&(sc=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),sc}function mc(){return!cc()||dc()>=15}function vc(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||pc())?t.toString():null}function Cc(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=2*e;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),e}function yc(){var e,t,i;return null!=(i=null==(e=document.body)?void 0:e.clientWidth)?i:window.innerHeight||(null==(t=document.documentElement)?void 0:t.clientWidth)||-1}function wc(){var e,t,i;return null!=(i=null==(e=document.body)?void 0:e.clientHeight)?i:window.innerHeight||(null==(t=document.documentElement)?void 0:t.clientHeight)||-1}function bc(){return null==lc&&Ec(),lc}function Ec(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&(lc=i,ac=0===i)}function Sc(){return null==ac&&Ec(),ac}$s(uc,{browserSupportsPreventScroll:()=>mc,getBodyHeight:()=>wc,getBodyWidth:()=>yc,getMaxDivHeight:()=>Cc,getSafariVersion:()=>dc,getScrollbarWidth:()=>bc,getTabIndex:()=>vc,isBrowserChrome:()=>hc,isBrowserFirefox:()=>pc,isBrowserSafari:()=>cc,isIOSUserAgent:()=>fc,isInvisibleScrollbar:()=>Sc,isMacOsUserAgent:()=>gc});var xc={};$s(xc,{dateToFormattedString:()=>Nc,parseDateTimeFromString:()=>Oc,serialiseDate:()=>Fc});var Rc={};function Tc(e,t){return e.toString().padStart(t,"0")}function Dc(e,t){const i=[];for(let n=e;n<=t;n++)i.push(n);return i}function Pc(e){return"string"===typeof e&&(e=parseInt(e,10)),"number"===typeof e?Math.floor(e):null}function Ac(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function Mc(e,t,i){return"number"!==typeof e?"":_c(Math.round(100*e)/100,t,i)}function _c(e,t,i){return"number"!==typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function kc(e){return null==e?null:e.reduce(((e,t)=>e+t),0)}function Fc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((e=>Tc(e,2))).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((e=>Tc(e,2))).join(":")),n}$s(Rc,{cleanNumber:()=>Pc,createArrayOfNumbers:()=>Dc,decToHex:()=>Ac,formatNumberCommas:()=>_c,formatNumberTwoDecimalPlacesAndCommas:()=>Mc,padStartWidthZeros:()=>Tc,sum:()=>kc});var Lc=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Nc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";const i=Tc(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>"".concat(e.getFullYear()),MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Tc(e.getMonth()+1,2),Mo:()=>"".concat(e.getMonth()+1).concat(Lc(e.getMonth()+1)),M:()=>"".concat(e.getMonth()+1),Do:()=>"".concat(e.getDate()).concat(Lc(e.getDate())),DD:()=>Tc(e.getDate(),2),D:()=>"".concat(e.getDate()),dddd:()=>o[e.getDay()],ddd:()=>o[e.getDay()].slice(0,3),dd:()=>o[e.getDay()].slice(0,2),do:()=>"".concat(e.getDay()).concat(Lc(e.getDay())),d:()=>"".concat(e.getDay())},s=new RegExp(Object.keys(r).join("|"),"g");return t.replace(s,(e=>e in r?r[e]():e))}function Oc(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map((e=>parseInt(e,10)));if(3!==n.filter((e=>!isNaN(e))).length)return null;const[o,r,s]=n,a=new Date(o,r-1,s);if(a.getFullYear()!==o||a.getMonth()!==r-1||a.getDate()!==s)return null;if(!i||"00:00:00"===i)return a;const[l,u,c]=i.split(":").map((e=>parseInt(e,10)));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var Ic,Gc={};function Vc(e,t,i){const n=e.parentElement;let o=n&&n.firstChild;for(;o;)t&&o.classList.toggle(t,o===e),i&&o.classList.toggle(i,o!==e),o=o.nextSibling}$s(Gc,{FOCUSABLE_EXCLUDE:()=>Bc,FOCUSABLE_SELECTOR:()=>Hc,addOrRemoveAttribute:()=>bd,addStylesToElement:()=>cd,bindCellRendererToHtmlElement:()=>Sd,clearElement:()=>id,copyNodeList:()=>yd,ensureDomOrder:()=>ad,formatSize:()=>vd,getAbsoluteHeight:()=>Xc,getAbsoluteWidth:()=>$c,getElementRectWithOffset:()=>Jc,getElementSize:()=>Yc,getInnerHeight:()=>qc,getInnerWidth:()=>Qc,getScrollLeft:()=>ed,insertWithDomOrder:()=>ud,isElementChildOfClass:()=>Kc,isFocusableFormField:()=>Wc,isHorizontalScrollShowing:()=>dd,isInDOM:()=>od,isNodeOrElement:()=>Cd,isRtlNegativeScroll:()=>Zc,isVerticalScrollShowing:()=>hd,isVisible:()=>rd,iterateNamedNodeMap:()=>wd,loadTemplate:()=>sd,nodeListForEach:()=>Ed,radioCssClass:()=>Vc,removeFromParent:()=>nd,setDisabled:()=>jc,setDisplayed:()=>zc,setDomChildOrder:()=>ld,setElementHeight:()=>fd,setElementWidth:()=>pd,setFixedHeight:()=>md,setFixedWidth:()=>gd,setScrollLeft:()=>td,setVisible:()=>Uc});var Hc="[tabindex], input, select, button, textarea, [href]",Bc="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Wc(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),n=t.call(e,Bc),o=rd(e);return i&&!n&&o}function zc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||Iu(e,!t)}function Uc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||Iu(e,!t)}function jc(e,t){const i="disabled",n=t?e=>e.setAttribute(i,""):e=>e.removeAttribute(i);n(e),Ed(e.querySelectorAll("input"),(e=>n(e)))}function Kc(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++n>i)break}else if(e===i)break}return!1}function Yc(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:o,borderBottomWidth:r,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:f}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:f}}function qc(e){const t=Yc(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Qc(e){const t=Yc(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Xc(e){const t=Yc(e),i=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+i)}function $c(e){const t=Yc(e),i=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+i)}function Jc(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:o,borderBottomWidth:r}=Yc(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(o||0),bottom:t.bottom+(r||0)}}function Zc(){if("boolean"===typeof Ic)return Ic;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Ic=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Ic}function ed(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),hc()&&!Zc()&&(i=e.scrollWidth-e.clientWidth-i)),i}function td(e,t,i){i&&(Zc()?t*=-1:(cc()||hc())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function id(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function nd(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function od(e){return!!e.offsetParent}function rd(e){const t=e;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});return!(!od(e)||"visible"!==window.getComputedStyle(e).visibility)}function sd(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function ad(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function ld(e,t){for(let i=0;i<t.length;i++){const n=t[i],o=e.children[i];o!==n&&e.insertBefore(n,o)}}function ud(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function cd(e,t){if(t)for(const[i,n]of Object.entries(t)){if(!i||!i.length||null==n)continue;const t=ou(i),o=n.toString(),r=o.replace(/\s*!important/g,""),s=r.length!=o.length?"important":void 0;e.style.setProperty(t,r,s)}}function dd(e){return e.clientWidth<e.scrollWidth}function hd(e){return e.clientHeight<e.scrollHeight}function pd(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):gd(e,t)}function gd(e,t){t=vd(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function fd(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):md(e,t)}function md(e,t){t=vd(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function vd(e){return"number"===typeof e?"".concat(e,"px"):e}function Cd(e){return e instanceof Node||e instanceof HTMLElement}function yd(e){if(null==e)return[];const t=[];return Ed(e,(e=>t.push(e))),t}function wd(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}function bd(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function Ed(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}function Sd(e,t){e.then((e=>{const i=e.getGui();null!=i&&("object"===typeof i?t.appendChild(i):t.innerHTML=i)}))}var xd={};function Rd(e,t,i){const n={},o=e.filter((e=>!t.some((t=>t===e))));return o.length>0&&o.forEach((e=>n[e]=Td(e,i).values)),n}function Td(e,t,i,n){let o=t.map(((t,i)=>({value:t,relevance:Dd(e.toLowerCase(),t.toLocaleLowerCase()),idx:i})));if(o.sort(((e,t)=>t.relevance-e.relevance)),i&&(o=o.filter((e=>0!==e.relevance))),o.length>0&&n&&n>0){const e=o[0].relevance*n;o=o.filter((t=>e-t.relevance<0))}const r=[],s=[];for(const a of o)r.push(a.value),s.push(a.idx);return{values:r,indices:s}}function Dd(e,t){const i=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let o=0,r=-1;for(let s=0;s<i.length;s++){const e=n.indexOf(i[s],r+1);-1!==e&&(r=e,o+=100-100*r/1e4*100)}return o}$s(xd,{fuzzyCheckStrings:()=>Rd,fuzzySuggestions:()=>Td});var Pd={};$s(Pd,{createIcon:()=>Md,createIconNoSpan:()=>_d,iconNameClassMap:()=>Ad});var Ad={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function Md(e,t,i){const n=_d(e,t,i);if(n){const{className:e}=n;if("string"===typeof e&&e.indexOf("ag-icon")>-1||"object"===typeof e&&e["ag-icon"])return n}const o=document.createElement("span");return o.appendChild(n),o}function _d(e,t,i,n){let o=null;const r=i&&i.getColDef().icons;if(r&&(o=r[e]),t&&!o){const i=t.get("icons");i&&(o=i[e])}if(!o){const t=document.createElement("span");let i=Ad[e];return i||(n?i=e:(console.warn("AG Grid: Did not find icon ".concat(e)),i="")),t.setAttribute("class","ag-icon ag-icon-".concat(i)),t.setAttribute("unselectable","on"),xu(t,"presentation"),t}{let e;if("function"===typeof o)e=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");e=o}if("string"===typeof e)return sd(e);if(Cd(e))return e;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var kd={};$s(kd,{isDeleteKey:()=>Ud,isEventFromPrintableCharacter:()=>Hd,isUserSuppressingHeaderKeyboardEvent:()=>Wd,isUserSuppressingKeyboardEvent:()=>Bd,normaliseQwertyAzerty:()=>zd});var Fd=class{};Fd.BACKSPACE="Backspace",Fd.TAB="Tab",Fd.ENTER="Enter",Fd.ESCAPE="Escape",Fd.SPACE=" ",Fd.LEFT="ArrowLeft",Fd.UP="ArrowUp",Fd.RIGHT="ArrowRight",Fd.DOWN="ArrowDown",Fd.DELETE="Delete",Fd.F2="F2",Fd.PAGE_UP="PageUp",Fd.PAGE_DOWN="PageDown",Fd.PAGE_HOME="Home",Fd.PAGE_END="End",Fd.A="KeyA",Fd.C="KeyC",Fd.D="KeyD",Fd.V="KeyV",Fd.X="KeyX",Fd.Y="KeyY",Fd.Z="KeyZ";var Ld=65,Nd=67,Od=86,Id=68,Gd=90,Vd=89;function Hd(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;return 1===e.key.length}function Bd(e,t,i,n,o){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const s=e.addGridCommonParams({event:t,editing:o,column:n,node:i,data:i.data,colDef:n.getColDef()});if(r){if(r(s))return!0}return!1}function Wd(e,t,i,n){const o=n.getDefinition(),r=o&&o.suppressHeaderKeyboardEvent;if(!ia(r))return!1;return!!r(e.addGridCommonParams({colDef:o,column:n,headerRowIndex:i,event:t}))}function zd(e){const{keyCode:t}=e;let i;switch(t){case Ld:i=Fd.A;break;case Nd:i=Fd.C;break;case Od:i=Fd.V;break;case Id:i=Fd.D;break;case Gd:i=Fd.Z;break;case Vd:i=Fd.Y;break;default:i=e.code}return i}function Ud(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===Fd.DELETE||!t&&e===Fd.BACKSPACE&&gc()}var jd={};function Kd(e,t,i){if(0===i)return!1;const n=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(n,o)<=i}$s(jd,{areEventsNear:()=>Kd});var Yd={};function qd(e,t){if(!e)return!1;const i=(e,i)=>{const n=t[e.id],o=t[i.id],r=void 0!==n,s=void 0!==o;return r&&s?n-o:!r&&!s?e.__objectId-i.__objectId:r?1:-1};let n,o,r=!1;for(let s=0;s<e.length-1;s++)if(n=e[s],o=e[s+1],i(n,o)>0){r=!0;break}return!!r&&(e.sort(i),!0)}$s(Yd,{sortRowNodesByOrder:()=>qd});var Qd={};function Xd(e){const t=new Set;return e.forEach((e=>t.add(e))),t}$s(Qd,{convertToSet:()=>Xd});var $d=Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs({},yu),cl),uc),xc),Gc),ul),Sa),xd),ea),Pd),kd),ru),jd),Rc),pa),Yd),Qd),$l),Jd=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Zd=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e((e=>this.onDone(e)),(e=>this.onReject(e)))}static all(t){return new e((e=>{let i=t.length;const n=new Array(i);t.forEach(((t,o)=>{t.then((t=>{n[o]=t,i--,0===i&&e(n)}))}))}))}static resolve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e((e=>e(t)))}then(t){return new e((e=>{1===this.status?e(t(this.resolution)):this.waiters.push((i=>e(t(i))))}))}resolveNow(e,t){return 1===this.status?t(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach((t=>t(e)))}onReject(e){console.warn("TBI")}},eh=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.addCssClass(e)));if(!0!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.removeCssClass(e)));if(!1!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1)return void i.forEach((e=>this.addOrRemoveCssClass(e,t)))}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}},th=class e extends Bl{constructor(e,t,i,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=n,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),1===this.tooltipTrigger&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return t<0&&Ta("".concat(e," should not be lower than 0")),Math.max(200,t)}getTooltipDelay(e){var t,i;return"show"===e?null!=(t=this.tooltipShowDelayOverride)?t:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!=(i=this.tooltipHideDelayOverride)?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),fc()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(t)}),this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var t;const i=e.relatedTarget,n=this.parentComp.getGui(),o=null==(t=this.tooltipComp)?void 0:t.getGui();this.isInteractingWithTooltip||n.contains(i)||this.interactionEnabled&&(null==o?void 0:o.contains(i))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||e.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=Qs({},this.parentComp.getTooltipParams());if(!ia(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime());const i={type:Kl.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.getContext().destroyBean(t);const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:i,ariaLabel:n("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(0===this.tooltipTrigger?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));const r={type:Kl.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var t;const i=this.parentComp.getGui(),n=null==(t=this.tooltipComp)?void 0:t.getGui(),o=e.relatedTarget;(null==n?void 0:n.contains(o))||(this.isInteractingWithTooltip=!1,i.contains(o)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Xs(Qs({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Xs(Qs({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=0===this.tooltipTrigger?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout((()=>{e(),this.getContext().destroyBean(t)}),i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((e=>{e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),this.INTERACTIVE_HIDE_DELAY)}unlockService(){e.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};th.isLocked=!1,Js([qa("popupService")],th.prototype,"popupService",2),Js([qa("userComponentFactory")],th.prototype,"userComponentFactory",2),Js([ja],th.prototype,"postConstruct",1);var ih=th,nh=class extends Bl{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,i,n;if(null!=this.tooltipManager)return;const o={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new ih(o,null==(t=(e=this.ctrl).getTooltipShowDelayOverride)?void 0:t.call(e),null==(n=(i=this.ctrl).getTooltipHideDelayOverride)?void 0:n.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var e;return null==(e=this.tooltipManager)?void 0:e.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};Js([qa("beans")],nh.prototype,"beans",2),Js([ja],nh.prototype,"postConstruct",1);var oh=new Jd,rh=class e extends Bl{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=oh.next(),this.cssClassManager=new eh((()=>this.eGui)),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:t,showDelayOverride:i,hideDelayOverride:n,location:o,shouldDisplayTooltip:r}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==t&&(this.tooltipText=t);const s=()=>this.tooltipText;null!=t&&(this.tooltipFeature=this.createBean(new nh({getTooltipValue:s,getGui:()=>this.getGui(),getLocation:()=>null!=o?o:"UNKNOWN",getColDef:null==e?void 0:e.getColDef,getColumn:null==e?void 0:e.getColumn,getTooltipShowDelayOverride:null!=i?()=>i:void 0,getTooltipHideDelayOverride:null!=n?()=>n:void 0,shouldDisplayTooltip:r})))}createChildComponentsFromTags(e,t){yd(e.childNodes).forEach((i=>{if(!(i instanceof HTMLElement))return;const n=this.createComponentFromElement(i,(e=>{e.getGui()&&this.copyAttributesFromNode(i,e.getGui())}),t);if(n){if(n.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const e=Array.prototype.slice.call(i.children);n.addItems(e)}this.swapComponentForNode(n,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)}))}createComponentFromElement(t,i,n){const o=t.nodeName,r=n?n[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){e.elementGettingCreated=t;const n=new s(r);return n.setParentComponent(this),this.createBean(n,null,i),n}return null}copyAttributesFromNode(e,t){wd(e.attributes,((e,i)=>t.setAttribute(e,i)))}swapComponentForNode(e,t,i){const n=e.getGui();t.replaceChild(n,i),t.insertBefore(document.createComment(i.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)}swapInComponentForQuerySelectors(e,t){const i=this;this.iterateOverQuerySelectors((n=>{i[n.attributeName]===t&&(i[n.attributeName]=e)}))}iterateOverQuerySelectors(e){let t=Object.getPrototypeOf(this);for(;null!=t;){const i=t.__agComponentMetaData,n=Pa(t.constructor);i&&i[n]&&i[n].querySelectors&&i[n].querySelectors.forEach((t=>e(t))),t=Object.getPrototypeOf(t)}}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach((e=>e.setAttribute("tabindex",t.toString())))}setTemplate(e,t){const i=sd(e);this.setTemplateFromElement(i,t)}setTemplateFromElement(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors((t=>{const i=i=>e[t.attributeName]=i;if(t.refSelector&&this.getAttribute("ref")===t.refSelector)i(this.eGui);else{const e=this.eGui.querySelector(t.querySelector);e&&i(e.__agComponent||e)}}))}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,t){if(null!=e)if(t||(t=this.eGui),Cd(e))t.appendChild(e);else{const i=e;t.appendChild(i.getGui())}}isDisplayed(){return this.displayed}setVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;Uc(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=i;zc(this.eGui,t,{skipAriaHidden:n});const o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc((()=>this.eGui.removeEventListener(e,t)))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}getAttribute(e){const{eGui:t}=this;return t?t.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))}};rh.EVENT_DISPLAYED_CHANGED="displayedChanged",Js([qa("agStackComponentsRegistry")],rh.prototype,"agStackComponentsRegistry",2),Js([Ua],rh.prototype,"preConstructOnComponent",1),Js([Ua],rh.prototype,"createChildComponentsPreConstruct",1);var sh=rh;function ah(e){return lh.bind(this,"[ref=".concat(e,"]"),e)}function lh(e,t,i,n,o){null!==e?"number"!==typeof o?function(e,t,i){const n=function(e,t){e.__agComponentMetaData||(e.__agComponentMetaData={});e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={});return e.__agComponentMetaData[t]}(e,Pa(e.constructor));n[t]||(n[t]=[]);n[t].push(i)}(i,"querySelectors",{attributeName:n,querySelector:e,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var uh=class extends sh{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(t," ").concat(i("ariaFilterInput","Filter Input")))}onParentModelChanged(e){null!=e?this.params.parentFilterInstance((t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};Js([ah("eFloatingFilterText")],uh.prototype,"eFloatingFilterText",2),Js([qa("columnModel")],uh.prototype,"columnModel",2);var ch=class{constructor(e,t,i,n,o){this.alive=!0,this.context=e,this.eParent=n;t.getDateCompDetails(i).newAgStackInstance().then((t=>{this.alive?(this.dateComp=t,t&&(n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),this.tempValue&&t.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),null==o||o(this))):e.destroyBean(t)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){zc(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,i;let n=!1;if((null==(t=this.dateComp)?void 0:t.refresh)&&"function"===typeof this.dateComp.refresh){null!==this.dateComp.refresh(e)&&(n=!0)}if(!n&&(null==(i=this.dateComp)?void 0:i.onParamsUpdated)&&"function"===typeof this.dateComp.onParamsUpdated){null!==this.dateComp.onParamsUpdated(e)&&Ta("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},dh=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((e=>{if("string"===typeof e)return;[["displayKey"],["displayName"],["predicate","test"]].every((t=>!!t.some((t=>null!=e[t]))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(t,"'")),!1)))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter((t=>t===e))||[]}))}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},hh={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},ph=class e extends Bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks=Qs({shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}},t)}postConstruct(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",(e=>{e.defaultPrevented||Fl(e)||(this.callbacks.shouldStopEventPropagation(e)?kl(e):e.key===Fd.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}))}};ph.FOCUS_MANAGED_CLASS="ag-focus-managed",Js([qa("focusService")],ph.prototype,"focusService",2),Js([ja],ph.prototype,"postConstruct",1);var gh=ph,fh="ag-resizer-wrapper",mh='<div class="'.concat(fh,'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),vh=class extends Bl{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:o,height:r,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const c=rd(this.element);if(c){const e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){const i=e.offsetWidth-this.element.offsetWidth;u=parseInt(t.minWidth,10)-i}if(null!=t.minHeight){const i=e.offsetHeight-this.element.offsetHeight;l=parseInt(t.minHeight,10)-i}}if(this.minHeight=o||l,this.minWidth=i||u,n&&this.setWidth(n),r&&this.setHeight(r),n&&r||this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(c&&t){let e=this.boundaryEl,t=!0;if(e||(e=this.findBoundaryElement(),t=!1),e){const i=parseFloat(e.style.top),n=parseFloat(e.style.left);t?this.offsetElement(isNaN(n)?0:n,isNaN(i)?0:i):this.setPosition(n,i)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((t=>{const i=!!e[t],n=this.getResizerElement(t),o={dragStartPixels:0,eElement:n,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(o),this.resizeListeners.push(o),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=i)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width="".concat(t,"px")),-1!==e&&(this.element.style.height="".concat(e,"px"))}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))md(i,e),e=Xc(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?md(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,s=e?0:o.top;let a=0;if(t){const e=this.element.parentElement;if(e){const{bottom:t}=e.getBoundingClientRect();a=t-n.bottom}}return i+s-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))gd(t,e),e=$c(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:t}=this.offsetParent,n=i?this.position.x:this.element.getBoundingClientRect().left;t&&e+n>t&&(e=t-n)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?gd(t,e):(t.style.width="".concat(e,"px"),t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}offsetElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const e=this.getAvailableHeight();this.element.style.setProperty("max-height","".concat(e,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:o,topBuffer:r}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!o,s)?0:s,movementY:this.shouldSkipY(t,!!n,r,a)?0:a}}shouldSkipX(e,t,i,n){const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return!!l||(l=t?n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:i?n<0&&e.clientX>s.right||n>0&&e.clientX<a+r.left:n<0&&e.clientX>s.right||n>0&&e.clientX<s.right,l)}shouldSkipY(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return!!l||(l=t?n<0&&e.clientY>a+r.top+i||n>0&&e.clientY<a+r.top:n<0&&e.clientY>s.bottom||n>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const t=(new DOMParser).parseFromString(mh,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(".".concat(fh));e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;i||n||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((e=>!e.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const o=e[n],r=!!o.style.flex&&"0 0 auto"!==o.style.flex;if(o===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(r){const e=window.getComputedStyle(o);e.minHeight&&(s=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else s=o.offsetHeight,a=o.offsetWidth;t+=s,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const o=i[n];o!==t&&(e?o.style.height="".concat(o.offsetHeight,"px"):o.style.width="".concat(o.offsetWidth,"px"),o.style.flex="0 0 auto",o===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((e=>e))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:o,isBottom:r,isLeft:s}=this.currentResizer,a=o||s,l=r||n,{movementX:u,movementY:c}=this.calculateMouseMovement({e:e,isLeft:s,isTop:n}),d=this.position.x,h=this.position.y;let p=0,g=0;if(a&&u){const e=s?-1:1,t=this.getWidth(),i=t+u*e;let n=!1;s&&(p=t-i,(d+p<=0||i<=this.minWidth)&&(n=!0,p=0)),n||this.setWidth(i)}if(l&&c){const e=n?-1:1,t=this.getHeight(),i=t+c*e;let o=!1;n?(g=t-i,(h+g<=0||i<=this.minHeight)&&(o=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<i&&this.getMinSizeOfSiblings().height+i>this.element.parentElement.offsetHeight&&(o=!0),o||this.setHeight(i)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||g)&&this.offsetElement(d+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:o,movementY:r}=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+o,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};Js([qa("popupService")],vh.prototype,"popupService",2),Js([qa("resizeObserverService")],vh.prototype,"resizeObserverService",2),Js([qa("dragService")],vh.prototype,"dragService",2);var Ch=class e extends sh{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new gh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new vh(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(i,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()}updateParams(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,t=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(id(this.eButtonsPanel),this.buttonListeners.forEach((e=>null==e?void 0:e())),this.buttonListeners=[]):t&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!t)return void(this.eButtonsPanel&&nd(this.eButtonsPanel));const i=document.createDocumentFragment(),n=e=>{let t,n;switch(e){case"apply":t=this.translate("applyFilter"),n=e=>this.onBtApply(!1,!1,e);break;case"clear":t=this.translate("clearFilter"),n=()=>this.onBtClear();break;case"reset":t=this.translate("resetFilter"),n=()=>this.onBtReset();break;case"cancel":t=this.translate("cancelFilter"),n=e=>{this.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const o=sd('<button\n                    type="'.concat("apply"===e?"submit":"button",'"\n                    ref="').concat(e,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(t,"\n                </button>"));this.buttonListeners.push(this.addManagedListener(o,"click",n)),i.append(o)};Xd(e).forEach((e=>n(e))),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Na(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),null==t||t()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){const i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:i})}const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let n;"Enter"!==i&&"Space"!==i||(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const e=this.isModelValid(this.getModelFromUi()),t=this.getRefElement("applyFilterButton");t&&jc(t,!e)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(null==e?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,i){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:i}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,hh[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};Js([qa("rowModel")],Ch.prototype,"rowModel",2),Js([ah("eFilterBody")],Ch.prototype,"eFilterBody",2),Js([ja],Ch.prototype,"postConstruct",1);var yh=Ch,wh=class extends sh{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:o}=this.config;null!=o&&this.setDisabled(o),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){id(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(zc(this.eLabel,!1),xu(this.eLabel,"presentation")):(zc(this.eLabel,!0),xu(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||pd(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return jc(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};Js([ja],wh.prototype,"postConstruct",1);var bh=class extends wh{constructor(e,t,i){super(e,t),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId();null!==Pu(e)?Mu(e,""):Mu(e,null!=t?t:"")}setAriaLabel(e){return Au(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,Kl.EVENT_FIELD_VALUE_CHANGED,(()=>e(this.getValue()))),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return gd(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:Kl.EVENT_FIELD_VALUE_CHANGED})),this}},Eh=class extends bh{constructor(e){if(super(e,(null==e?void 0:e.template)||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',null==e?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=null==e?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:o,maxPickerWidth:r}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!n,null!=i&&this.setPickerMaxHeight(i),null!=o&&this.setPickerMinWidth(o),null!=r&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:i,inputWidth:n}=this.config;if(i){const e=_d(i,this.gos);e&&this.eIcon.appendChild(e)}null!=n&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Vu(e,!1),this.ariaRole&&xu(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(null==e?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Fd.UP:case Fd.DOWN:case Fd.ENTER:case Fd.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Fd.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gos.getDocument(),t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL,(()=>{this.hidePicker()})));const i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:o,modalPicker:r=!0}=this.config,s={modal:r,eChild:t,closeOnEsc:!0,closedCallback:()=>{const t=this.gos.getActiveDomElement(),i=!t||t===e.body;this.beforeHidePicker(),i&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(n,o)},a=this.popupService.addPopup(s),{maxPickerHeight:l,minPickerWidth:u,maxPickerWidth:c,variableWidth:d}=this;d?(u&&(t.style.minWidth=u),t.style.width=vd($c(this.eWrapper)),c&&(t.style.maxWidth=c)):pd(t,null!=c?c:$c(this.eWrapper));const h=null!=l?l:"".concat(qc(this.popupService.getPopupParent()),"px");return t.style.setProperty("max-height",h),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;Vu(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(null==(t=this.pickerComponent)?void 0:t.getGui().contains(e.relatedTarget))||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return pd(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"===typeof e&&(e="".concat(e,"px")),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"===typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}};Js([qa("popupService")],Eh.prototype,"popupService",2),Js([ah("eLabel")],Eh.prototype,"eLabel",2),Js([ah("eWrapper")],Eh.prototype,"eWrapper",2),Js([ah("eDisplayField")],Eh.prototype,"eDisplayField",2),Js([ah("eIcon")],Eh.prototype,"eIcon",2);var Sh=class e extends sh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super('<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>')),this.cssIdentifier=e,this.unFocusable=t,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",(()=>this.clearHighlighted())),this.unFocusable||this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const t=e.key;switch(t){case Fd.ENTER:if(this.highlightedEl){const e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case Fd.DOWN:case Fd.UP:e.preventDefault(),this.navigate(t);break;case Fd.PAGE_DOWN:case Fd.PAGE_UP:case Fd.PAGE_HOME:case Fd.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===Fd.DOWN;let i;if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);e=Math.min(Math.max(e,0),this.itemEls.length-1),i=this.itemEls[e]}else i=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,o=Math.floor(this.getGui().clientHeight/n);let r=-1;e===Fd.PAGE_HOME?r=0:e===Fd.PAGE_END?r=i:e===Fd.PAGE_DOWN?r=Math.min(t+o,i):e===Fd.PAGE_UP&&(r=Math.max(t-o,0)),-1!==r&&this.highlightItem(this.itemEls[r])}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){const{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((e=>{nd(e)})),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(((t,i)=>{Wu(t,i+1),Bu(t,e.length)}))}renderOption(e,t){const i=this.gos.getDocument(),n=i.createElement("div");xu(n,"option"),n.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item"));const o=i.createElement("span");n.appendChild(o),o.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListener(n,"mousemove",(()=>this.highlightItem(n))),this.addManagedListener(n,"mousedown",(t=>{t.preventDefault(),this.setValue(e)})),this.createManagedBean(new nh({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>o.scrollWidth>o.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const i=this.options.findIndex((t=>t.value===e));if(-1!==i){const e=this.options[i];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex((e=>e.value===this.value));-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(t){if(!rd(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),$u(this.highlightedEl,!0);const i=this.getGui(),{scrollTop:n,clientHeight:o}=i,{offsetTop:r,offsetHeight:s}=t;(r+s>n+o||r<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&rd(this.highlightedEl)&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),$u(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:Kl.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}};Sh.EVENT_ITEM_SELECTED="selectedItem",Sh.ACTIVE_CLASS="ag-active-item",Js([ja],Sh.prototype,"init",1);var xh=Sh,Rh=class e extends Eh{constructor(e){super(Qs({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new xh("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());t.setAttribute("id",i),Zu(this.getAriaElement(),t),this.listComponent.addManagedListener(this.listComponent,xh.EVENT_ITEM_SELECTED,(()=>{this.hidePicker(),this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,Kl.EVENT_FIELD_VALUE_CHANGED,(()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}))}createPickerComponent(){return this.listComponent}onKeyDown(e){var t;const{key:i}=e;switch(i===Fd.TAB&&this.hidePicker(),i){case Fd.ENTER:case Fd.UP:case Fd.DOWN:case Fd.PAGE_UP:case Fd.PAGE_DOWN:case Fd.PAGE_HOME:case Fd.PAGE_END:e.preventDefault(),this.isPickerDisplayed?null==(t=this.listComponent)||t.handleKeyDown(e):super.onKeyDown(e);break;case Fd.ESCAPE:super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return null==(e=this.listComponent)||e.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);if(this.listComponent.getValue()===this.getValue())return this;let n=this.listComponent.getDisplayValue();return null==n&&this.config.placeholder&&(n=this.config.placeholder),this.eDisplayField.textContent=n,this.setTooltip({newTooltipText:null!=n?n:null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};Rh.EVENT_ITEM_SELECTED="selectedItem";var Th=Rh,Dh=class extends bh{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";super(e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(n,' ref="eInput" class="ag-input-field-input"></').concat(n,">\n                </div>\n            </div>"),t),this.inputType=i,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",(e=>this.setValue(e.target.value)))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return pd(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return bd(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Au(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return jc(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)bd(this.eInput,"autocomplete",null);else{const t="string"===typeof e?e:"off";bd(this.eInput,"autocomplete",t)}return this}};Js([ah("eLabel")],Dh.prototype,"eLabel",2),Js([ah("eWrapper")],Dh.prototype,"eWrapper",2),Js([ah("eInput")],Dh.prototype,"eInput",2);var Ph=class extends Dh{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox"),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"===typeof e&&this.setReadOnly(e),"boolean"===typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:Kl.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:i});const n=this.getInputElement(),o={type:Kl.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:t};this.eventService.dispatchEvent(o)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},Ah=class extends Ph{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,Kl.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},Mh=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const t=e;let{conditions:n}=t;if(!n){const{condition1:e,condition2:i}=t;n=[e,i]}const o=n.map((e=>this.getModelAsString(e))),r="AND"===t.operator?"andCondition":"orCondition";return o.join(" ".concat(i(r,hh[r])," "))}if(e.type===kh.BLANK||e.type===kh.NOT_BLANK)return i(e.type,e.type);{const t=e,n=this.optionsFactory.getCustomOption(t.type),{displayKey:o,displayName:r,numberOfInputs:s}=n||{};return o&&r&&0===s?(i(o,r),r):this.conditionToString(t,n)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?null!=(t=this.valueFormatter(null!=e?e:null))?t:"":String(e)}},_h=class e extends yh{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const i=this.optionsFactory.getCustomOption(t);if(i){const{numberOfInputs:e}=i;return null!=e?e:1}const n=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&n.indexOf(t)>=0?0:t===e.IN_RANGE?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach(((t,i)=>{0===i?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map((e=>e.getValue()))}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let o;if(i){const i=e,n=t;o=this.areSimpleModelsEqual(i,n)}else{const i=e,n=t;o=i.operator===n.operator&&pl(i.conditions,n.conditions,((e,t)=>this.areSimpleModelsEqual(e,t)))}return o}shouldRefresh(e){var t,i,n;const o=this.getModel(),r=o?null!=(t=o.conditions)?t:[o]:null,s=null!=(n=null==(i=e.filterOptions)?void 0:i.map((e=>"string"===typeof e?e:e.displayKey)))?n:this.getDefaultFilterOptions();return!(r&&!r.every((e=>void 0!==s.find((t=>t===e.type)))))&&!("number"===typeof e.maxNumConditions&&r&&r.length>e.maxNumConditions)}refresh(e){if(!this.shouldRefresh(e))return!1;return!!super.refresh(e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let t=e;t.conditions||(t.conditions=[t.condition1,t.condition2]);const i=this.validateAndUpdateConditions(t.conditions),n=this.getNumConditions();if(i<n)this.removeConditionsAndOperators(i);else if(i>n)for(let e=n;e<i;e++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===t.operator;this.eJoinOperatorsAnd.forEach((e=>e.setValue(!o,!0))),this.eJoinOperatorsOr.forEach((e=>e.setValue(o,!0))),t.conditions.forEach(((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)}))}else{const t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Zd.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Ta('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){var t;const i=this.getModel();if(null==i)return!0;const{operator:n}=i,o=[];if(n){const e=i;o.push(...null!=(t=e.conditions)?t:[])}else o.push(i);return o[n&&"OR"===n?"some":"every"]((t=>this.individualConditionPasses(e,t)))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new dh,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var t,i;null!=e.suppressAndOrCondition&&Ta('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&Ta('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!=(t=e.maxNumConditions)?t:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Ta('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!=(i=e.numAlwaysVisibleConditions)?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Ta('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Ta('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Th);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,(e=>this.resetInput(e))),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,o),this.resetJoinOperatorOr(i,n,o),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new Ah);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass("ag-filter-condition-operator-".concat(i)),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map((e=>"string"===typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e)))}putOptionsIntoDropdown(e){this.filterListOptions.forEach((t=>{e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let t=-1,i=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?t=n:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{const i=null!=(e=this.lastUiCompletePosition)?e:this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);const e=t+1,n=i-e;n>0&&this.removeConditionsAndOperators(e,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(e,t){this.eTypes.forEach(((t,i)=>{const n=this.isConditionDisabled(i,e);t.setDisabled(n||this.filterListOptions.length<=1),1===i&&(jc(this.eJoinOperatorPanels[0],n),this.eJoinOperatorsAnd[0].setDisabled(n),this.eJoinOperatorsOr[0].setDisabled(n))})),this.eConditionBodies.forEach(((e,t)=>{zc(e,this.isConditionBodyVisible(t))}));const i="OR"===(null!=t?t:this.getJoinOperator());this.eJoinOperatorsAnd.forEach(((e,t)=>{e.setValue(!i,!0)})),this.eJoinOperatorsOr.forEach(((e,t)=>{e.setValue(i,!0)})),this.forEachInput(((t,i,n,o)=>{this.setElementDisplayed(t,i<o),this.setElementDisabled(t,this.isConditionDisabled(n,e))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach((e=>nd(e)))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach((e=>{nd(e.getGui()),this.destroyBean(e)}))}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(null==e?void 0:e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof Dh&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const o=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===t&&(t=s,i=s);else{const e=s<t;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||e)&&(this.removeConditionsAndOperators(s,1),n=!0,e&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,o),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(Aa(this.filterPlaceholder)){const e=this.filterPlaceholder,n=this.eTypes[t].getValue();i=e({filterOptionKey:n,filterOption:this.translate(n),placeholder:i})}else"string"===typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput(((t,i,n,o)=>{if(!(t instanceof Dh))return;const r=0===i&&o>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",s=0===i&&o>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(s)}))}setElementValue(e,t,i){e instanceof Dh&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof sh&&zc(e.getGui(),t)}setElementDisabled(e,t){e instanceof sh&&jc(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Dh&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach(((t,i)=>{this.forEachPositionTypeInput(i,t,e)}))}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),o=this.getInputs(e);for(let r=0;r<o.length;r++){const t=o[r];null!=t&&i(t,r,e,n)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(t){if(t>=this.getNumConditions())return!1;return this.getConditionType(t)!==e.EMPTY&&!this.getValues(t).some((e=>null==e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((e=>this.resetType(e))),this.eJoinOperatorsAnd.forEach(((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t))),this.joinOperatorId++,this.forEachInput((e=>this.resetInput(e))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Zd.resolve()}resetType(e){const t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,o){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(o)).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t)))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput(((e,n,o,r)=>{o===t&&this.setElementValue(e,null!=i[n]?i[n]:null)}))}setValueFromFloatingFilter(e){this.forEachInput(((t,i,n,o)=>{this.setElementValue(t,0===i&&0===n?e:null,!0)}))}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(e=>{this.attachElementOnChange(e,this.listener)})))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(o,n,i);return null!=r?r:null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e)}evaluateCustomFilter(e,t,i){if(null==e)return;const{predicate:n}=e;return null==n||t.some((e=>null==e))?void 0:n(t,i)}isBlank(e){return null==e||"string"===typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}};_h.EMPTY="empty",_h.BLANK="blank",_h.NOT_BLANK="notBlank",_h.EQUALS="equals",_h.NOT_EQUAL="notEqual",_h.LESS_THAN="lessThan",_h.LESS_THAN_OR_EQUAL="lessThanOrEqual",_h.GREATER_THAN="greaterThan",_h.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",_h.IN_RANGE="inRange",_h.CONTAINS="contains",_h.NOT_CONTAINS="notContains",_h.STARTS_WITH="startsWith",_h.ENDS_WITH="endsWith";var kh=_h,Fh=class e extends kh{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1}evaluateNonNullValue(t,i,n){const o=this.comparator(),r=null!=t[0]?o(t[0],i):0;switch(n.type){case e.EQUALS:return 0===r;case e.NOT_EQUAL:return 0!==r;case e.GREATER_THAN:return r>0;case e.GREATER_THAN_OR_EQUAL:return r>=0;case e.LESS_THAN:return r<0;case e.LESS_THAN_OR_EQUAL:return r<=0;case e.IN_RANGE:{const e=o(t[1],i);return this.scalarFilterParams.inRangeInclusive?r>=0&&e<=0:r>0&&e<0}case e.BLANK:return this.isBlank(i);case e.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},Lh=1/0,Nh=class extends Mh{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},o=i==kh.IN_RANGE||2===n,r=Oc(e.dateFrom),s=Oc(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){const e=null!==r?Nc(r,a):"null",t=null!==s?Nc(s,a):"null";return"".concat(e,"-").concat(t)}return null!=r?Nc(r,a):"".concat(i)}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Oh=class e extends Fh{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=Lh,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Oc(t)||null,i&&Oc(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(t,i)=>{if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?i:Number(e[t]);console.warn("AG Grid: DateFilter ".concat(t," is not a number"))}return i};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",Lh),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Oc(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Oc(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Nh(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new ch(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc((()=>t.destroy())),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return e.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=this.gos.getDocument().createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,n){const o=this.gos.getDocument().createElement("div");o.classList.add("ag-filter-".concat(n)),o.classList.add("ag-filter-date-".concat(n)),t.push(o),e.appendChild(o),i.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach((e=>e.destroy()))}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput(((i,n,o,r)=>{o!==e||!t||n>=r||(t=t&&this.isValidDateValue(i.getDate()))})),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=Fc(n[0])),n.length>1&&(i.dateTo=Fc(n[1])),Qs({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput((e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(i)}))}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,((e,i,n,o)=>{i<o&&t.push(e.getDate())})),t}translate(e){return e===Fh.LESS_THAN?super.translate("before"):e===Fh.GREATER_THAN?super.translate("after"):super.translate(e)}getModelAsString(e){var t;return null!=(t=this.filterModelFormatter.getModelAsString(e))?t:""}};Oh.DEFAULT_FILTER_OPTIONS=[Fh.EQUALS,Fh.NOT_EQUAL,Fh.LESS_THAN,Fh.GREATER_THAN,Fh.IN_RANGE,Fh.BLANK,Fh.NOT_BLANK],Js([qa("userComponentFactory")],Oh.prototype,"userComponentFactory",2);var Ih=Oh,Gh=class extends sh{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return null==e?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let t;if(e.operator){t=e.conditions[0]}else t=e;this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const t=e;return this.isTypeEditable(t.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.optionsFactory=new dh,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){const t=[kh.IN_RANGE,kh.EMPTY,kh.BLANK,kh.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(t," ").concat(i("ariaFilterInput","Filter Input"))}};Js([qa("columnModel")],Gh.prototype,"columnModel",2);var Vh=class extends Gh{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return Ih.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Nh(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const t=e;this.dateComp.setDate(Oc(t.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){zc(this.eDateWrapper,e),zc(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=Fc(this.dateComp.getDate());this.params.parentFilterInstance((t=>{if(t){const i=Oc(e);t.onFloatingFilterChanged(this.getLastType()||null,i)}}))}getDateComponentParams(){const e=yh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Na(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new ch(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};Js([qa("userComponentFactory")],Vh.prototype,"userComponentFactory",2),Js([ah("eReadOnlyText")],Vh.prototype,"eReadOnlyText",2),Js([ah("eDateWrapper")],Vh.prototype,"eDateWrapper",2);var Hh=class extends sh{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListener(t,"mousedown",(()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()})),this.addManagedListener(t,"input",(e=>{e.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}))}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&cc(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:o,minValidDate:r,maxValidDate:s}=e.filterParams||{};if(r&&n&&Ta("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&o&&Ta("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&s){const[e,t]=[r,s].map((e=>e instanceof Date?e:Oc(e)));e&&t&&e.getTime()>t.getTime()&&Ta("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?r instanceof Date?t.min=Nc(r):t.min=r:n&&(t.min="".concat(n,"-01-01")),s?s instanceof Date?t.max=Nc(s):t.max=s:o&&(t.max="".concat(o,"-12-31"))}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Oc(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Fc(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:hc()||pc()||cc()&&dc()>=14.1}};Js([ah("eDateInput")],Hh.prototype,"eDateInput",2);var Bh=class extends Dh{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=ia(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListener(this.eInput,"keydown",(t=>{Hd(t)&&t.key&&!e.test(t.key)&&t.preventDefault()})),this.addManagedListener(this.eInput,"paste",(t=>{var i;const n=null==(i=t.clipboardData)?void 0:i.getData("text");n&&n.split("").some((t=>!e.test(t)))&&t.preventDefault()}))}},Wh=class extends Bh{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",(()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:t,max:i,step:n}=this.config;"number"===typeof e&&this.setPrecision(e),"number"===typeof t&&this.setMin(t),"number"===typeof i&&this.setMax(i),"number"===typeof n&&this.setStep(n)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const t=parseFloat(e).toFixed(this.precision);return parseFloat(t).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return"".concat(i[0],".").concat(i[1].slice(0,this.precision))}return i[0]}setMin(e){return this.min===e||(this.min=e,bd(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,bd(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,bd(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue((e=>super.setValue(e,t)),(()=>this),e)}setStartValue(e){return this.setValueOrInputValue((e=>super.setValue(e,!0)),(e=>{this.eInput.value=e}),e)}setValueOrInputValue(e,t,i){if(ia(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){n=(i=this.adjustPrecision(i))!=this.normalizeValue(i)}if(n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"===typeof e&&e.includes("e")}},zh=class extends Mh{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==kh.IN_RANGE||2===i?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):null!=e.filter?this.formatValue(e.filter):"".concat(e.type)}};function Uh(e){const{allowedCharPattern:t}=null!=e?e:{};return null!=t?t:null}var jh=class e extends Fh{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new zh(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return e.DEFAULT_FILTER_OPTIONS}setElementValue(e,t,i){const n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!=t?t:null):t;super.setElementValue(e,n)}createValueElement(){const e=Uh(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),xu(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const o=this.createManagedBean(n?new Bh({allowedCharPattern:n}):new Wh);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,((e,i,n,o)=>{i<o&&t.push(this.processValue(this.stringToFloat(e.getValue())))})),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"===typeof e)return e;let t=ta(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return null!=(t=this.filterModelFormatter.getModelAsString(e))?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput((t=>{t.getInputElement().validity.valid||(e=!0)})),e}};jh.DEFAULT_FILTER_OPTIONS=[Fh.EQUALS,Fh.NOT_EQUAL,Fh.GREATER_THAN,Fh.GREATER_THAN_OR_EQUAL,Fh.LESS_THAN,Fh.LESS_THAN_OR_EQUAL,Fh.IN_RANGE,Fh.BLANK,Fh.NOT_BLANK];var Kh=jh,Yh=class extends Mh{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==kh.IN_RANGE||2===i?"".concat(e.filter,"-").concat(e.filterTo):null!=e.filter?"".concat(e.filter):"".concat(e.type)}},qh=class e extends kh{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const t=e&&e.trim();return""===t?e:t}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Yh(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?($d.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),e=>{let{filterOption:i,value:n,filterText:o}=e;return t(i,n,o)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(t,i){const n=[];return this.forEachPositionInput(t,((t,o,r,s)=>{var a;if(o<s){let o=ta(t.getValue());i&&this.textFilterParams.trimInput&&(o=null!=(a=e.trimInput(o))?a:null,t.setValue(o,!0)),n.push(o)}})),n}getDefaultFilterOptions(){return e.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),xu(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new Bh);n.addCssClass("ag-filter-".concat(i)),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){const t=[kh.NOT_EQUAL,kh.NOT_CONTAINS,kh.BLANK];return!!e&&t.indexOf(e)>=0}evaluateNonNullValue(e,t,i,n){const o=e.map((e=>this.formatter(e)))||[],r=this.formatter(t),{api:s,colDef:a,column:l,columnApi:u,context:c,textFormatter:d}=this.textFilterParams;if(i.type===kh.BLANK)return this.isBlank(t);if(i.type===kh.NOT_BLANK)return!this.isBlank(t);const h={api:s,colDef:a,column:l,columnApi:u,context:c,node:n.node,data:n.data,filterOption:i.type,value:r,textFormatter:d};return o.some((e=>this.matcher(Xs(Qs({},h),{filterText:e}))))}getModelAsString(e){var t;return null!=(t=this.filterModelFormatter.getModelAsString(e))?t:""}};qh.DEFAULT_FILTER_OPTIONS=[kh.CONTAINS,kh.NOT_CONTAINS,kh.EQUALS,kh.NOT_EQUAL,kh.STARTS_WITH,kh.ENDS_WITH,kh.BLANK,kh.NOT_BLANK],qh.DEFAULT_FORMATTER=e=>e,qh.DEFAULT_LOWERCASE_FORMATTER=e=>null==e?null:e.toString().toLowerCase(),qh.DEFAULT_MATCHER=e=>{let{filterOption:t,value:i,filterText:n}=e;if(null==n)return!1;switch(t){case qh.CONTAINS:return i.indexOf(n)>=0;case qh.NOT_CONTAINS:return i.indexOf(n)<0;case qh.EQUALS:return i===n;case qh.NOT_EQUAL:return i!=n;case qh.STARTS_WITH:return 0===i.indexOf(n);case qh.ENDS_WITH:const e=i.lastIndexOf(n);return e>=0&&e===i.length-n.length;default:return!1}};var Qh=qh,Xh=class extends Bl{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new Bh(null==(t=this.params)?void 0:t.config));const i=this.eFloatingFilterTextInput.getGui();e.appendChild(i),this.addManagedListener(i,"input",(e=>this.valueChangedListener(e))),this.addManagedListener(i,"keydown",(e=>this.valueChangedListener(e)))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},$h=class extends Gh{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const i=null!=(t=e.browserAutoComplete)&&t;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=yh.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const e=yh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),t=Na(this.syncUpWithParentFilter.bind(this),e);this.floatingFilterInputService.setValueChangedListener(t)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();id(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===Fd.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Qh.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance((e=>{e&&e.onFloatingFilterChanged(this.getLastType()||null,i||null)}))}setEditable(e){this.floatingFilterInputService.setEditable(e)}};Js([ah("eFloatingFilterInputContainer")],$h.prototype,"eFloatingFilterInputContainer",2),Js([ja],$h.prototype,"postConstruct",1);var Jh=class extends Bl{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Wh),this.eFloatingFilterTextInput=this.createManagedBean(new Bh),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,(e=>this.valueChangedListener(e))),this.setupListeners(i,(e=>this.valueChangedListener(e)))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Zh=class extends $h{init(e){var t;super.init(e),this.filterModelFormatter=new zh(this.localeService,this.optionsFactory,null==(t=e.filterParams)?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Uh(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Kh.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Uh(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Xh({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Jh)}},ep=class extends $h{init(e){super.init(e),this.filterModelFormatter=new Yh(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Qh.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Xh)}},tp=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.destroyFuncs=[],this.touching=!1,this.eventService=new Za,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})}))}getActiveTouch(e){for(let t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout((()=>{const n=this.touchStart===i;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:e.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t};this.eventService.dispatchEvent(i)}}),500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!Kd(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){const t={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){const t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(t-this.lastTapTime>e.DOUBLE_TAP_MILLIS){const t={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach((e=>e()))}};tp.EVENT_TAP="tap",tp.EVENT_DOUBLE_TAP="doubleTap",tp.EVENT_LONG_TAP="longTap",tp.DOUBLE_TAP_MILLIS=500;var ip=tp,np=class e extends sh{constructor(t){super(),t||this.setTemplate(e.TEMPLATE)}attachCustomElements(e,t,i,n,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=o}setupSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),(this.column.isSortable()||this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",(()=>this.updateIcons())),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(()=>this.updateIcons())),this.addManagedListener(this.eventService,Kl.EVENT_SORT_CHANGED,(()=>this.onSortChanged())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.onSortChanged())),this.onSortChanged())}addInIcon(e,t,i){if(null==t)return;const n=_d(e,this.gos,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t="asc"===e;zc(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t="desc"===e;zc(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=null===e||void 0===e;zc(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,Kl.EVENT_SORT_CHANGED,(()=>this.updateMultiSortIndicator())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.updateMultiSortIndicator())),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);zc(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),i=null!=(e=this.sortController.getDisplaySortIndexForColumn(this.column))?e:-1,n=t.some((e=>{var t;return null!=(t=this.sortController.getDisplaySortIndexForColumn(e))&&t})),o=i>=0&&n;zc(this.eSortOrder,o,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():id(this.eSortOrder)}};np.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Js([ah("eSortOrder")],np.prototype,"eSortOrder",2),Js([ah("eSortAsc")],np.prototype,"eSortAsc",2),Js([ah("eSortDesc")],np.prototype,"eSortDesc",2),Js([ah("eSortMixed")],np.prototype,"eSortMixed",2),Js([ah("eSortNone")],np.prototype,"eSortNone",2),Js([qa("columnModel")],np.prototype,"columnModel",2),Js([qa("sortController")],np.prototype,"sortController",2);var op=np,rp=class e extends sh{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){var t;let i=null!=(t=this.params.template)?t:e.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=iu(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;const n=_d(e,this.gos,i);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new ip(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&ia(this.eMenu),o=n?new ip(this.eMenu,!0):t;if(this.params.enableMenu){const e=n?"EVENT_TAP":"EVENT_LONG_TAP",t=e=>this.params.showColumnMenuAfterMouseClick(e.touchStart);this.addManagedListener(o,ip[e],t)}if(this.params.enableSorting){const e=e=>{var t,n;const o=e.touchStart.target;i&&((null==(t=this.eMenu)?void 0:t.contains(o))||(null==(n=this.eFilterButton)?void 0:n.contains(o)))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(t,ip.EVENT_TAP,e)}if(this.params.enableFilterButton){const e=new ip(this.eFilterButton,!0);this.addManagedListener(e,"tap",(()=>this.params.showFilter(this.eFilterButton))),this.addDestroyFunc((()=>e.destroy()))}this.addDestroyFunc((()=>t.destroy())),n&&this.addDestroyFunc((()=>o.destroy()))}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return nd(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",(()=>this.params.showColumnMenu(this.eMenu))),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var t,i,n,o;const{column:r}=this.params,s=this.menuService.isLegacyMenuEnabled();if(e&&!s){if(this.menuService.isFilterMenuInHeaderEnabled(r))return this.params.showFilter(null!=(i=null!=(t=this.eFilterButton)?t:this.eMenu)?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!=(o=null!=(n=this.eMenu)?n:this.eFilterButton)?o:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new op(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,rl.EVENT_MOVING_CHANGED,(()=>{this.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(e=>{const t=this.params.column.isMoving(),i=(new Date).getTime()-this.lastMovingChanged<50;if(!(t||i)){const t="ctrl"===this.gos.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(t)}}));const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const e=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),t=!(null==e?void 0:e.every((e=>this.params.column.getSort()==e.getSort())));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",t)}};this.addManagedListener(this.eventService,Kl.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",(()=>this.params.showFilter(this.eFilterButton))):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return nd(t),!1;const{column:n}=this.params;return this.addInIcon("filter",t,n),this.addManagedListener(n,rl.EVENT_FILTER_CHANGED,i),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();zc(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var t,i,n,o;return e?null!=(i=null!=(t=this.eFilterButton)?t:this.eMenu)?i:this.getGui():null!=(o=null!=(n=this.eMenu)?n:this.eFilterButton)?o:this.getGui()}};rp.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Js([qa("sortController")],rp.prototype,"sortController",2),Js([qa("menuService")],rp.prototype,"menuService",2),Js([qa("columnModel")],rp.prototype,"columnModel",2),Js([ah("eFilter")],rp.prototype,"eFilter",2),Js([ah("eFilterButton")],rp.prototype,"eFilterButton",2),Js([ah("eSortIndicator")],rp.prototype,"eSortIndicator",2),Js([ah("eMenu")],rp.prototype,"eMenu",2),Js([ah("eLabel")],rp.prototype,"eLabel",2),Js([ah("eText")],rp.prototype,"eText",2),Js([ah("eSortOrder")],rp.prototype,"eSortOrder",2),Js([ah("eSortAsc")],rp.prototype,"eSortAsc",2),Js([ah("eSortDesc")],rp.prototype,"eSortDesc",2),Js([ah("eSortMixed")],rp.prototype,"eSortMixed",2),Js([ah("eSortNone")],rp.prototype,"eSortNone",2);var sp=rp,ap=class e extends sh{constructor(){super(e.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Ta("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=e=>{if(Fl(e))return;const t=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const t=e=>{kl(e)};this.addManagedListener(this.eCloseIcon,"dblclick",t),this.addManagedListener(this.eOpenIcon,"dblclick",t),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,al.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,al.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,t){const i=new ip(e,!0);this.addManagedListener(i,ip.EVENT_TAP,t),this.addDestroyFunc((()=>i.destroy())),this.addManagedListener(e,"click",t)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();zc(this.eOpenIcon,e),zc(this.eCloseIcon,!e)}else zc(this.eOpenIcon,!1),zc(this.eCloseIcon,!1)}addInIcon(e,t){const i=_d(e,this.gos,null);i&&this.getRefElement(t).appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return zc(this.eOpenIcon,!1),void zc(this.eCloseIcon,!1)}setupLabel(){var e;const{displayName:t,columnGroup:i}=this.params;if(ia(t)){const e=iu(t,!0);this.getRefElement("agLabel").textContent=e}this.addOrRemoveCssClass("ag-sticky-label",!(null==(e=i.getColGroupDef())?void 0:e.suppressStickyLabel))}};ap.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Js([qa("columnModel")],ap.prototype,"columnModel",2),Js([ah("agOpened")],ap.prototype,"eOpenIcon",2),Js([ah("agClosed")],ap.prototype,"eCloseIcon",2);var lp=ap,up=class extends sh{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},cp=class e extends up{constructor(){super(e.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ia(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Fd.LEFT||t===Fd.UP||t===Fd.RIGHT||t===Fd.DOWN||e.shiftKey&&t===Fd.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return ia(e)||ia(this.params.value)?this.params.parseValue(e):this.params.value}};cp.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',Js([ah("eTextArea")],cp.prototype,"eTextArea",2);var dp=cp,hp=class extends up{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>'),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:n}=this,{values:o,value:r,eventKey:s}=e;if(na(o))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=s&&s===Fd.ENTER;let a=!1;o.forEach((n=>{const o={value:n},s=i.formatValue(e.column,null,n),l=null!==s&&void 0!==s;o.text=l?s:n,t.addOption(o),a=a||r===n})),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=e;null!=l&&t.setPickerGap(l),null!=c&&t.setPickerMaxHeight(c),null!=u&&t.setPickerMaxWidth(u),"fullRow"!==n.get("editType")&&this.addManagedListener(this.eSelect,Th.EVENT_ITEM_SELECTED,(()=>e.stopEditing()))}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};Js([qa("valueService")],hp.prototype,"valueService",2),Js([ah("eSelect")],hp.prototype,"eSelect",2);var pp=class extends up{constructor(e){super('\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>")),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;let i;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const t=e.eventKey;t===Fd.BACKSPACE||e.eventKey===Fd.DELETE?i="":t&&1===t.length?i=t:(i=this.cellEditorInput.getStartValue(),t!==Fd.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&t.setStartValue(i),this.addManagedListener(t.getGui(),"keydown",(e=>{const{key:t}=e;t!==Fd.PAGE_UP&&t!==Fd.PAGE_DOWN||e.preventDefault()}))}afterGuiAttached(){var e,t;const i=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;cc()||n.getFocusableElement().focus();const o=n.getInputElement();this.highlightAllOnFocus?o.select():null==(t=(e=this.cellEditorInput).setCaret)||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};Js([ah("eInput")],pp.prototype,"eInput",2);var gp=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return ia(e)||ia(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=ia(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},fp=class extends pp{constructor(){super(new gp)}},mp=class extends sh{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),o=ia(n)?n:i,r=t>=0;this.eDelta.textContent=r?"\u2191"+o:"\u2193"+o,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),id(this.eDelta)}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.value;if(i===this.lastValue)return!1;if(ia(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ia(e.value)?this.eValue.textContent=i:id(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof i&&"number"===typeof this.lastValue){const t=i-this.lastValue;this.showDelta(e,t)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}};Js([qa("filterManager")],mp.prototype,"filterManager",2);var vp=class extends sh{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.value;return na(i)&&(i=""),i!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=i,ia(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ia(e.value)?this.eCurrent.textContent=i:id(this.eCurrent),!0))}};Js([qa("filterManager")],vp.prototype,"filterManager",2);var Cp=class e{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,i,t);this.dispatchLocalEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,n){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:i,newData:t,update:n}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(e,t){const i=ia(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);const o=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const e=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gos.get("groupSelectsChildren")){const e=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:null!=e&&e,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gos.getCallback("getRowId");if(i)if(this.data){const t=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:t.length>0?t:void 0,level:this.level}),null!==this.id&&"string"===typeof this.id&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(e.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),null!==this.id&&"string"!==typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(){const e=[];let t=this;for(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(t=t.parent);t&&t.level>=0;)e.push(t.key),t=t.parent;return e.reverse(),e}isPixelInRange(e){return!(!ia(this.rowTop)||!ia(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_GROUP_CHANGED)))}setRowHeight(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=t,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Na(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,i=0;const n=this.__autoHeights;if(null==n)return;if(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((o=>{let r=n[o.getId()];if(null==r){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let t=[];switch(o.getPinned()){case"left":t=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":t=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:t=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(t.includes(o))return void(e=!0);r=-1}}else t=!1;r>i&&(i=r)})),e)return;if((t||i<10)&&(i=this.beans.gos.getRowHeightForNode(this).height),i==this.rowHeight)return;this.setRowHeight(i);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,i,n){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));const o=Object.assign({},this.createGlobalRowEvent(Kl.EVENT_ROW_GROUP_OPENED),{expanded:t,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,t,i){const n=(()=>{var t;return"string"!==typeof e?e:null!=(t=this.beans.columnModel.getGridColumn(e))?t:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(n);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(n,o,t,i),!1;const r=this.beans.valueService.setValue(this,n,t,i);return this.dispatchCellChangedEvent(n,t,o),this.checkRowSelectable(),r}getValueFromValueService(e){var t,i;const n=this.leafGroup&&this.beans.columnModel.isPivotMode(),o=this.group&&this.expanded&&!this.footer&&!n;let r=!1;const s=null!=(t=this.beans.gos.get("groupTotalRow"))?t:this.beans.gos.get("groupIncludeFooter");if("function"!==typeof s)r=!!s;else{r=!!(null!=(i=this.beans.gos.getCallback("groupTotalRow"))?i:this.beans.gos.getCallback("groupIncludeFooter"))({node:this})}const a=this.beans.gos.get("groupSuppressBlankHeader"),l=o&&r&&!a;return this.beans.valueService.getValue(e,this,!1,l)}dispatchEventForSaveValueReadOnly(e,t,i,n){const o=this.beans.gos.addGridCommonParams({type:Kl.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:t,newValue:i,value:i,source:n});this.beans.eventService.dispatchEvent(o)}setGroupValue(e,t){const i=this.beans.columnModel.getGridColumn(e);na(this.groupData)&&(this.groupData={});const n=i.getColId(),o=this.groupData[n];o!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(i,t,o))}setAggData(e){const t=this.aggData;if(this.aggData=e,this.eventService){const i=e=>{const i=this.aggData?this.aggData[e]:void 0,n=t?t[e]:void 0;if(i===n)return;const o=this.beans.columnModel.lookupGridColumn(e);o&&this.dispatchCellChangedEvent(o,i,n)};for(const e in this.aggData)i(e);for(const t in e)t in this.aggData||i(t)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const e=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(e?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&oa(this.childrenAfterGroup)}dispatchCellChangedEvent(t,i,n){const o={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:i,oldValue:n};this.dispatchLocalEvent(o)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((t=>t.depthFirstSearch(e))),e(this)}calculateSelectedFromChildren(){var e;let t=!1,i=!1,n=!1;if(!(null==(e=this.childrenAfterGroup)?void 0:e.length))return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const e=this.childrenAfterGroup[o];let r=e.isSelected();if(!e.selectable){const t=e.calculateSelectedFromChildren();if(null===t)continue;r=t}switch(r){case!0:t=!0;break;case!1:i=!0;break;default:n=!0}}return n||t&&i?void 0:!!t||!i&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}selectThisNode(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";const o=!this.selectable&&t,r=this.selected===t;if(o||r)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));const s=this.sibling;s&&s.footer&&s.eventService&&s.dispatchLocalEvent(s.createLocalRowEvent(e.EVENT_ROW_SELECTED));const a=Xs(Qs({},this.createGlobalRowEvent(Kl.EVENT_ROW_SELECTED)),{event:i||null,source:n});return this.beans.eventService.dispatchEvent(a),!0}setSelected(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";"boolean"!==typeof i?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:i}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Xs(Qs({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){var i,n;this.eventService||(this.eventService=new Za),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new el(this.beans.frameworkOverrides));const o=null!=(n=null==(i=this.frameworkEventListenerService)?void 0:i.wrap(t))?n:t;this.eventService.addEventListener(e,o)}removeEventListener(e,t){var i,n;if(!this.eventService)return;const o=null!=(n=null==(i=this.frameworkEventListenerService)?void 0:i.unwrap(t))?n:t;this.eventService.removeEventListener(e,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let t=this,i=!0,n=!1,o=null;for(;i&&!n;){const r=t.parent;ia(r)&&t.firstChild?r.rowGroupColumn===e&&(n=!0,o=r):i=!1,t=r}return n?o:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;const e=[];let t=this;for(;null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const t=new Set(["eventService","__objectId","sticky"]),i=new e(this.beans);Object.keys(this).forEach((e=>{t.has(e)||(i[e]=this[e])})),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Cp.ID_PREFIX_ROW_GROUP="row-group-",Cp.ID_PREFIX_TOP_PINNED="t-",Cp.ID_PREFIX_BOTTOM_PINNED="b-",Cp.OBJECT_ID_SEQUENCE=0,Cp.EVENT_ROW_SELECTED="rowSelected",Cp.EVENT_DATA_CHANGED="dataChanged",Cp.EVENT_CELL_CHANGED="cellChanged",Cp.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",Cp.EVENT_MASTER_CHANGED="masterChanged",Cp.EVENT_GROUP_CHANGED="groupChanged",Cp.EVENT_MOUSE_ENTER="mouseEnter",Cp.EVENT_MOUSE_LEAVE="mouseLeave",Cp.EVENT_HEIGHT_CHANGED="heightChanged",Cp.EVENT_TOP_CHANGED="topChanged",Cp.EVENT_DISPLAYED_CHANGED="displayedChanged",Cp.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",Cp.EVENT_LAST_CHILD_CHANGED="lastChildChanged",Cp.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",Cp.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",Cp.EVENT_EXPANDED_CHANGED="expandedChanged",Cp.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",Cp.EVENT_SELECTABLE_CHANGED="selectableChanged",Cp.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",Cp.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",Cp.EVENT_DRAGGING_CHANGED="draggingChanged";var yp=Cp,wp=class extends sh{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=ec(e,t),[n,o]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=e(n,o);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel("".concat(r," (").concat(i,")"))}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(e=>{kl(e)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(e=>{kl(e);const t=this.gos.get("groupSelectsFiltered"),i=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(i,t)){0===this.onClicked(!0,t,e||{})&&this.onClicked(!1,t,e)}else i?this.onClicked(!1,t,e):this.onClicked(!0,t,e||{})})),this.addManagedListener(this.rowNode,yp.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));if(this.gos.get("isRowSelectable")||"function"===typeof this.getIsVisible()){const e=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.rowNode,yp.EVENT_DATA_CHANGED,e),this.addManagedListener(this.rowNode,yp.EVENT_CELL_CHANGED,e),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var e,t,i;let n=this.rowNode.selectable;const o=this.getIsVisible();if(n)if("function"===typeof o){const t=null==(e=this.overrides)?void 0:e.callbackParams;if(this.column){const e=this.column.createColumnFunctionCallbackParams(this.rowNode);n=o(Qs(Qs({},t),e))}else n=o(Xs(Qs({},t),{node:this.rowNode,data:this.rowNode.data}))}else n=null!=o&&o;if(null==(t=this.column)?void 0:t.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!n),this.setVisible(!0),void this.setDisplayed(!0);(null==(i=this.overrides)?void 0:i.removeHidden)?this.setDisplayed(n):this.setVisible(n)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:null==(t=null==(e=this.column)?void 0:e.getColDef())?void 0:t.checkboxSelection}};Js([ah("eCheckbox")],wp.prototype,"eCheckbox",2),Js([ja],wp.prototype,"postConstruct",1);var bp=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(bp||{}),Ep=class extends Bl{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Md("columnMovePin",this.gos,null),this.eHideIcon=Md("columnMoveHide",this.gos,null),this.eMoveIcon=Md("columnMoveMove",this.gos,null),this.eLeftIcon=Md("columnMoveLeft",this.gos,null),this.eRightIcon=Md("columnMoveRight",this.gos,null),this.eGroupIcon=Md("columnMoveGroup",this.gos,null),this.eAggregateIcon=Md("columnMoveValue",this.gos,null),this.ePivotIcon=Md("columnMovePivot",this.gos,null),this.eDropNotAllowedIcon=Md("dropNotAllowed",this.gos,null)}addDragSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find((t=>t.dragSource===e));t&&(this.dragService.removeDragSource(t.params),Cl(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach((e=>this.dragService.removeDragSource(e.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=void 0,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,n,o,r;const s=this.getHorizontalDirection(e),a=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const l=this.dropTargets.filter((t=>this.isMouseOnDropTarget(e,t))),u=this.findCurrentDropTarget(e,l);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(e,s,a,t),null!==this.lastDropTarget&&null===u&&(null==(n=(i=this.dragSource).onGridExit)||n.call(i,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null==(r=(o=this.dragSource).onGridEnter)||r.call(o,this.dragItem)),this.enterDragTargetIfExists(u,e,s,a,t),this.lastDropTarget=u;else if(u&&u.onDragging){const i=this.createDropTargetEvent(u,e,s,a,t);u.onDragging(i)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const t=i.getBoundingClientRect();if(0===t.width||0===t.height)return!1;const n=e.clientX>=t.left&&e.clientX<t.right,o=e.clientY>=t.top&&e.clientY<t.bottom;if(!n||!o)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of i)if(this.allContainersIntersect(e,o)){n=!0;break}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&(n&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement))}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const n=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const o of n)for(const e of t){if(-1!==Rl(this.getAllContainersFromDropTarget(e)).indexOf(o))return e}return null}enterDragTargetIfExists(e,t,i,n,o){if(e){if(e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,n,o);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const o=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter((t=>t.getContainer()!==e.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((e=>e.external))}findExternalZone(e){return this.dropTargets.filter((e=>e.external)).find((t=>t.getContainer()===e.getContainer()))||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,o){const r=e.getContainer(),s=r.getBoundingClientRect(),{gridApi:a,columnApi:l,dragItem:u,dragSource:c}=this;return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:n,hDirection:i,dragSource:c,fromNudge:o,dragItem:u,api:a,columnApi:l,dropZoneTarget:r}}positionGhost(e){const t=this.eGhost;if(!t)return;const i=t.getBoundingClientRect().height,n=yc()-2,o=wc()-2,r=Jc(t.offsetParent),{clientY:s,clientX:a}=e;let l=s-r.top-i/2,u=a-r.left-10;const c=this.gos.getDocument(),d=c.defaultView||window,h=d.pageYOffset||c.documentElement.scrollTop,p=d.pageXOffset||c.documentElement.scrollLeft;n>0&&u+t.clientWidth>n+p&&(u=n+p-t.clientWidth),u<0&&(u=0),o>0&&l+t.clientHeight>o+h&&(l=o+h-t.clientHeight),l<0&&(l=0),t.style.left="".concat(u,"px"),t.style.top="".concat(l,"px")}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=sd(Ep.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;Aa(i)&&(i=i()),t.innerHTML=iu(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gos.getDocument();let o=null,r=null;try{o=n.fullscreenElement}catch(s){}finally{o||(o=this.gos.getRootNode());const e=o.querySelector("body");r=e||(o instanceof ShadowRoot?o:o instanceof Document?null==o?void 0:o.documentElement:o)}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];id(this.eGhostIcon);let i=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Ep.ICON_NOT_ALLOWED),e){case Ep.ICON_PINNED:i=this.ePinnedIcon;break;case Ep.ICON_MOVE:i=this.eMoveIcon;break;case Ep.ICON_LEFT:i=this.eLeftIcon;break;case Ep.ICON_RIGHT:i=this.eRightIcon;break;case Ep.ICON_GROUP:i=this.eGroupIcon;break;case Ep.ICON_AGGREGATE:i=this.eAggregateIcon;break;case Ep.ICON_PIVOT:i=this.ePivotIcon;break;case Ep.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case Ep.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),i===this.eHideIcon&&this.gos.get("suppressDragLeaveHidesColumns")||i&&this.eGhostIcon.appendChild(i)}};Ep.ICON_PINNED="pinned",Ep.ICON_MOVE="move",Ep.ICON_LEFT="left",Ep.ICON_RIGHT="right",Ep.ICON_GROUP="group",Ep.ICON_AGGREGATE="aggregate",Ep.ICON_PIVOT="pivot",Ep.ICON_NOT_ALLOWED="notAllowed",Ep.ICON_HIDE="hide",Ep.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Js([qa("dragService")],Ep.prototype,"dragService",2),Js([qa("mouseEventService")],Ep.prototype,"mouseEventService",2),Js([qa("columnApi")],Ep.prototype,"columnApi",2),Js([qa("gridApi")],Ep.prototype,"gridApi",2),Js([ja],Ep.prototype,"init",1),Js([Ka],Ep.prototype,"clearDragSourceParamsList",1),Ep=Js([Ya("dragAndDropService")],Ep);var Sp=class extends sh{constructor(e,t,i,n,o,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=o,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_d("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new Tp(this,this.beans,this.rowNode,this.column):new Rp(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&Ta("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.dragSource&&this.removeDragSource();const t=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var e;const i=this.getDragItem(),n=(null==(e=i.rowNodes)?void 0:e.length)||1,o=this.getRowDragText(this.column);return o?o(i,n):1===n?this.cellValueFn():"".concat(n," ").concat(t("rowDragRows","rows"))},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};Js([qa("beans")],Sp.prototype,"beans",2),Js([ja],Sp.prototype,"postConstruct",1),Js([Ka],Sp.prototype,"removeDragSource",1);var xp=class extends Bl{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let e=!0,i=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=Aa(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(e,t)):(this.parent.setDisplayed(e,t),this.parent.setVisible(!0,t))}}},Rp=class extends xp{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};Js([ja],Rp.prototype,"postConstruct",1);var Tp=class extends xp{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,Kl.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Kl.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),i=this.gos.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),o=t&&!n||i;this.setDisplayedOrVisible(o)}};Js([ja],Tp.prototype,"postConstruct",1);var Dp=class extends Bl{init(e,t,i,n,o,r,s){var a,l,u,c;this.params=s,this.eGui=t,this.eCheckbox=i,this.eExpanded=n,this.eContracted=o,this.comp=e,this.compClass=r;const{node:d,value:h,colDef:p}=s,g=this.isTopLevelFooter();if(!g){if(this.isEmbeddedRowMismatch())return;if(d.footer&&this.gos.get("groupHideOpenParents")){if((p&&p.showRowGroup)!==(d.rowGroupColumn&&d.rowGroupColumn.getColId()))return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){const e=s.node.footer&&s.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex((e=>{var t;return e.getColId()===(null==(t=s.colDef)?void 0:t.showRowGroup)})),t="multipleColumns"!=this.gos.get("groupDisplayType")||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&!s.node.footer&&(!s.node.group||null!=s.node.rowGroupIndex&&s.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex((e=>{var t;return e.getColId()===(null==(t=s.colDef)?void 0:t.showRowGroup)}))),i=!d.group&&((null==(a=this.params.colDef)?void 0:a.field)||(null==(l=this.params.colDef)?void 0:l.valueGetter)),n=this.isExpandable(),o=this.columnModel.isPivotMode()&&d.leafGroup&&(null==(u=d.rowGroupColumn)?void 0:u.getColId())===(null==(c=s.column)?void 0:c.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!n&&!i&&!t&&!e&&!o)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,t;const i=null==(e=this.params.colDef)?void 0:e.cellAriaRole,n=null==(t=this.params.column)?void 0:t.getColDef().cellAriaRole;return i||n||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void Hu(t);const i=()=>{Vu(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,yp.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gos.getGrandTotalRow())return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;const e=this.params.colDef;if(null==e)return!0;if(!0===e.showRowGroup)return!0;const t=this.columnModel.getRowGroupColumns();if(!t||0===t.length)return!0;return t[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const e="left"===this.params.pinned,t="right"===this.params.pinned,i=!e&&!t;return this.gos.get("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}na(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gos.get("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!e.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=e.rowGroupColumn){const i=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(i))return void(this.showingValueForOpenedParent=!1)}const i=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const t=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(t),{valueFormatted:n,value:o}=t;let r=n;if(null==r){const t=this.displayedGroupNode.rowGroupColumn&&(null==(e=this.params.column)?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&t){r=this.localeService.getLocaleTextFunc()("blanks","(Blanks)")}else r=null!=o?o:null}this.comp.setInnerRenderer(i,r)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(null!=t){if(!t.isRowGroupDisplayed(e.getId()))return this.params}const i=this.params,{value:n,node:o}=this.params,r=this.valueService.formatValue(e,o,n);return Xs(Qs({},i),{valueFormatted:r})}addFooterValue(){let e=this.params.totalValueGetter;if(!e){const t=this.params.footerValueGetter;t&&(e=t,Ta("As of v31.3, footerValueGetter is deprecated. Use `totalValueGetter` instead."))}let t="";if(e){const i=ma(this.params);i.value=this.params.value,"function"===typeof e?t=e(i):"string"===typeof e?t=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{t=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"")}const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gos.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),i=e=>e&&e.componentClass==this.compClass;if(t&&!i(t))return t;const n=this.displayedGroupNode.rowGroupColumn,o=n?n.getColDef():void 0;if(!o)return;const r=this.userComponentFactory.getCellRendererDetails(o,e);if(r&&!i(r))return r;if(i(r)&&o.cellRendererParams&&o.cellRendererParams.innerRenderer){return this.userComponentFactory.getInnerRendererDetails(o.cellRendererParams,e)}}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,yp.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,t=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?"(".concat(e,")"):"";this.comp.setChildCount(t)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,i=_d("groupExpanded",this.gos,null),n=_d("groupContracted",this.gos,null);i&&this.eExpanded.appendChild(i),n&&this.eContracted.appendChild(n);const o=t.eGridCell;(null==(e=this.params.column)?void 0:e.isCellEditable(t.node))&&this.gos.get("enableGroupEdit")||!this.isExpandable()||t.suppressDoubleClickExpand||this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,yp.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const r=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,yp.EVENT_ALL_CHILDREN_COUNT_CHANGED,r),this.addManagedListener(this.displayedGroupNode,yp.EVENT_MASTER_CHANGED,r),this.addManagedListener(this.displayedGroupNode,yp.EVENT_GROUP_CHANGED,r),this.addManagedListener(this.displayedGroupNode,yp.EVENT_HAS_CHILDREN_CHANGED,r)}onExpandClicked(e){Fl(e)||(kl(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const i=this.params.column;if(null!=i&&"string"===typeof i.getColDef().showRowGroup){return this.isShowRowGroupForThisRow()}return!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:i}=this,{node:n}=e,o=this.isExpandable();if(o){const e=!!this.showingValueForOpenedParent||n.expanded;this.comp.setExpandedDisplayed(e),this.comp.setContractedDisplayed(!e)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const r=i.isPivotMode(),s=r&&t.leafGroup,a=o&&!s,l=n.footer&&-1===n.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),r?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",s):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,yp.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;const e=this.params,t=e.node,i=!!e.colDef,n=this.gos.get("treeData"),o=!i||n||!0===e.colDef.showRowGroup?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new Sp((()=>this.params.value),this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return"function"===typeof e||!0===e}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const e=new wp;this.getContext().createBean(e),e.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(e.getGui()),this.addDestroyFunc((()=>this.getContext().destroyBean(e)))}this.comp.setCheckboxVisible(t)}onKeyDown(e){if(!(e.key===Fd.ENTER)||this.params.suppressEnterExpand)return;this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Fl(e))return;Ol(this.eExpanded,e)||Ol(this.eContracted,e)||this.onExpandOrContract(e)}};Js([qa("expressionService")],Dp.prototype,"expressionService",2),Js([qa("valueService")],Dp.prototype,"valueService",2),Js([qa("columnModel")],Dp.prototype,"columnModel",2),Js([qa("userComponentFactory")],Dp.prototype,"userComponentFactory",2),Js([qa("ctrlsService")],Dp.prototype,"ctrlsService",2);var Pp=class e extends sh{constructor(){super(e.TEMPLATE)}init(e){const t={setInnerRenderer:(e,t)=>this.setRenderDetails(e,t),setChildCount:e=>this.eChildCount.textContent=e,addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setContractedDisplayed:e=>zc(this.eContracted,e),setExpandedDisplayed:e=>zc(this.eExpanded,e),setCheckboxVisible:e=>this.eCheckbox.classList.toggle("ag-invisible",!e)},i=this.createManagedBean(new Dp),n=!e.colDef,o=this.getGui();i.init(t,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&xu(o,i.getCellAriaRole())}setRenderDetails(e,t){if(e){const t=e.newAgStackInstance();if(!t)return;t.then((e=>{if(!e)return;const t=()=>this.context.destroyBean(e);this.isAlive()?(this.eValue.appendChild(e.getGui()),this.addDestroyFunc(t)):t()}))}else this.eValue.innerText=t}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Pp.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Js([ah("eExpanded")],Pp.prototype,"eExpanded",2),Js([ah("eContracted")],Pp.prototype,"eContracted",2),Js([ah("eCheckbox")],Pp.prototype,"eCheckbox",2),Js([ah("eValue")],Pp.prototype,"eValue",2),Js([ah("eChildCount")],Pp.prototype,"eChildCount",2);var Ap=Pp,Mp=class e extends sh{constructor(){super(e.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=_d("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};Mp.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Js([ah("eLoadingIcon")],Mp.prototype,"eLoadingIcon",2),Js([ah("eLoadingText")],Mp.prototype,"eLoadingText",2);var _p=Mp,kp=class e extends sh{constructor(){super(e.TEMPLATE)}init(e){const t="ag-cell-skeleton-renderer-".concat(this.getCompId());this.getGui().setAttribute("id",t),this.addDestroyFunc((()=>Mu(e.eParentOfValue))),Mu(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Au(this.getGui(),t)}setupLoading(){const e=this.gos.getDocument().createElement("div");e.classList.add("ag-skeleton-effect"),this.getGui().appendChild(e);const t=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Au(this.getGui(),t)}refresh(e){return!1}destroy(){super.destroy()}};kp.TEMPLATE='<div class="ag-skeleton-container"></div>';var Fp=kp,Lp=class e extends sh{constructor(){super()}destroy(){super.destroy()}init(t){const i=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(null!=i?i:e.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("loadingOoo","Loading...")}))}}};Lp.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var Np=Lp,Op=class e extends sh{constructor(){super()}destroy(){super.destroy()}init(t){const i=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(null!=i?i:e.DEFAULT_NO_ROWS_TEMPLATE),!i){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")}))}}};Op.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var Ip=Op,Gp=class extends up{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=iu(t,!0)}},Vp=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedListener(i,"keydown",this.preventStepping):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==Fd.UP&&e.key!==Fd.DOWN||e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!ia(e)&&!ia(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},Hp=class extends pp{constructor(){super(new Vp)}},Bp=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return ia(e)||ia(this.params.value)?null!=e?e:null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Fc(e,!1)}},Wp=class extends pp{constructor(){super(new Bp)}},zp=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return ia(e)||ia(this.params.value)?this.params.parseValue(null!=e?e:""):this.params.value}getStartValue(){var e,t;return Fc(null!=(t=this.parseDate(null!=(e=this.params.value)?e:void 0))?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},Up=class extends pp{constructor(){super(new zp((()=>this.dataTypeService)))}};Js([qa("dataTypeService")],Up.prototype,"dataTypeService",2);var jp=class e extends sh{constructor(){super(e.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),ku(t,"polite"),this.addManagedListener(t,"click",(e=>{if(kl(e),this.eCheckbox.isDisabled())return;const t=this.eCheckbox.getValue();this.onCheckboxChanged(t)})),this.addManagedListener(t,"dblclick",(e=>{kl(e)})),this.addManagedListener(this.params.eGridCell,"keydown",(e=>{if(e.key===Fd.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const t=this.eCheckbox.getValue();this.onCheckboxChanged(t),e.preventDefault()}}))}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t,i,n;let o,r=!0;if(e.node.group&&e.column){const i=e.column.getColId();i.startsWith(Ql)?o=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[i]?o=null!=(t=e.value)?t:void 0:r=!1}else o=null!=(i=e.value)?i:void 0;if(!r)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(o);const s=null!=e.disabled?e.disabled:!(null==(n=e.column)?void 0:n.isCellEditable(e.node));this.eCheckbox.setDisabled(s);const a=this.localeService.getLocaleTextFunc(),l=ec(a,o),u=s?l:"".concat(a("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(l,")");this.eCheckbox.setInputAriaLabel(u)}onCheckboxChanged(e){const{column:t,node:i,rowIndex:n,value:o}=this.params,r={type:Kl.EVENT_CELL_EDITING_STARTED,column:t,colDef:null==t?void 0:t.getColDef(),data:i.data,node:i,rowIndex:n,rowPinned:i.rowPinned,value:o};this.eventService.dispatchEvent(r);const s=this.params.node.setDataValue(this.params.column,e,"edit"),a={type:Kl.EVENT_CELL_EDITING_STOPPED,column:t,colDef:null==t?void 0:t.getColDef(),data:i.data,node:i,rowIndex:n,rowPinned:i.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:s};this.eventService.dispatchEvent(a)}};jp.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',Js([ah("eCheckbox")],jp.prototype,"eCheckbox",2);var Kp=jp,Yp=class extends up{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(e){var t;this.params=e;const i=null!=(t=e.value)?t:void 0;this.eCheckbox.setValue(i);this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,Kl.EVENT_FIELD_VALUE_CHANGED,(e=>this.setAriaLabel(e.selected)))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=ec(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(n," (").concat(i,")"))}};Js([ah("eCheckbox")],Yp.prototype,"eCheckbox",2);var qp=class extends sh{constructor(){super(),this.setTemplate("<div></div>")}init(e){var t;this.params=e,this.cssClassPrefix=null!=(t=this.params.cssClassPrefix)?t:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=sd('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(_d("check",this.gos)):this.params.icon&&(Cd(this.params.icon)?e.appendChild(this.params.icon):"string"===typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=sd('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=sd('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}addSubMenu(){const e=sd('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),t=this.getGui();if(this.params.subMenu){const i=this.gos.get("enableRtl")?"smallLeft":"smallRight";Vu(t,!1),e.appendChild(_d(i,this.gos))}t.appendChild(e)}getClassName(e){return"".concat(this.cssClassPrefix,"-").concat(e)}destroy(){super.destroy()}},Qp=class extends Bl{constructor(){super(...arguments),this.agGridDefaults={agDateInput:Hh,agColumnHeader:sp,agColumnGroupHeader:lp,agSortIndicator:op,agTextColumnFloatingFilter:ep,agNumberColumnFloatingFilter:Zh,agDateColumnFloatingFilter:Vh,agReadOnlyFloatingFilter:uh,agAnimateShowChangeCellRenderer:mp,agAnimateSlideCellRenderer:vp,agGroupCellRenderer:Ap,agGroupRowRenderer:Ap,agLoadingCellRenderer:_p,agSkeletonCellRenderer:Fp,agCheckboxCellRenderer:Kp,agCellEditor:fp,agTextCellEditor:fp,agNumberCellEditor:Hp,agDateCellEditor:Wp,agDateStringCellEditor:Up,agSelectCellEditor:hp,agLargeTextCellEditor:dp,agCheckboxCellEditor:Yp,agTextColumnFilter:Qh,agNumberColumnFilter:Kh,agDateColumnFilter:Ih,agLoadingOverlay:Np,agNoRowsOverlay:Ip,agTooltipComponent:Gp,agMenuItem:qp},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){const e=this.gos.get("components");null!=e&&fa(e,((e,t)=>this.registerJsComponent(e,t)))}registerDefaultComponent(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(e,t)=>({componentFromFramework:t,component:e}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=n)return i(n,!0);const o=this.jsComps[t];if(o){return i(o,this.getFrameworkOverrides().isFrameworkComponent(o))}const r=this.agGridDefaults[t];if(r)return i(r,!1);const s=this.enterpriseAgDefaultCompsModule[t];return s?Wa.__assertRegistered(s,"AG Grid '".concat(e,"' component: ").concat(t),this.context.getGridId()):Ra((()=>{this.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=Td(t,[...Object.keys(this.agGridDefaults).filter((e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e))),...Object.keys(this.jsComps)],!0,.8).values;console.warn("AG Grid: Could not find '".concat(t,"' component. It was configured as \"").concat(e,": '").concat(t,"'\" but it wasn't found in the list of registered components.")),i.length>0&&console.warn("         Did you mean: [".concat(i.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))}};Js([ja],Qp.prototype,"init",1),Qp=Js([Ya("userComponentRegistry")],Qp);var Xp={propertyName:"dateComponent",cellRenderer:!1},$p={propertyName:"headerComponent",cellRenderer:!1},Jp={propertyName:"headerGroupComponent",cellRenderer:!1},Zp={propertyName:"cellRenderer",cellRenderer:!0},eg={propertyName:"loadingCellRenderer",cellRenderer:!0},tg={propertyName:"cellEditor",cellRenderer:!1},ig={propertyName:"innerRenderer",cellRenderer:!0},ng={propertyName:"loadingOverlayComponent",cellRenderer:!1},og={propertyName:"noRowsOverlayComponent",cellRenderer:!1},rg={propertyName:"tooltipComponent",cellRenderer:!1},sg={propertyName:"filter",cellRenderer:!1},ag={propertyName:"floatingFilterComponent",cellRenderer:!1},lg={propertyName:"toolPanel",cellRenderer:!1},ug={propertyName:"statusPanel",cellRenderer:!1},cg={propertyName:"fullWidthCellRenderer",cellRenderer:!0},dg={propertyName:"loadingCellRenderer",cellRenderer:!0},hg={propertyName:"groupRowRenderer",cellRenderer:!0},pg={propertyName:"detailCellRenderer",cellRenderer:!0},gg={propertyName:"menuItem",cellRenderer:!1},fg=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};fg.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var mg=class extends Bl{getHeaderCompDetails(e,t){return this.getCompDetails(e,$p,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Jp,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,cg,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,dg,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,hg,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,pg,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,ig,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,ig,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,Zp,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,eg,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,tg,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,sg,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,Xp,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,ng,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,og,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,rg,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,Zp,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,ag,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,lg,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,ug,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,gg,"agMenuItem",t,!0)}getCompDetails(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{propertyName:r,cellRenderer:s}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}=this.getCompKeys(e,t,n);const p=e=>{const t=this.userComponentRegistry.retrieve(r,e);t&&(l=t.componentFromFramework?void 0:t.component,u=t.componentFromFramework?t.component:void 0)};if(null!=a&&p(a),null==l&&null==u&&null!=i&&p(i),l&&s&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(r,l)),!l&&!u)return void(o&&console.error("AG Grid: Could not find component ".concat(a,", did you forget to configure this component?")));const g=this.mergeParamsWithApplicationProvidedParams(e,t,n,c),f=null==l,m=l||u;return{componentFromFramework:f,componentClass:m,params:g,type:t,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(m,f,g,t)}}getCompKeys(e,t,i){const{propertyName:n}=t;let o,r,s,a,l,u;if(e){const t=e,c=t[n+"Selector"],d=c?c(i):null,h=e=>{if("string"===typeof e)o=e;else if(null!=e&&!0!==e){this.getFrameworkOverrides().isFrameworkComponent(e)?s=e:r=e}};d?(h(d.component),a=d.params,l=d.popup,u=d.popupPosition):h(t[n])}return{compName:o,jsComp:r,fwComp:s,paramsFromSelector:a,popupFromSelector:l,popupPositionFromSelector:u}}newAgStackInstance(e,t,i,n){const o=n.propertyName;let r;if(!t)r=new e;else{const t=this.componentMetadataProvider.retrieve(o);r=this.frameworkComponentWrapper.wrap(e,t.mandatoryMethodList,t.optionalMethodList,n)}const s=this.initComponent(r,i);return null==s?Zd.resolve(r):s.then((()=>r))}mergeParamsWithApplicationProvidedParams(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=this.gos.getGridCommonParams();ya(o,i);const r=e&&e[t.propertyName+"Params"];if("function"===typeof r){ya(o,r(i))}else"object"===typeof r&&ya(o,r);return ya(o,n),o}initComponent(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)}getDefaultFloatingFilterType(e,t){if(null==e)return null;let i=null,{compName:n,jsComp:o,fwComp:r}=this.getCompKeys(e,sg);if(n)i=fg.getFloatingFilterType(n);else{null==o&&null==r&&!0===e.filter&&(i=t())}return i}};Js([qa("gridOptions")],mg.prototype,"gridOptions",2),Js([qa("agComponentUtils")],mg.prototype,"agComponentUtils",2),Js([qa("componentMetadataProvider")],mg.prototype,"componentMetadataProvider",2),Js([qa("userComponentRegistry")],mg.prototype,"userComponentRegistry",2),Js([Qa("frameworkComponentWrapper")],mg.prototype,"frameworkComponentWrapper",2),mg=Js([Ya("userComponentFactory")],mg);var vg=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.shouldSkipVerticalScroll();if(t&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<i.left+n,this.tickRight=e.clientX>i.right-n,this.tickUp=e.clientY<i.top+n&&!t,this.tickDown=e.clientY>i.bottom-n&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Cg=class extends Bl{constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((e=>{const t=e.gridBodyCtrl;this.autoScrollService=new vg({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?Ep.ICON_NOT_ALLOWED:Ep.ICON_MOVE}shouldPreventRowMove(){if(this.columnModel.getRowGroupColumns().length)return!0;if(this.filterManager.isAnyFilterPresent())return!0;return!!this.sortController.isSortActive()}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const e=[...this.selectionService.getSelectedNodes()].sort(((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t)));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(Kl.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach((e=>{e.setDragging(!0)})),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const t=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return!t.contains(i)}onEnterOrDragging(e){this.dispatchGridEvent(Kl.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),o=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){return parseInt(hl(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,n=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes;let r=i?1:0;if(this.isFromThisGrid(e))o.forEach((e=>{e.rowTop<n&&(r-=1)})),this.moveRows(o,n,r);else{const e=this.gos.getCallback("getRowId");let t=this.clientSideRowModel.getRowIndexAtPixel(n)+1;0===this.clientSideRowModel.getHighlightPosition(n)&&t--,this.clientSideRowModel.updateRowData({add:o.map((e=>e.data)).filter((t=>!this.clientSideRowModel.getRowNode(e?e({data:t,level:0}):t.id))),addIndex:t})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var n;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),null==(n=this.rangeService)||n.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void Ta("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(t.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(t.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(t.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(Qs({isInterestedIn:e=>2===e,getIconName:()=>Ep.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),o=this.onDragging.bind(this),r=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{i(t),e.onDragEnter(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_ENTER,t))}:i,onDragLeave:e.onDragLeave?t=>{n(t),e.onDragLeave(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_LEAVE,t))}:n,onDragging:e.onDragging?t=>{o(t),e.onDragging(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_MOVE,t))}:o,onDragStop:e.onDragStop?t=>{r(t),e.onDragStop(this.draggingToRowDragEvent(Kl.EVENT_ROW_DRAG_END,t))}:r,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:o,onDragStop:r,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let n,o,r=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(r)),t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:n,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(Kl.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent(Kl.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gos.get("rowDragManaged")||!this.gos.get("suppressMoveWhenRowDragging")&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((e=>{e.setDragging(!1)}))}};Js([qa("dragAndDropService")],Cg.prototype,"dragAndDropService",2),Js([qa("rowModel")],Cg.prototype,"rowModel",2),Js([qa("paginationProxy")],Cg.prototype,"paginationProxy",2),Js([qa("columnModel")],Cg.prototype,"columnModel",2),Js([qa("focusService")],Cg.prototype,"focusService",2),Js([qa("sortController")],Cg.prototype,"sortController",2),Js([qa("filterManager")],Cg.prototype,"filterManager",2),Js([qa("selectionService")],Cg.prototype,"selectionService",2),Js([qa("mouseEventService")],Cg.prototype,"mouseEventService",2),Js([qa("ctrlsService")],Cg.prototype,"ctrlsService",2),Js([Qa("rangeService")],Cg.prototype,"rangeService",2),Js([ja],Cg.prototype,"postConstruct",1);var yg=class extends Bl{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find((t=>t.dragSource===e));t&&(this.removeListener(t),Cl(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:o}=e;i.addEventListener("mousedown",t);let r=null;const s=this.gos.get("suppressTouch");n&&!s&&(r=t=>{Wc(t.target)||(t.cancelable&&(t.preventDefault(),o&&t.stopPropagation()),this.onTouchStart(e,t))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const n=t=>this.onTouchUp(t,e.eElement),o=t.target,r=[{target:this.gos.getRootNode(),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:t=>this.onTouchMove(t,e.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(r),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t))return;if(i._alreadyProcessedByDragService)return;if(i._alreadyProcessedByDragService=!0,0!==t.button)return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=this.gos.getRootNode(),o=[{target:n,type:"mousemove",listener:t=>this.onMouseMove(t,e.eElement)},{target:n,type:"mouseup",listener:t=>this.onMouseUp(t,e.eElement)},{target:n,type:"contextmenu",listener:e=>e.preventDefault()}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach((e=>{const{target:t,type:i,listener:n,options:o}=e;t.addEventListener(i,n,o)})),this.dragEndFunctions.push((()=>{e.forEach((e=>{const{target:t,type:i,listener:n,options:o}=e;t.removeEventListener(i,n,o)}))}))}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return Kd(e,t,ia(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const n={type:Kl.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;if(cc()){null==(i=this.gos.getDocument().getSelection())||i.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i="mousemove"===e.type;return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=null==t?void 0:t.tagName.toLocaleLowerCase();return!!(null==i?void 0:i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const i={type:Kl.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((e=>e())),this.dragEndFunctions.length=0}};Js([qa("mouseEventService")],yg.prototype,"mouseEventService",2),Js([Ka],yg.prototype,"removeAllListeners",1),yg=Js([Ya("dragService")],yg);var wg="ag-list-item-hovered",bg=class extends Bl{constructor(e,t,i){super(),this.comp=e,this.virtualList=t,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout((()=>{this.currentDragValue=null,this.moveBlocked=!1}),10)}createDropTarget(){const e={isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Ep.ICON_PINNED:Ep.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new vg({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),i=this.virtualList.getComponentAt(t.rowIndex);if(!i)return;const n=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,Vc(n,wg),Vc(n,"ag-item-highlight-".concat(t.position)))}getListDragItem(e){const t=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(t).paddingTop),n=this.virtualList.getRowHeight(),o=this.virtualList.getScrollTop(),r=Math.max(0,(e.y-i+o)/n),s=this.params.getNumRows(this.comp)-1,a=0|Math.min(s,r);return{rowIndex:a,position:Math.round(r)>r||r>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(".".concat(wg)).forEach((e=>{[wg,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((t=>{e.classList.remove(t)}))})),this.lastHoveredListItem=null}};function Eg(e){const t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}Js([qa("dragAndDropService")],bg.prototype,"dragAndDropService",2),Js([ja],bg.prototype,"postConstruct",1);var Sg=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}__getAlignedGridService(){return this.alignedGridsService}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){delete this.detailGridInfoMap[e]}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;fa(this.detailGridInfoMap,((i,n)=>{ia(n)&&(e(n,t),t++)}))}getDataAsCsv(e){if(Wa.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Wa.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCsv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,t){return!!Wa.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())&&(1!==this.excelCreator.getFactoryMode()||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1))}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(Wa.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Wa.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){Wa.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),n="aria-".concat(e);null===t?i.removeAttribute(n):i.setAttribute(n,t)}logMissingRowModel(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error("AG Grid: api.".concat(e," can only be called when gridOptions.rowModelType is ").concat(i.join(" or ")))}logDeprecation(e,t,i,n){Ta("Since ".concat(e," api.").concat(t," is deprecated. Please use ").concat(i," instead. ").concat(null!=n?n:""))}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.frameworkOverrides.wrapIncoming((()=>this.rowRenderer.refreshCells(e)))}flashCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Ta("Since v31.1 api.flashCells parameter '".concat(e,"Delay' is deprecated. Please use '").concat(e,"Duration' instead."));ia(e.fadeDelay)&&t("fade"),ia(e.flashDelay)&&t("flash"),this.frameworkOverrides.wrapIncoming((()=>this.rowRenderer.flashCells(e)))}redrawRows(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming((()=>this.rowRenderer.redrawRows(t)))}refreshHeader(){this.frameworkOverrides.wrapIncoming((()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach((e=>e.refresh()))))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return Ta("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,t,i,n){this.expansionService.setRowNodeExpanded(e,t,i,n)}onGroupExpandedOrCollapsed(){na(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){na(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Wa.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){Wa.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every((e=>e.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==e.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1))))return;const{nodes:t,source:i,newValue:n}=e,o=t;this.selectionService.setNodesSelected({nodes:o,source:null!=i?i:"api",newValue:n})}selectAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apiSelectAll";this.selectionService.selectAllRowNodes({source:e})}deselectAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apiSelectAll";this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apiSelectAllFiltered";this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apiSelectAllFiltered";this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return na(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){na(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apiSelectAllCurrentPage";this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apiSelectAllCurrentPage";this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!na(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this.frameworkOverrides.wrapIncoming((()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)),"ensureVisible")}ensureIndexVisible(e,t){this.frameworkOverrides.wrapIncoming((()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)),"ensureVisible")}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.frameworkOverrides.wrapIncoming((()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)),"ensureVisible")}forEachLeafNode(e){na(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){na(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){na(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return Ta("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!Wa.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;return Eg(this.statusBarService.getStatusPanel(e))}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"api";this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming((()=>this.filterManager.setFilterModel(e)))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.filterManager.setColumnFilterModel(e,t)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return Wa.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){return Eg(this.sideBarService.getSideBarComp().getToolPanelInstance(e))}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(ia(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setRowCount(e,t){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(e,t):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){return this.logDeprecation("31.3","getValue","getCellValue"),this.getCellValue({colKey:e,rowNode:t})}getCellValue(e){var t;const{colKey:i,rowNode:n,useFormatter:o}=e;let r=null!=(t=this.columnModel.getPrimaryColumn(i))?t:this.columnModel.getGridColumn(i);if(na(r))return null;const s=this.valueService.getValue(r,n);if(o){const e=this.valueService.formatValue(r,n,s);return null!=e?e:iu(s,!0)}return s}addEventListener(e,t){this.apiEventService.addEventListener(e,t)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,t){this.apiEventService.removeEventListener(e,t)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){var e;const t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(this.destroyCalled)return;const i={type:Kl.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(i),this.destroyCalled=!0,null==(e=this.ctrlsService.get("gridCtrl"))||e.destroyGridUi(),this.context.destroy(),this.detailGridInfoMap={},ba(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Wa.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){this.rangeService?this.rangeService.addCellRange(e):Wa.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Wa.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,t){if(Wa.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming((()=>t()))}getChartModels(){return this.assertChart("getChartModels",(()=>this.chartService.getChartModels()))}getChartRef(e){return this.assertChart("getChartRef",(()=>this.chartService.getChartRef(e)))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",(()=>this.chartService.getChartImageDataURL(e)))}downloadChart(e){return this.assertChart("downloadChart",(()=>this.chartService.downloadChart(e)))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",(()=>this.chartService.openChartToolPanel(e)))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",(()=>this.chartService.closeChartToolPanel(e.chartId)))}createRangeChart(e){return this.assertChart("createRangeChart",(()=>this.chartService.createRangeChart(e)))}createPivotChart(e){return this.assertChart("createPivotChart",(()=>this.chartService.createPivotChart(e)))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",(()=>this.chartService.createCrossFilterChart(e)))}updateChart(e){return this.assertChart("updateChart",(()=>this.chartService.updateChart(e)))}restoreChart(e,t){return this.assertChart("restoreChart",(()=>this.chartService.restoreChart(e,t)))}assertClipboard(e,t){Wa.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&t()}copyToClipboard(e){this.assertClipboard("copyToClipboard",(()=>this.clipboardService.copyToClipboard(e)))}cutToClipboard(e){this.assertClipboard("cutToClipboard",(()=>this.clipboardService.cutToClipboard(e)))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",(()=>this.clipboardService.copySelectedRowsToClipboard(e)))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",(()=>this.clipboardService.copySelectedRangeToClipboard(e)))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",(()=>this.clipboardService.copyRangeDown()))}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",(()=>this.clipboardService.pasteFromClipboard()))}showColumnMenuAfterButtonClick(e,t){Ta("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const i=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:i,buttonElement:t,positionBy:"button"})}showColumnMenuAfterMouseClick(e,t){Ta("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(e);i||(i=this.columnModel.getPrimaryColumn(e)),i?this.menuService.showColumnMenu({column:i,mouseEvent:t,positionBy:"mouse"}):console.error("AG Grid: column '".concat(e,"' not found"))}showContextMenu(e){const{rowNode:t,column:i,value:n,x:o,y:r}=e||{};let{x:s,y:a}=this.menuService.getContextMenuPosition(t,i);null!=o&&(s=o),null!=r&&(a=r),this.menuService.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:s,clientY:a}),rowNode:t,column:i,value:n})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const t=this.columnModel.getGridColumn(e);t?this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"}):console.error("AG Grid: column '".concat(e,"' not found"))}showColumnMenu(e){const t=this.columnModel.getGridColumn(e);t?this.menuService.showColumnMenu({column:t,positionBy:"auto"}):console.error("AG Grid: column '".concat(e,"' not found"))}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.rowRenderer.getCellRendererInstances(e).map(Eg)}getCellEditorInstances(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.rowRenderer.getCellEditorInstances(e).map(Eg)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t)return void console.warn("AG Grid: no column found for ".concat(e.colKey));const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const n=this.navigationService.getCellByPosition(i);n&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),n.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(e){var t,i;const n=null!=(t=e.startRow)?t:0,o=null!=(i=e.route)?i:[];n<0?console.warn("AG Grid: invalid value ".concat(e.startRow," for startRow, the value should be >= 0")):this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,n,o):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(e){if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming((()=>this.clientSideRowModel.updateRowData(e)));this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(e,t){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming((()=>this.clientSideRowModel.batchUpdateRowData(e,t))):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming((()=>this.clientSideRowModel.flushAsyncTransactions())):this.logMissingRowModel("flushAsyncTransactions","clientSide")}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){"number"===typeof e?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t,"api")}setColumnWidth(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,n)}setColumnWidths(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";this.columnModel.setColumnWidths(e,!1,t,i)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,t){this.updateGridOptions({[e]:t})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e,t){this.gos.updateGridOptions({options:e,force:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,t){Ta("set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1,e.length)," is deprecated. Please use 'api.setGridOption('").concat(e,"', newValue)' or 'api.updateGridOptions({ ").concat(e,": newValue })' instead.")),this.setGridOption(e,t)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){Ta("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";Ta("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})}setAutoGroupColumnDef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";Ta("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})}setDefaultColDef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";Ta("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})}setColumnTypes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";Ta("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){Ta("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};Js([qa("rowRenderer")],Sg.prototype,"rowRenderer",2),Js([qa("navigationService")],Sg.prototype,"navigationService",2),Js([qa("filterManager")],Sg.prototype,"filterManager",2),Js([qa("columnModel")],Sg.prototype,"columnModel",2),Js([qa("selectionService")],Sg.prototype,"selectionService",2),Js([qa("gridOptionsService")],Sg.prototype,"gos",2),Js([qa("valueService")],Sg.prototype,"valueService",2),Js([qa("alignedGridsService")],Sg.prototype,"alignedGridsService",2),Js([qa("eventService")],Sg.prototype,"eventService",2),Js([qa("pinnedRowModel")],Sg.prototype,"pinnedRowModel",2),Js([qa("context")],Sg.prototype,"context",2),Js([qa("rowModel")],Sg.prototype,"rowModel",2),Js([qa("sortController")],Sg.prototype,"sortController",2),Js([qa("paginationProxy")],Sg.prototype,"paginationProxy",2),Js([qa("focusService")],Sg.prototype,"focusService",2),Js([qa("dragAndDropService")],Sg.prototype,"dragAndDropService",2),Js([qa("menuService")],Sg.prototype,"menuService",2),Js([qa("valueCache")],Sg.prototype,"valueCache",2),Js([qa("animationFrameService")],Sg.prototype,"animationFrameService",2),Js([qa("ctrlsService")],Sg.prototype,"ctrlsService",2),Js([qa("overlayService")],Sg.prototype,"overlayService",2),Js([qa("stateService")],Sg.prototype,"stateService",2),Js([qa("expansionService")],Sg.prototype,"expansionService",2),Js([qa("apiEventService")],Sg.prototype,"apiEventService",2),Js([qa("frameworkOverrides")],Sg.prototype,"frameworkOverrides",2),Js([qa("undoRedoService")],Sg.prototype,"undoRedoService",2),Js([qa("rowNodeBlockLoader")],Sg.prototype,"rowNodeBlockLoader",2),Js([Qa("csvCreator")],Sg.prototype,"csvCreator",2),Js([Qa("excelCreator")],Sg.prototype,"excelCreator",2),Js([Qa("rangeService")],Sg.prototype,"rangeService",2),Js([Qa("clipboardService")],Sg.prototype,"clipboardService",2),Js([Qa("aggFuncService")],Sg.prototype,"aggFuncService",2),Js([Qa("statusBarService")],Sg.prototype,"statusBarService",2),Js([Qa("chartService")],Sg.prototype,"chartService",2),Js([Qa("ssrmTransactionManager")],Sg.prototype,"serverSideTransactionManager",2),Js([Qa("sideBarService")],Sg.prototype,"sideBarService",2),Js([ja],Sg.prototype,"init",1),Sg=Js([Ya("gridApi")],Sg);var xg=class extends Bl{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,(()=>this.resetQuickFilterCache())),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(()=>this.resetQuickFilterCache())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.resetQuickFilterCache())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VISIBLE,(()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()})),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged())),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every((i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i)))}resetQuickFilterCache(){this.rowModel.forEachNode((e=>e.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return ia(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!==typeof e)return void console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof e));const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:xg.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:xg.EVENT_QUICK_FILTER_CHANGED}))}onQuickFilterColumnConfigChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:xg.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some((i=>{const n=this.getQuickFilterTextForColumn(i,e);return ia(n)&&n.indexOf(t)>=0}))}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:o}=this;return o(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const o=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(o)}return ia(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach((i=>{const n=this.getQuickFilterTextForColumn(i,e);ia(n)&&t.push(n)})),t.join(xg.QUICK_FILTER_SEPARATOR)}};xg.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",xg.QUICK_FILTER_SEPARATOR="\n",Js([qa("valueService")],xg.prototype,"valueService",2),Js([qa("columnModel")],xg.prototype,"columnModel",2),Js([qa("rowModel")],xg.prototype,"rowModel",2),Js([ja],xg.prototype,"postConstruct",1),xg=Js([Ya("quickFilterService")],xg);var Rg=class extends Bl{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,t,i;this.addManagedListener(this.eventService,Kl.EVENT_GRID_COLUMNS_CHANGED,(()=>this.onColumnsChanged())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VALUE_CHANGED,(()=>this.refreshFiltersForAggregations())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_CHANGED,(()=>this.refreshFiltersForAggregations())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,(()=>this.refreshFiltersForAggregations())),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(()=>this.updateAdvancedFilterColumns())),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VISIBLE,(()=>this.updateAdvancedFilterColumns())),this.addManagedListener(this.eventService,Kl.EVENT_ROW_DATA_UPDATED,(()=>this.onNewRowsLoaded("rowDataUpdated"))),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(e=>this.setAdvancedFilterModel(e.currentValue))),this.addManagedListener(this.eventService,Kl.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,(e=>{let{enabled:t}=e;return this.onAdvancedFilterEnabledChanged(t)})),this.addManagedListener(this.eventService,Kl.EVENT_DATA_TYPES_INFERRED,(()=>this.processFilterModelUpdateQueue())),this.addManagedListener(this.quickFilterService,xg.EVENT_QUICK_FILTER_CHANGED,(()=>this.onFilterChanged({source:"quickFilter"}))),this.initialFilterModel=Qs({},null!=(i=null==(t=null==(e=this.gos.get("initialState"))?void 0:e.filter)?void 0:t.filterModel)?i:{})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const i=[],n=this.getFilterModel();if(e){const t=Xd(Object.keys(e));this.allColumnFilters.forEach(((n,o)=>{const r=e[o];i.push(this.setModelOnFilterWrapper(n.filterPromise,r)),t.delete(o)})),t.forEach((t=>{const n=this.columnModel.getPrimaryColumn(t)||this.columnModel.getGridColumn(t);if(!n)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+t);if(!n.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);const o=this.getOrCreateFilterWrapper(n,"NO_UI");o?i.push(this.setModelOnFilterWrapper(o.filterPromise,e[t])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)}))}else this.allColumnFilters.forEach((e=>{i.push(this.setModelOnFilterWrapper(e.filterPromise,null))}));Zd.all(i).then((()=>{const e=this.getFilterModel(),i=[];this.allColumnFilters.forEach(((t,o)=>{const r=n?n[o]:null,s=e?e[o]:null;$d.jsonEquals(r,s)||i.push(t.column)})),i.length>0&&this.onFilterChanged({columns:i,source:t})}))}setModelOnFilterWrapper(e,t){return new Zd((i=>{e.then((e=>{"function"!==typeof e.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(e.setModel(t)||Zd.resolve()).then((()=>i()))}))}))}getFilterModel(){const e={};return this.allColumnFilters.forEach(((t,i)=>{const n=this.getModelFromFilterWrapper(t);ia(n)&&(e[i]=n)})),e}getModelFromFilterWrapper(e){var t;const i=e.filterPromise.resolveNow(null,(e=>e));return null==i?null!=(t=this.initialFilterModel[e.column.getColId()])?t:null:"function"!==typeof i.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"advancedFilterEnabled"))),this.onFilterChanged({source:"advancedFilter"})):(null==(t=this.advancedFilterService)?void 0:t.isFilterPresent())&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!(null==(e=this.advancedFilterService)?void 0:e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=e=>!!e&&(e.isFilterActive?e.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),t=!!this.gos.getGroupAggFiltering(),i=e=>{if(!e.isPrimary())return!0;const i=!this.columnModel.isPivotActive();return!(!e.isValueActive()||!i)&&(!!this.columnModel.isPivotMode()||t)};this.allColumnFilters.forEach((t=>{if(t.filterPromise.resolveNow(!1,e)){const e=t.filterPromise.resolveNow(null,(e=>e));i(t.column)?this.activeAggregateFilters.push(e):this.activeColumnFilters.push(e)}}))}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach((i=>{const n=i.filterPromise.resolveNow(!1,(e=>e.isFilterActive()));i.column.setFilterActive(n,e,t)}))}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,t,i){const{data:n,aggData:o}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,s=i?o:n;for(let a=0;a<r.length;a++){const i=r[a];if(null!=i&&i!==t){if("function"!==typeof i.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!i.doesFilterPass({node:e,data:s}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{source:t,filterInstance:i,additionalEventAttributes:n,columns:o}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((e=>{e.filterPromise&&e.filterPromise.then((e=>{e&&e!==i&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));const r={source:t,type:Kl.EVENT_FILTER_CHANGED,columns:o||[]};n&&ya(r,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null!=(e=this.gos.get("allowShowChangeAfterFilter"))&&e)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))}onNewRowsLoaded(e){this.allColumnFilters.forEach((e=>{e.filterPromise.then((e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return t=>{let{node:i}=t;return this.valueService.getValue(e,i,!0)}}createGetValue(e){return(t,i)=>{const n=i?this.columnModel.getGridColumn(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}getFilterComponent(e,t){var i;if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])return(null==(i=this.getOrCreateFilterWrapper(e,t))?void 0:i.filterPromise)||null;const n=this.cachedFilter(e);return n?n.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,(e=>e.isFilterActive()))}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);return i||(i=this.createFilterWrapper(e,t),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Wa.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFilter";else{const i=this.dataTypeService.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Wa.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),i=e.getColDef();let n;const o=Xs(Qs({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:t=>this.filterChangedCallbackFactory(n,e)(t),doesRowPassOtherFilter:e=>this.doesRowPassOtherFilters(n,e)}),r=this.userComponentFactory.getFilterDetails(i,o,t);return r?{filterPromise:()=>{const e=r.newAgStackInstance();return e&&e.then((e=>n=e)),e},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:ma(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,t){var i;const n={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:o,compDetails:r}=this.createFilterInstance(e);return n.filterPromise=null!=(i=null==o?void 0:o())?i:null,n.compDetails=r,n}onColumnsChanged(){const e=[];this.allColumnFilters.forEach(((t,i)=>{let n;n=t.column.isPrimary()?this.columnModel.getPrimaryColumn(i):this.columnModel.getGridColumn(i),n&&n===t.column||(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))})),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();null==e||e.forEach((e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e,"NO_UI")}))}isFilterAllowed(e){var t,i;if(this.isAdvancedFilterEnabled())return!1;if(!e.isFilterAllowed())return!1;const n=this.allColumnFilters.get(e.getColId());return null==(i=null==(t=null==n?void 0:n.filterPromise)?void 0:t.resolveNow(!0,(e=>"function"!==typeof(null==e?void 0:e.isFilterAllowed)||(null==e?void 0:e.isFilterAllowed()))))||i}getFloatingFilterCompDetails(e,t){const i=t=>{const i=this.getFilterComponent(e,"NO_UI");null!=i&&i.then((e=>{t(Eg(e))}))},n=e.getColDef(),o=Xs(Qs({},this.createFilterParams(e,n)),{filterChangedCallback:()=>i((t=>this.filterChangedCallbackFactory(t,e)()))}),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,sg,o);let s=this.userComponentFactory.getDefaultFloatingFilterType(n,(()=>this.getDefaultFloatingFilter(e)));null==s&&(s="agReadOnlyFloatingFilter");const a={column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,s)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,(e=>e&&e.getModel())):null}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then((i=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const n={type:Kl.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(n)}))}filterModifiedCallbackFactory(e,t){return()=>{const i={type:Kl.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(e,t){return i=>{var n;const o=null!=(n=null==i?void 0:i.source)?n:"api",r={filter:e,additionalEventAttributes:i,columns:[t],source:o};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n))return void this.destroyFilter(i,"paramsUpdated");const o=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then((e=>{!1===(!(null==e?void 0:e.refresh)||e.refresh(Qs(Xs(Qs({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(e,i),filterChangedCallback:this.filterChangedCallbackFactory(e,i),doesRowPassOtherFilter:t=>this.doesRowPassOtherFilters(e,t)}),o)))&&this.destroyFilter(i,"paramsUpdated")})):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListener(e,rl.EVENT_COL_DEF_CHANGED,(()=>this.checkDestroyFilter(i))))}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||(null==i?void 0:i.render)&&(null==n?void 0:n.render)&&i.render===n.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){this.isAdvancedFilterEnabled()&&(this.dataTypeService.isPendingInference()?this.advancedFilterModelUpdateQueue.push(e):(this.advancedFilterService.setModel(null!=e?e:null),this.onFilterChanged({source:"advancedFilter"})))}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){if(this.isAdvancedFilterEnabled())return!1;return this.columnModel.getAllGridColumns().some((e=>e.getColDef().floatingFilter))}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();const i=this.getFilterInstanceImpl(e,(e=>{if(!t)return;const i=Eg(e);t(i)}));return Eg(i)}getColumnFilterInstance(e){return new Promise((t=>{this.getFilterInstance(e,(e=>{t(e)}))}))}getFilterInstanceImpl(e,t){const i=this.columnModel.getPrimaryColumn(e);if(!i)return;const n=this.getFilterComponent(i,"NO_UI"),o=n&&n.resolveNow(null,(e=>e));return o?setTimeout(t,0,o):n&&n.then((e=>{t(e)})),o}warnAdvancedFilters(){Ta("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;null==(t=this.advancedFilterService)||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((e=>{let{model:t,source:i}=e;return this.setFilterModel(t,i)})),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((e=>{let{key:t,model:i,resolve:n}=e;this.setColumnFilterModel(t,i).then((()=>n()))})),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach((e=>this.setAdvancedFilterModel(e))),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let i=()=>{};const n=new Promise((e=>{i=e}));return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:i}),n}const i=this.columnModel.getPrimaryColumn(e),n=i?this.getOrCreateFilterWrapper(i,"NO_UI"):null;return n?(o=this.setModelOnFilterWrapper(n.filterPromise,t),new Promise((e=>{o.then((t=>e(t)))}))):Promise.resolve();var o}getFilterWrapper(e){var t;const i=this.columnModel.getPrimaryColumn(e);return i&&null!=(t=this.cachedFilter(i))?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"gridDestroyed"))),this.allColumnListeners.clear()}};Js([qa("valueService")],Rg.prototype,"valueService",2),Js([qa("columnModel")],Rg.prototype,"columnModel",2),Js([qa("rowModel")],Rg.prototype,"rowModel",2),Js([qa("userComponentFactory")],Rg.prototype,"userComponentFactory",2),Js([qa("rowRenderer")],Rg.prototype,"rowRenderer",2),Js([qa("dataTypeService")],Rg.prototype,"dataTypeService",2),Js([qa("quickFilterService")],Rg.prototype,"quickFilterService",2),Js([Qa("advancedFilterService")],Rg.prototype,"advancedFilterService",2),Js([ja],Rg.prototype,"init",1),Rg=Js([Ya("filterManager")],Rg);var Tg=class extends sh{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedListener(this.eventService,Kl.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))}hasFilter(){return!!this.filterWrapper}getFilter(){var e,t;return null!=(t=null==(e=this.filterWrapper)?void 0:e.filterPromise)?t:null}afterInit(){var e,t,i;return null!=(i=null==(t=null==(e=this.filterWrapper)?void 0:e.filterPromise)?void 0:t.then((()=>{})))?i:Zd.resolve()}afterGuiAttached(e){var t,i;null==(i=null==(t=this.filterWrapper)?void 0:t.filterPromise)||i.then((t=>{var i;null==(i=null==t?void 0:t.afterGuiAttached)||i.call(t,e)}))}afterGuiDetached(){var e,t;null==(t=null==(e=this.filterWrapper)?void 0:e.filterPromise)||t.then((e=>{var t;null==(t=null==e?void 0:e.afterGuiDetached)||t.call(e)}))}createFilter(e){var t;const{column:i,source:n}=this;this.filterWrapper=this.filterManager.getOrCreateFilterWrapper(i,n),(null==(t=this.filterWrapper)?void 0:t.filterPromise)&&this.filterWrapper.filterPromise.then((t=>{let o=t.getGui();if(ia(o)||console.warn("AG Grid: getGui method from filter returned ".concat(o,", it should be a DOM element or an HTML template string.")),"string"===typeof o&&(o=sd(o)),this.appendChild(o),e){const e={type:Kl.EVENT_FILTER_OPENED,column:i,source:n,eGui:this.getGui()};this.eventService.dispatchEvent(e)}}))}onFilterDestroyed(e){"api"!==e.source&&"paramsUpdated"!==e.source||e.column.getId()!==this.column.getId()||!this.columnModel.getPrimaryColumn(this.column)||(id(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}};Js([qa("filterManager")],Tg.prototype,"filterManager",2),Js([qa("columnModel")],Tg.prototype,"columnModel",2),Js([ja],Tg.prototype,"postConstruct",1);var Dg=class extends sh{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},Pg=class e extends Dg{constructor(t){super(e.TEMPLATE,t)}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),addOrRemoveBodyCssClass:(e,t)=>this.eFloatingFilterBody.classList.toggle(e,t),setButtonWrapperDisplayed:e=>zc(this.eButtonWrapper,e),setCompDetails:e=>this.setCompDetails(e),getFloatingFilterComp:()=>this.compPromise,setWidth:t=>e.style.width=t,setMenuIcon:e=>this.eButtonShowMainFilter.appendChild(e)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then((e=>this.afterCompCreated(e)))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){e&&(this.isAlive()?(this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()):this.destroyBean(e))}};Pg.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Js([ah("eFloatingFilterBody")],Pg.prototype,"eFloatingFilterBody",2),Js([ah("eButtonWrapper")],Pg.prototype,"eButtonWrapper",2),Js([ah("eButtonShowMainFilter")],Pg.prototype,"eButtonShowMainFilter",2),Js([ja],Pg.prototype,"postConstruct",1),Js([Ka],Pg.prototype,"destroyFloatingFilterComp",1);var Ag=Pg,Mg=class extends Bl{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){var e;const t=null!=(e=this.gos.get("domLayout"))?e:"normal";return-1===["normal","print","autoHeight"].indexOf(t)?(Ta("".concat(t," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):t}};Js([ja],Mg.prototype,"postConstruct",1);var _g=class extends Bl{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Na((()=>this.lastScrollSource[1]=null),500),this.resetLastVScrollDebounced=Na((()=>this.lastScrollSource[0]=null),500)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){const{fakeHScrollComp:e,fakeVScrollComp:t}=this.ctrlsService.getParams();this.addManagedListener(this.centerRowsCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gos.get("debounceVerticalScrollbar"),n=i?Na(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=i?Na(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),t.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(null==this.centerRowsCtrl)return;void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());const t=this.enableRtl?e:-e,{topCenter:i,stickyTopCenter:n,stickyBottomCenter:o,centerHeader:r,bottomCenter:s,fakeHScrollComp:a}=this.ctrlsService.getParams();r.setHorizontalScroll(-t),s.setContainerTranslateX(t),i.setContainerTranslateX(t),n.setContainerTranslateX(t),o.setContainerTranslateX(t);const l=this.centerRowsCtrl.getViewportElement(),u=0===this.lastScrollSource[1];e=Math.abs(e),u?a.setScrollPosition(e):td(l,e,this.enableRtl)}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n;n=0===e?ed(t,this.enableRtl):this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;t=0===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,0===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:Kl.EVENT_BODY_SCROLL,direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{const e=Xs(Qs({},t),{type:Kl.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(e)}),100)}shouldBlockScrollUpdate(e,t){return!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!fc())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=qc(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Zc()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&Zc()?e>0?0:i:Math.min(Math.max(e,0),i)),td(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;return{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=this.rowModel.getRowCount();let n=-1;for(let o=0;o<i;o++){const t=this.rowModel.getRow(o);if("function"===typeof e){if(t&&e(t)){n=o;break}}else if(e===t||e===t.data){n=o;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if("number"!==typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);const n=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{n||this.paginationProxy.goToPageWithIndex(e);const i=this.ctrlsService.getGridBodyCtrl(),o=i.getStickyTopHeight(),r=i.getStickyBottomHeight(),s=this.paginationProxy.getRow(e);let a;do{const e=s.rowTop,i=s.rowHeight,n=this.paginationProxy.getPixelOffset(),l=s.rowTop-n,u=l+s.rowHeight,c=this.getVScrollPosition(),d=this.heightScaler.getDivStretchOffset(),h=c.top+d,p=c.bottom+d,g=p-h,f=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(u-g),v=Math.min((f+m)/2,l);let C=null;"top"===t?C=f:"bottom"===t?C=m:"middle"===t?C=v:h+o>l?C=f-o:p-r<u&&(C=m+r),null!==C&&(this.setVerticalScrollPosition(C),this.rowRenderer.redraw({afterScroll:!0})),a=e!==s.rowTop||i!==s.rowHeight}while(a);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const i=this.columnModel.getGridColumn(e);if(!i)return;if(i.isPinned())return;if(!this.columnModel.isColumnDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming((()=>{null!==n&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}))}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?i:n)||o,l=s?n:i;"auto"!==t&&(a="start"===t,l="end"===t);const u="middle"===t;if(a||l||u){const{colLeft:t,colMiddle:i,colRight:n}=this.getColumnBounds(e);return u?i-r/2:a?s?n:t:s?t-r:n-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:o}=this.getColumnBounds(e),r=this.enableRtl;return{columnBeforeStart:r?t>o:i<o,columnAfterEnd:r?i<n:t>n}}getColumnBounds(e){const t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),o=e.getLeft(),r=t?-1:1,s=t?i-o:o;return{colLeft:s,colMiddle:s+n/2*r,colRight:s+n*r}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}};Js([qa("ctrlsService")],_g.prototype,"ctrlsService",2),Js([qa("animationFrameService")],_g.prototype,"animationFrameService",2),Js([qa("paginationProxy")],_g.prototype,"paginationProxy",2),Js([qa("rowModel")],_g.prototype,"rowModel",2),Js([qa("rowContainerHeightService")],_g.prototype,"heightScaler",2),Js([qa("rowRenderer")],_g.prototype,"rowRenderer",2),Js([qa("columnModel")],_g.prototype,"columnModel",2),Js([ja],_g.prototype,"postConstruct",1);var kg="ag-force-vertical-scroll",Fg=class extends Bl{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,o,r,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=o,this.eStickyTop=r,this.eStickyBottom=s,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(e=>this.setCellTextSelection(e.currentValue))),this.createManagedBean(new Mg(this.comp)),this.bodyScrollFeature=this.createManagedBean(new _g(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,o,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,Kl.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach((e=>{this.addManagedListener(e,"focusin",(t=>{const{target:i}=t,n=Kc(i,"ag-root",e);e.classList.toggle("ag-has-focus",!n)})),this.addManagedListener(e,"focusout",(t=>{const{target:i,relatedTarget:n}=t,o=e.contains(n),r=Kc(n,"ag-root",e);Kc(i,"ag-root",e)||o&&!r||e.classList.remove("ag-has-focus")}))}))}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.gos.getScrollbarWidth()||0,i=Sc()?16:0,n="calc(100% + ".concat(t+i,"px)");this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(n)))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",(e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=e=>{const i=e.relatedTarget;if(null===vc(i))return void this.rowRenderer.stopEditing();let n=t.some((e=>e.contains(i)))&&this.mouseEventService.isElementInThisGrid(i);if(!n){const e=this.popupService;n=e.getActivePopups().some((e=>e.contains(i)))||e.isElementWithinCustomPopup(i)}n||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach((t=>this.addManagedListener(t,"focusout",e)))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=-1===t?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?kg:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&hd(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const e=this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),t=e?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(t,e)};e(),this.addManagedListener(this.eventService,Kl.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyWheel.bind(this)),this.addManagedListener(this.eStickyBottom,"wheel",this.onStickyWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",(e=>this.onFullWidthContainerWheel(e,t)))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||i).preventDefault()}const{target:n}=e||t;n!==this.eBodyViewport&&n!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!fc())return;const t=new ip(this.eBodyViewport);this.addManagedListener(t,ip.EVENT_LONG_TAP,(t=>{e(void 0,t.touchStart,t.touchEvent)})),this.addDestroyFunc((()=>t.destroy()))}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Cg(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight("".concat(e,"px")),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const e=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(e,"px)")),this.comp.setStickyBottomWidth("calc(100% - ".concat(e,"px)"))}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+this.filterManager.getHeaderHeight(),t=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;e>0&&(i+=e),t>0&&(i+=t),i>0&&(i+=1),this.comp.setStickyTopTop("".concat(i,"px"))}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0);this.comp.setStickyBottomBottom("".concat(e,"px"))}sizeColumnsToFit(e,t){const i=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,n=Qc(this.eGridBody)-i;n>0?this.columnModel.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};Js([qa("animationFrameService")],Fg.prototype,"animationFrameService",2),Js([qa("rowContainerHeightService")],Fg.prototype,"rowContainerHeightService",2),Js([qa("ctrlsService")],Fg.prototype,"ctrlsService",2),Js([qa("columnModel")],Fg.prototype,"columnModel",2),Js([qa("scrollVisibleService")],Fg.prototype,"scrollVisibleService",2),Js([qa("menuService")],Fg.prototype,"menuService",2),Js([qa("headerNavigationService")],Fg.prototype,"headerNavigationService",2),Js([qa("dragAndDropService")],Fg.prototype,"dragAndDropService",2),Js([qa("pinnedRowModel")],Fg.prototype,"pinnedRowModel",2),Js([qa("rowRenderer")],Fg.prototype,"rowRenderer",2),Js([qa("popupService")],Fg.prototype,"popupService",2),Js([qa("mouseEventService")],Fg.prototype,"mouseEventService",2),Js([qa("rowModel")],Fg.prototype,"rowModel",2),Js([qa("filterManager")],Fg.prototype,"filterManager",2);var Lg="ag-cell-range-selected",Ng=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Lg,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Lg,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Lg,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Lg,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Lg,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),$u(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,o=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every((e=>xl([1,0],e.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,n=!1,o=!1;const r=this.cellCtrl.getCellPosition().column,s=this.beans.columnModel;let a,l;e?(a=s.getDisplayedColAfter(r),l=s.getDisplayedColBefore(r)):(a=s.getDisplayedColBefore(r),l=s.getDisplayedColAfter(r));const u=this.rangeService.getCellRanges().filter((e=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),e)));a||(o=!0),l||(i=!0);for(let c=0;c<u.length&&!(t&&i&&n&&o);c++){const e=u[c],r=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e);!t&&this.beans.rowPositionUtils.sameRow(r,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(s,this.cellCtrl.getCellPosition())&&(n=!0),!o&&a&&e.columns.indexOf(a)<0&&(o=!0),!i&&l&&e.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:o}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const n=hl(t),o=this.cellCtrl.getCellPosition(),r=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),s=e.get("enableRangeHandle");let a=1===i&&!this.cellCtrl.isEditing()&&(r||s);if(this.hasChartRange){const e=1===t[0].type&&this.rangeService.isCellInSpecificRange(o,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",e),a=0===n.type}return a&&null!=n.endRow&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,o)}addSelectionHandle(){const e=this.beans.gos,t=hl(this.rangeService.getCellRanges()).type,i=e.get("enableFillHandle")&&na(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Og=class extends Bl{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(()=>this.onNewColumnsLoaded()))}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();pl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((e,t)=>e+t.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let o=0;i&&o<e&&(t.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),i&&!na(i))&&n===i.getPinned();o++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?hl(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===this.column.getPinned()){return t+this.beans.columnModel.getBodyContainerWidth()+(e||0)}return t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height="".concat(t,"px"),this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Ig=class extends Bl{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,(e=>this.cellComp.addOrRemoveCssClass(e,!0)),(e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"===typeof e.cellStyle){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!0)))}destroy(){super.destroy()}},Gg=class{postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gos.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};Js([qa("resizeObserverService")],Gg.prototype,"resizeObserverService",2),Js([qa("paginationProxy")],Gg.prototype,"paginationProxy",2),Js([qa("context")],Gg.prototype,"context",2),Js([qa("gridOptionsService")],Gg.prototype,"gos",2),Js([qa("environment")],Gg.prototype,"environment",2),Js([qa("rowRenderer")],Gg.prototype,"rowRenderer",2),Js([qa("valueService")],Gg.prototype,"valueService",2),Js([qa("eventService")],Gg.prototype,"eventService",2),Js([qa("columnModel")],Gg.prototype,"columnModel",2),Js([qa("headerNavigationService")],Gg.prototype,"headerNavigationService",2),Js([qa("navigationService")],Gg.prototype,"navigationService",2),Js([qa("columnAnimationService")],Gg.prototype,"columnAnimationService",2),Js([qa("focusService")],Gg.prototype,"focusService",2),Js([qa("popupService")],Gg.prototype,"popupService",2),Js([qa("stylingService")],Gg.prototype,"stylingService",2),Js([qa("columnHoverService")],Gg.prototype,"columnHoverService",2),Js([qa("userComponentFactory")],Gg.prototype,"userComponentFactory",2),Js([qa("userComponentRegistry")],Gg.prototype,"userComponentRegistry",2),Js([qa("animationFrameService")],Gg.prototype,"animationFrameService",2),Js([qa("dragService")],Gg.prototype,"dragService",2),Js([qa("dragAndDropService")],Gg.prototype,"dragAndDropService",2),Js([qa("sortController")],Gg.prototype,"sortController",2),Js([qa("filterManager")],Gg.prototype,"filterManager",2),Js([qa("rowContainerHeightService")],Gg.prototype,"rowContainerHeightService",2),Js([qa("frameworkOverrides")],Gg.prototype,"frameworkOverrides",2),Js([qa("cellPositionUtils")],Gg.prototype,"cellPositionUtils",2),Js([qa("rowPositionUtils")],Gg.prototype,"rowPositionUtils",2),Js([qa("selectionService")],Gg.prototype,"selectionService",2),Js([qa("rowCssClassCalculator")],Gg.prototype,"rowCssClassCalculator",2),Js([qa("rowModel")],Gg.prototype,"rowModel",2),Js([qa("ctrlsService")],Gg.prototype,"ctrlsService",2),Js([qa("ctrlsFactory")],Gg.prototype,"ctrlsFactory",2),Js([qa("agStackComponentsRegistry")],Gg.prototype,"agStackComponentsRegistry",2),Js([qa("valueCache")],Gg.prototype,"valueCache",2),Js([qa("rowNodeEventThrottle")],Gg.prototype,"rowNodeEventThrottle",2),Js([qa("localeService")],Gg.prototype,"localeService",2),Js([qa("syncService")],Gg.prototype,"syncService",2),Js([qa("ariaAnnouncementService")],Gg.prototype,"ariaAnnouncementService",2),Js([Qa("rangeService")],Gg.prototype,"rangeService",2),Js([Qa("selectionHandleFactory")],Gg.prototype,"selectionHandleFactory",2),Js([ja],Gg.prototype,"postConstruct",1),Gg=Js([Ya("beans")],Gg);var Vg=class extends Gg{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Fl(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gos:n}=this.beans,o=e.ctrlKey||e.metaKey;i&&o&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,Kl.EVENT_CELL_CLICKED);t.dispatchEvent(r);const s=this.column.getColDef();s.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{s.onCellClicked(r)}))}),0);!((n.get("singleClickEdit")||s.singleClickEdit)&&!n.get("suppressClickEdit"))||e.shiftKey&&0!=(null==i?void 0:i.getCellRanges().length)||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!fc()||Ll("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,Kl.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"===typeof t.onCellDoubleClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{t.onCellDoubleClicked(i)}))}),0);!this.beans.gos.get("singleClickEdit")&&!this.beans.gos.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,o=e.target,{cellCtrl:r,beans:s}=this,{eventService:a,rangeService:l,focusService:u}=s;if(this.isRightClickInExistingRange(e))return;const c=l&&0!=l.getCellRanges().length;if(!n||!c){const e=cc()&&!r.isEditing()&&!Wc(o);r.focusCell(e)}if(n&&c&&!u.isCellFocused(r.getCellPosition())){e.preventDefault();const t=u.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:n}=t,o=s.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n}),r=null==o?void 0:o.getCellCtrl(e);(null==r?void 0:r.isEditing())&&r.stopEditing(),u.setFocusedCell({column:e,rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(o)){if(l){const e=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(e);else{const n=t||i;l.setRangeToCell(e,n)}}a.dispatchEvent(this.cellCtrl.createEvent(e,Kl.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return Kc(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,Kl.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,Kl.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){}},Hg=class extends Bl{constructor(e,t,i,n,o){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=o}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Fd.ENTER:this.onEnterKeyDown(e);break;case Fd.F2:this.onF2KeyDown(e);break;case Fd.ESCAPE:this.onEscapeKeyDown(e);break;case Fd.TAB:this.onTabKeyDown(e);break;case Fd.BACKSPACE:case Fd.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Fd.DOWN:case Fd.UP:case Fd.RIGHT:case Fd.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var i;const{cellCtrl:n,beans:o,rowNode:r}=this,{gos:s,rangeService:a,eventService:l}=o;if(!n.isEditing()){if(l.dispatchEvent({type:Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Ud(e,s.get("enableCellEditingOnBackspace"))){if(a&&s.get("enableRangeSelection"))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const e=n.getColumn(),t=null!=(i=this.beans.valueService.parseValue(e,r,"",r.getValueFromValueService(e)))?i:null;r.setDataValue(e,t,"cellClear")}}else n.startRowOrCellEdit(e,t);l.dispatchEvent({type:Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?Fd.UP:Fd.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Fd.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Fd.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const t=e.key;" "===t?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(t,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),n=!i;if(n||!t.get("suppressRowDeselection")){const t=this.beans.gos.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"});void 0===i&&0===o&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},Bg=class extends sh{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(_d("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const t=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",t),e.dataTransfer.setData("text/plain",t)}catch(t){}};if(t){t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e}))}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};Js([ja],Bg.prototype,"postConstruct",1);var Wg=class{static getHeaderClassesFromColDef(e,t,i,n){return na(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,n)}static getToolPanelClassesFromColDef(e,t,i,n){return na(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,n)}static refreshFirstAndLastStyles(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColumnAtEdge(t,"last"))}static getClassParams(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}static getColumnClassesFromCollDef(e,t,i,n,o){if(na(e))return[];let r;if("function"===typeof e){r=e(this.getClassParams(t,i,n,o))}else r=e;return"string"===typeof r?[r]:Array.isArray(r)?[...r]:[]}},zg=0,Ug=class e extends Bl{constructor(e,t,i,n){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=t,this.beans=i,this.rowCtrl=n,this.instanceId=e.getId()+"-"+zg++,this.colIdSanitised=iu(this.column.getId()),i.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new Og(this,this.beans),this.addDestroyFunc((()=>{var e;null==(e=this.cellPositionFeature)||e.destroy(),this.cellPositionFeature=null})),this.cellCustomStyleFeature=new Ig(this,this.beans),this.addDestroyFunc((()=>{var e;null==(e=this.cellCustomStyleFeature)||e.destroy(),this.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new Vg(this,this.beans,this.column),this.addDestroyFunc((()=>{var e;null==(e=this.cellMouseListenerFeature)||e.destroy(),this.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new Hg(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((()=>{var e;null==(e=this.cellKeyboardListenerFeature)||e.destroy(),this.cellKeyboardListenerFeature=null})),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc((()=>{this.disableTooltipFeature()})));this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new Ng(this.beans,this),this.addDestroyFunc((()=>{var e;null==(e=this.cellRangeFeature)||e.destroy(),this.cellRangeFeature=null})))}enableTooltipFeature(e,t){const i="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!i||this.isCellRenderer()||(t=()=>{const e=this.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const e=this.column.getColDef(),t=this.rowNode.data;if(e.tooltipField&&ia(t))return wa(t,e.tooltipField,this.column.isTooltipFieldContainsDots());const i=e.tooltipValueGetter;return i?i(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:t};this.tooltipFeature=new nh(n,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,t,i,n,o){var r,s,a,l;this.cellComp=e,this.eGui=t,this.printLayout=n,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(r=this.cellPositionFeature)||r.setComp(t),null==(s=this.cellCustomStyleFeature)||s.setComp(e),null==(a=this.tooltipFeature)||a.refreshToolTip(),null==(l=this.cellKeyboardListenerFeature)||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((e=>e())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const t=e.parentElement,i=this.beans.gos.getRowHeightForNode(this.rowNode).height,n=o=>{if(this.editing)return;if(!this.isAlive())return;const{paddingTop:r,paddingBottom:s,borderBottomWidth:a,borderTopWidth:l}=Yc(t),u=r+s+a+l,c=e.offsetHeight+u;if(o<5){const t=this.beans.gos.getDocument();if(!t||!t.contains(e)||0==c)return void window.setTimeout((()=>n(o+1)),0)}const d=Math.max(c,i);this.rowNode.setRowAutoHeight(d,this.column)},o=()=>n(0);o();const r=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc((()=>{r(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){var e;return null!=(e=this.column.getColDef().cellAriaRole)?e:"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){var e;return null!=(e=this.valueFormatted)?e:this.value}showValue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const i=this.getValueToDisplay();let n;if(this.rowNode.stub){const e=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),e)}else if(this.isCellRenderer()){const e=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),e)}this.cellComp.setRenderDetails(n,i,e),null==(t=this.cellRangeFeature)||t.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return t||i||n||o}startEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push((()=>{this.startEditing(e,t,i)}));const n=this.createCellEditorParams(e,t),o=this.column.getColDef(),r=this.beans.userComponentFactory.getCellEditorDetails(o,n);this.editCompDetails=r;const s=null!=(null==r?void 0:r.popupFromSelector)?r.popupFromSelector:!!o.cellEditorPopup,a=null!=(null==r?void 0:r.popupPositionFromSelector)?r.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(r,s,a,this.beans.gos.get("reactiveCustomComponents"));const l=this.createEvent(i,Kl.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(l)}setEditing(e){var t;this.editing!==e&&(this.editing=e,null==(t=this.cellRangeFeature)||t.refreshHandle())}stopRowOrCellEdit(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const t={newValueExists:!1};if(e)return t;const i=this.cellComp.getCellEditor();if(!i)return t;if(i.isCancelAfterEnd&&i.isCancelAfterEnd())return t;return{newValue:i.getValue(),newValueExists:!0}}saveNewValue(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;const i=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,i}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.editing)return!1;const{newValue:t,newValueExists:i}=this.takeValueFromCellEditor(e),n=this.rowNode.getValueFromValueService(this.column);let o=!1;return i&&(o=this.saveNewValue(n,t)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,t,!e&&!!o),o}dispatchEditingStoppedEvent(e,t,i){const n=Xs(Qs({},this.createEvent(null,Kl.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t,valueChanged:i});this.beans.eventService.dispatchEvent(n)}createCellEditorParams(e,t){return this.beans.gos.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:t,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:e=>this.beans.valueService.setValue(this.rowNode,this.column,e),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(e,t,i,n)=>this.registerRowDragger(e,t,n),setTooltip:(e,t)=>{var i;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),null==(i=this.tooltipFeature)||i.refreshToolTip()}})}parseValue(e){return this.beans.valueService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?null==(t=this.rowCtrl)||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var t,i,n,o;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),s=null!=e&&!!e.newData,a=null!=e&&!!e.suppressFlash||!!r.suppressCellFlash,l=null==r.field&&null==r.valueGetter&&null==r.showRowGroup,u=e&&e.forceRefresh||l||s,c=!!this.cellComp,d=this.updateAndFormatValue(c);if(c){if(u||d){this.showValue(s);const e=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!e&&(this.beans.gos.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),null==(t=this.cellCustomStyleFeature)||t.applyUserStyles(),null==(i=this.cellCustomStyleFeature)||i.applyClassesFromColDef()}null==(n=this.tooltipFeature)||n.refreshToolTip(),null==(o=this.cellCustomStyleFeature)||o.applyCellClassRules()}}stopEditingAndFocus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(t)}navigateAfterEdit(e){if(this.beans.gos.get("enterNavigatesVerticallyAfterEdit")){const t=e?Fd.UP:Fd.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.getCellPosition(),!1)}}flashCell(e){var t,i;const n=null!=(t=null==e?void 0:e.flashDuration)?t:null==e?void 0:e.flashDelay,o=null!=(i=null==e?void 0:e.fadeDuration)?i:null==e?void 0:e.fadeDelay;this.animateCell("data-changed",n,o)}animateCell(e,t,i){if(!this.cellComp)return;const n="ag-cell-".concat(e),o="ag-cell-".concat(e,"-animation"),{gos:r}=this.beans;t||(t=r.get("cellFlashDuration")),ia(i)||(i=r.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")}),i))}),t)}))}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var t;return null!=(t=this.callValueFormatter(e))?t:e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i)}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((()=>this.beans.gos.setDomData(t,e.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var t;null==(t=this.cellKeyboardListenerFeature)||t.processCharacter(e)}onKeyDown(e){var t;null==(t=this.cellKeyboardListenerFeature)||t.onKeyDown(e)}onMouseEvent(e,t){var i;null==(i=this.cellMouseListenerFeature)||i.onMouseEvent(e,t)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&(null==(e=this.cellPositionFeature)||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:t,beans:i}=this;Wg.refreshFirstAndLastStyles(e,t,i.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);Yu(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return null==(e=this.cellPositionFeature)?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t):this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(e,t)}))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.gos.get("suppressCellFocus"))return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(t&&(null==e?void 0:e.forceBrowserFocus)&&(this.focusEventToRestore=e));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus){this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i="fullRow"===this.beans.gos.get("editType");t||i||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:ta(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){if(!this.cellComp)return;if(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing){const e=this.getCellEditor();if(null==e?void 0:e.refresh){const{eventKey:t,cellStartedEdit:i}=this.editCompDetails.params,n=this.createCellEditorParams(t,i),o=this.column.getColDef(),r=this.beans.userComponentFactory.getCellEditorDetails(o,n);e.refresh(r.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,Kl.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{t.onCellContextMenu(i)}))}),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new wp;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Bg(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const n=this.createRowDragComp(e,t,i);n&&(this.customRowDragComp=n,this.addDestroyFunc((()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null})))}createRowDragComp(e,t,i){const n=this.beans.gos.get("pagination"),o=this.beans.gos.get("rowDragManaged"),r=this.beans.gos.isRowModelType("clientSide");if(o){if(!r)return void Ta("managed row dragging is only allowed in the Client Side Row Model");if(n)return void Ta("managed row dragging is not possible when doing pagination")}const s=new Sp((()=>this.value),this.rowNode,this.column,e,t,i);return this.beans.context.createBean(s),s}};Ug.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var jg=Ug,Kg=0,Yg=class e extends Bl{constructor(e,t,i,n,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gos=t.gos,this.rowNode=e,this.paginationPage=t.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=n,this.printLayout=o,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Kg++,this.rowId=iu(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!==typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=iu(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}setComp(e,t,i){const n={rowComp:e,element:t,containerType:i};this.allRowGuis.push(n),"left"===i?this.leftGui=n:"right"===i?this.rightGui=n:"fullWidth"===i?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter((t=>t.containerType!==e)),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0}}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach((e=>e.element.style.display=t))}initialiseRowComp(t){const i=this.gos;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach((e=>n.addOrRemoveCssClass(e,!0))),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Vu(t.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((()=>i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=iu(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(Fa((()=>{this.onTopChanged()})),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(Fa((()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gos.get("enableRangeSelection"))return void Ta("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const t=this.beans.localeService.getLocaleTextFunc(),i=new Sp((()=>"1 ".concat(t("rowDragRow","row"))),this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(i,this.beans.context);this.rowDragComps.push(n)}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!Wa.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((e=>{var t;return null==(t=null==e?void 0:e.rowComp)?void 0:t.getFullWidthCellRenderer()})):[null==(t=null==(e=this.fullWidthGui)?void 0:e.rowComp)?void 0:t.getFullWidthCellRenderer()]}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&i}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),t=this.rowNode.isFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(n);this.rowType=e?"FullWidthLoading":i?"FullWidthDetail":t?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isFullWidth())return;e||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={list:[],map:{}},o=(e,t)=>{n.list.push(t),n.map[e]=t};return t.forEach((t=>{const i=t.getInstanceId();let n=e.map[i];n||(n=new jg(t,this.rowNode,this.beans,this)),o(i,n)})),e.list.forEach((e=>{if(null!=n.map[e.getColumn().getInstanceId()])return;this.isCellEligibleToBeRemoved(e,i)?e.destroy():o(e.getColumn().getInstanceId(),e)})),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach((t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)}))}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:throw new Error("Unhandled case: ".concat(e))}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const t=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t);const i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const n=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){const i=!0;if(e.getColumn().getPinned()!=t)return i;const n=e.isEditing(),o=this.beans.focusService.isCellFocused(e.getCellPosition());if(n||o){const t=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(t)>=0)&&i}return i}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",t),this.addManagedPropertyListener("ensureDomOrder",t)}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=ia(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(e.element,t).params)),t=e(this.fullWidthGui,null),i=e(this.centerGui,null),n=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&i&&n&&o}addListeners(){this.addManagedListener(this.rowNode,yp.EVENT_HEIGHT_CHANGED,(()=>this.onRowHeightChanged())),this.addManagedListener(this.rowNode,yp.EVENT_ROW_SELECTED,(()=>this.onRowSelected())),this.addManagedListener(this.rowNode,yp.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,yp.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,yp.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,Kl.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Kl.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,Kl.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc((()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))})),this.addManagedPropertyListeners(["rowDragEntireRow"],(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((e=>{this.addRowDraggerToRow(e)})):(this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[])})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,yp.EVENT_ROW_INDEX_CHANGED,(()=>{this.getAllCellCtrls().forEach((e=>e.onRowIndexChanged()))})),this.addManagedListener(this.rowNode,yp.EVENT_CELL_CHANGED,(e=>{this.getAllCellCtrls().forEach((t=>t.onCellChanged(e)))}))}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update}))),this.allRowGuis.forEach((e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach((t=>{const i=0===e,n=1===e;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)}))}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),Vu(i.element,e&&t)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:ta(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.allRowGuis.find((t=>t.element.contains(e.target)));if(!((t?t.element:null)===e.target))return;const i=this.rowNode,n=this.beans.focusService.getFocusedCell(),o={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:n&&n.column};this.beans.navigationService.navigateToNextCell(e,e.key,o,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Fl(e))return;const t=this.allRowGuis.find((t=>t.element.contains(e.target))),i=t?t.element:null,n=i===e.target;let o=null;n||(o=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&n||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var e;const t=null==(e=this.allRowGuis.find((e=>rd(e.element))))?void 0:e.element;return t?t.getBoundingClientRect().top:0}onFullWidthRowFocused(e){var t;const i=this.rowNode,n=!!e&&(this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned),o=this.fullWidthGui?this.fullWidthGui.element:null==(t=this.centerGui)?void 0:t.element;o&&(o.classList.toggle("ag-full-width-focus",n),n&&o.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach((e=>{e!==t&&(i.list.push(e),i.map[e.getColumn().getInstanceId()]=e)})),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){if(Fl(e))return;const t=this.createRowEventWithSource(Kl.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Kc(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Fl(e)||this.lastMouseDownOnDragger)return;const t=this.createRowEventWithSource(Kl.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);const i=e.ctrlKey||e.metaKey,n=e.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const o=this.gos.get("rowMultiSelectWithClick"),r=!this.gos.get("suppressRowDeselection"),s="rowClicked";if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1,event:e,source:s}):i?r&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:e,source:s});else{const t=!o&&!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:t,rangeSelect:n,event:e,source:s})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType)return;if(!this.gos.get("detailRowAutoHeight"))return;const t=()=>{const t=e.clientHeight;if(null!=t&&t>0){const e=()=>{this.rowNode.setRowHeight(t),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(e,0)}},i=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(i),t()}createFullWidthCompDetails(e,t){const i=this.gos.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,i,n)=>this.addFullWidthRowDragging(e,t,i,n),setTooltip:(e,t)=>this.refreshRowTooltip(e,t)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(e,t){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:t};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new nh(i,this.beans))}addFullWidthRowDragging(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;if(!this.isFullWidth())return;const o=new Sp((()=>i),this.rowNode,void 0,e,t,n);this.createBean(o,this.beans.context),this.addDestroyFunc((()=>{this.destroyBean(o,this.beans.context)}))}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((e=>{e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(i,!1)}))}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-first",e)))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-last",t))))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.stoppingRowEdit)return;const t=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;let n=!1;for(const o of t){const t=o.stopEditing(e);i&&!e&&!n&&t&&(n=!0)}if(n){const e=this.createRowEvent(Kl.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(e)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach((t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-editing",e)));const t=e?this.createRowEvent(Kl.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Kl.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)}startRowEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.editingRow)return;this.getAllCellCtrls().reduce(((n,o)=>{const r=o===t;return r?o.startEditing(e,r,i):o.startEditing(null,r,i),!!n||o.isEditing()}),!1)&&this.setEditingRow(!0)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}),(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!1)))}))}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(e=>e.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(e){return"left"===e?"left":"right"===e?"right":null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&"function"===typeof e)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const t=this.gos.getCallback("getRowStyle");let i;if(t){i=t({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return i||e?Object.assign({},e,i):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-selected",t),$u(e.element,t);!e.element.contains(this.beans.gos.getActiveDomElement())||e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()}))}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gos.get("suppressRowDeselection"))return;const t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(t)}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",(()=>this.rowNode.onMouseEnter())),this.addManagedListener(e,"mouseleave",(()=>this.rowNode.onMouseLeave())),this.addManagedListener(this.rowNode,yp.EVENT_MOUSE_ENTER,(()=>{this.beans.dragService.isDragging()||this.gos.get("suppressRowHoverHighlight")||(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,yp.EVENT_MOUSE_LEAVE,(()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)})))}roundRowTopToBounds(e){const t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),n=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,o=n?"".concat(Math.min(i,n)-2,"px"):void 0;this.forEachGui(e,(e=>{e.element.style.height="".concat(t,"px"),o&&e.element.style.setProperty("--ag-line-height",o)}))}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.active=!1,!e&&this.gos.isAnimateRows()&&!this.isSticky()){if(null!=this.rowNode.rowTop){const e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}this.rowNode.setHovered(!1);const t=this.createRowEvent(Kl.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=e=>(e.list.forEach((e=>e.destroy())),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ia(e)){const t=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t),n="".concat(i,"px");this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")}getInitialRowTopShared(e){if(this.printLayout)return"";let t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(i);t=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return t+"px"}setRowTopStyle(e){this.allRowGuis.forEach((t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform("translateY(".concat(e,")"))))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach((i=>{i.getColumn()==e&&(t=i)})),null!=t||this.getAllCellCtrls().forEach((i=>{i.getColSpanningList().indexOf(e)>=0&&(t=i)})),t}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const t=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,o=i+this.rowNode.rowIndex+1;this.forEachGui(e,(e=>{e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",n),e.rowComp.addOrRemoveCssClass("ag-row-odd",!n),ju(e.element,o)}))}};Yg.DOM_DATA_KEY_ROW_CTRL="renderedRow";var qg=Yg,Qg=class extends Bl{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Ll("touchstart")?"touchstart":"mousedown"].forEach((e=>{const t=this.processMouseEvent.bind(this,e);this.addManagedListener(this.element,e,t)}))}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Fl(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!fc())return;const e=new ip(this.element);this.addManagedListener(e,ip.EVENT_LONG_TAP,(e=>{const t=this.getRowForEvent(e.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(e.touchEvent);this.handleContextMenuMouseEvent(void 0,e.touchEvent,t,i)})),this.addDestroyFunc((()=>e.destroy()))}getRowForEvent(e){let t=e.target;for(;t;){const e=this.gos.getDomData(t,qg.DOM_DATA_KEY_ROW_CTRL);if(e)return e;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const o=i?i.getRowNode():null,r=n?n.getColumn():null;let s=null;if(r){const i=e||t;n.dispatchCellContextMenuEvent(null!=i?i:null),s=this.valueService.getValue(r,o)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:o,column:r,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Nl(this.gos,e,jg.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Nl(this.gos,e,qg.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),o=e.getColumn(),r=e.isEditing();if(!Bd(this.gos,i,n,o,r)&&"keydown"===t){!r&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),Hd(i)&&e.processCharacter(i)}if("keydown"===t){const t=e.createEvent(i,Kl.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(t)}}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),o=this.focusService.getFocusedCell(),r=o&&o.column;if(!Bd(this.gos,i,n,r,!1)){const n=i.key;if("keydown"===t)switch(n){case Fd.PAGE_HOME:case Fd.PAGE_END:case Fd.PAGE_UP:case Fd.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case Fd.UP:case Fd.DOWN:e.onKeyboardNavigate(i);break;case Fd.TAB:e.onTabKeyDown(i)}}if("keydown"===t){const t=e.createRowEvent(Kl.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(t)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!this.mouseEventService.isEventFromThisGrid(e))return;const i=zd(e);return i===Fd.A?this.onCtrlAndA(e):i===Fd.C?this.onCtrlAndC(e):i===Fd.D?this.onCtrlAndD(e):i===Fd.V?this.onCtrlAndV(e):i===Fd.X?this.onCtrlAndX(e):i===Fd.Y?this.onCtrlAndY():i===Fd.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[e,i]=[t.isEmpty("top"),t.isEmpty("bottom")],o=e?null:"top";let r,s;i?(r=null,s=this.paginationProxy.getRowCount()-1):(r="bottom",s=t.getPinnedBottomRowData().length-1);const a=this.columnModel.getAllDisplayedColumns();if(oa(a))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:s,rowEndPinned:r,columnStart:a[0],columnEnd:hl(a)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);(null==t?void 0:t.isEditing())||(null==i?void 0:i.isEditing())||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);(null==t?void 0:t.isEditing())||(null==i?void 0:i.isEditing())||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);(null==t?void 0:t.isEditing())||(null==i?void 0:i.isEditing())||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};Js([qa("mouseEventService")],Qg.prototype,"mouseEventService",2),Js([qa("valueService")],Qg.prototype,"valueService",2),Js([qa("menuService")],Qg.prototype,"menuService",2),Js([qa("ctrlsService")],Qg.prototype,"ctrlsService",2),Js([qa("navigationService")],Qg.prototype,"navigationService",2),Js([qa("focusService")],Qg.prototype,"focusService",2),Js([qa("undoRedoService")],Qg.prototype,"undoRedoService",2),Js([qa("columnModel")],Qg.prototype,"columnModel",2),Js([qa("paginationProxy")],Qg.prototype,"paginationProxy",2),Js([qa("pinnedRowModel")],Qg.prototype,"pinnedRowModel",2),Js([Qa("rangeService")],Qg.prototype,"rangeService",2),Js([Qa("clipboardService")],Qg.prototype,"clipboardService",2),Js([ja],Qg.prototype,"postConstruct",1);var Xg=class extends Bl{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()})),this.addManagedListener(this.eventService,Kl.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=Qc(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let t=this.getPinnedColumnsOverflowingViewport(e-50);const i=this.gos.getCallback("processUnpinnedColumns");if(t.length){if(i){t=i({columns:t,viewportWidth:e})}this.columnModel.setColumnsPinned(t,null,"viewportSizeFeature")}}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];const i=[...this.columnModel.getDisplayedLeftColumns()],n=[...this.columnModel.getDisplayedRightColumns()];let o=0,r=0;const s=[];let a=t-0-e;for(;(r<i.length||o<n.length)&&a>0;){if(o<n.length){const e=n[o++];a-=e.getActualWidth(),s.push(e)}if(r<i.length&&a>0){const e=i[r++];a-=e.getActualWidth(),s.push(e)}}return s}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=qc(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==e){this.bodyHeight=e;const t={type:Kl.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(t)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};Js([qa("ctrlsService")],Xg.prototype,"ctrlsService",2),Js([qa("pinnedWidthService")],Xg.prototype,"pinnedWidthService",2),Js([qa("columnModel")],Xg.prototype,"columnModel",2),Js([qa("scrollVisibleService")],Xg.prototype,"scrollVisibleService",2),Js([ja],Xg.prototype,"postConstruct",1);var $g=class extends Bl{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;zc(this.element,t),gd(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};Js([qa("pinnedWidthService")],$g.prototype,"pinnedWidthService",2),Js([ja],$g.prototype,"postConstruct",1);var Jg=class extends Bl{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;zc(this.element,t),gd(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};Js([qa("pinnedWidthService")],Jg.prototype,"pinnedWidthService",2),Js([ja],Jg.prototype,"postConstruct",1);var Zg=class extends Bl{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?"".concat(e,"px"):"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};Js([qa("rowContainerHeightService")],Zg.prototype,"maxDivHeightScaler",2),Js([ja],Zg.prototype,"postConstruct",1);var ef=class extends Bl{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",(e=>{e.currentValue?this.enableFeature():this.disableFeature()})),this.addDestroyFunc((()=>this.disableFeature()));this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};Js([qa("dragService")],ef.prototype,"dragService",2),Js([Qa("rangeService")],ef.prototype,"rangeService",2),Js([ja],ef.prototype,"postConstruct",1);var tf=class extends Bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gos.isDomLayout("print"),i=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),o=e.getDisplayedColumnsRightWidth();let r;if(t)r=i+n+o;else if(r=i,this.addSpacer){0===(this.gos.get("enableRtl")?n:o)&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.gos.getScrollbarWidth())}this.callback(r)}};Js([qa("columnModel")],tf.prototype,"columnModel",2),Js([qa("scrollVisibleService")],tf.prototype,"scrollVisibleService",2),Js([ja],tf.prototype,"postConstruct",1);var nf=(e=>(e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.FULL_WIDTH="fullWidth",e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight",e.TOP_CENTER="topCenter",e.TOP_FULL_WIDTH="topFullWidth",e.STICKY_TOP_LEFT="stickyTopLeft",e.STICKY_TOP_RIGHT="stickyTopRight",e.STICKY_TOP_CENTER="stickyTopCenter",e.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",e.STICKY_BOTTOM_LEFT="stickyBottomLeft",e.STICKY_BOTTOM_RIGHT="stickyBottomRight",e.STICKY_BOTTOM_CENTER="stickyBottomCenter",e.STICKY_BOTTOM_FULL_WIDTH="stickyBottomFullWidth",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e.BOTTOM_CENTER="bottomCenter",e.BOTTOM_FULL_WIDTH="bottomFullWidth",e))(nf||{});function of(e){switch(e){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":case"stickyBottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":case"stickyBottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":case"stickyBottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var rf=su([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["stickyBottomCenter","ag-sticky-bottom-container"],["stickyBottomLeft","ag-pinned-left-sticky-bottom"],["stickyBottomRight","ag-pinned-right-sticky-bottom"],["stickyBottomFullWidth","ag-sticky-bottom-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),sf=su([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"],["stickyBottomCenter","ag-sticky-bottom-viewport"]]),af=class e extends Bl{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer="topFullWidth"===this.name||"stickyTopFullWidth"===this.name||"stickyBottomFullWidth"===this.name||"bottomFullWidth"===this.name||"fullWidth"===this.name}static getRowContainerCssClasses(e){return{container:rf.get(e),viewport:sf.get(e)}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"stickyBottomLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"stickyBottomRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>this.viewportSizeFeature=this.createManagedBean(new Xg(this))))}registerWithCtrlsService(){switch(this.name){case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return;default:this.ctrlsService.register(this.name,this)}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new Qg(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const n=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right","stickyTopCenter","stickyTopLeft","stickyTopRight","stickyBottomCenter","stickyBottomLeft","stickyBottomRight"];this.forContainers(["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],(()=>{this.pinnedWidthFeature=this.createManagedBean(new $g(this.eContainer)),this.addManagedListener(this.eventService,Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED,(()=>this.onPinnedWidthChanged()))})),this.forContainers(["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],(()=>{this.pinnedWidthFeature=this.createManagedBean(new Jg(this.eContainer)),this.addManagedListener(this.eventService,Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(()=>this.onPinnedWidthChanged()))})),this.forContainers(["center","left","right","fullWidth"],(()=>this.createManagedBean(new Zg(this.eContainer,"center"===this.name?i:void 0)))),this.forContainers(n,(()=>this.createManagedBean(new ef(this.eContainer)))),this.forContainers(["center","topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],(()=>this.createManagedBean(new tf((e=>this.comp.setContainerWidth("".concat(e,"px"))))))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,(()=>this.onDisplayedColumnsChanged())),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(()=>this.onDisplayedColumnsWidthChanged())),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_ROWS_CHANGED,(e=>this.onDisplayedRowsChanged(e.afterScroll))),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth","stickyBottomCenter","stickyBottomLeft","stickyBottomRight","stickyBottomFullWidth"].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=this.gos.isDomLayout("print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],(()=>{this.addManagedListener(this.eViewport,"scroll",(()=>this.eViewport.scrollLeft=0))}))}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const e=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",e)))}onHorizontalViewportChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,i,e)}getCenterWidth(){return Qc(this.eViewport)}getCenterViewportScrollLeft(){return ed(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((()=>t()))}isViewportInTheDOMTree(){return od(this.eViewport)}getViewportScrollLeft(){return ed(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||dd(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform="translateX(".concat(e,"px)")}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){td(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!e.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getRowCtrls();if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=this.gos.isDomLayout("print"),n=this.gos.get("embedFullWidthRows")||i,o=t.filter((e=>{const t=e.isFullWidth();return this.isFullWithContainer?!n&&t:n||!t}));this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"stickyBottomCenter":case"stickyBottomLeft":case"stickyBottomRight":case"stickyBottomFullWidth":return this.rowRenderer.getStickyBottomRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};Js([qa("dragService")],af.prototype,"dragService",2),Js([qa("ctrlsService")],af.prototype,"ctrlsService",2),Js([qa("columnModel")],af.prototype,"columnModel",2),Js([qa("resizeObserverService")],af.prototype,"resizeObserverService",2),Js([qa("rowRenderer")],af.prototype,"rowRenderer",2),Js([ja],af.prototype,"postConstruct",1);var lf=af,uf='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'.concat("topLeft",'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="',"topCenter",'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="',"topRight",'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="',"topFullWidth",'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="',"left",'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="',"center",'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="',"right",'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="',"fullWidth",'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="',"stickyTopLeft",'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="',"stickyTopCenter",'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="',"stickyTopRight",'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="',"stickyTopFullWidth",'"></ag-row-container>\n        </div>\n        <div class="ag-sticky-bottom" ref="eStickyBottom" role="presentation">\n            <ag-row-container ref="stickyBottomLeftContainer" name="',"stickyBottomLeft",'"></ag-row-container>\n            <ag-row-container ref="stickyBottomCenterContainer" name="',"stickyBottomCenter",'"></ag-row-container>\n            <ag-row-container ref="stickyBottomRightContainer" name="',"stickyBottomRight",'"></ag-row-container>\n            <ag-row-container ref="stickyBottomFullWidthContainer" name="',"stickyBottomFullWidth",'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="',"bottomLeft",'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="',"bottomCenter",'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="',"bottomRight",'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="',"bottomFullWidth",'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>'),cf=class extends sh{constructor(){super(uf)}init(){const e=(e,t)=>{const i="".concat(e,"px");t.style.minHeight=i,t.style.height=i},t={setRowAnimationCssOnBodyViewport:(e,t)=>this.setRowAnimationCssOnBodyViewport(e,t),setColumnCount:e=>Ku(this.getGui(),e),setRowCount:e=>Uu(this.getGui(),e),setTopHeight:t=>e(t,this.eTop),setBottomHeight:t=>e(t,this.eBottom),setTopDisplay:e=>this.eTop.style.display=e,setBottomDisplay:e=>this.eBottom.style.display=e,setStickyTopHeight:e=>this.eStickyTop.style.height=e,setStickyTopTop:e=>this.eStickyTop.style.top=e,setStickyTopWidth:e=>this.eStickyTop.style.width=e,setStickyBottomHeight:e=>this.eStickyBottom.style.height=e,setStickyBottomBottom:e=>this.eStickyBottom.style.bottom=e,setStickyBottomWidth:e=>this.eStickyBottom.style.width=e,setColumnMovingCss:(e,t)=>this.addOrRemoveCssClass(e,t),updateLayoutClasses:(e,t)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach((e=>{e.toggle("ag-layout-auto-height",t.autoHeight),e.toggle("ag-layout-normal",t.normal),e.toggle("ag-layout-print",t.print)})),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)},setAlwaysVerticalScrollClass:(e,t)=>this.eBodyViewport.classList.toggle(kg,t),registerBodyViewportResizeListener:e=>{const t=this.resizeObserverService.observeResize(this.eBodyViewport,e);this.addDestroyFunc((()=>t()))},setPinnedTopBottomOverflowY:e=>this.eTop.style.overflowY=this.eBottom.style.overflowY=e,setCellSelectableCss:(e,t)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach((i=>i.classList.toggle(e,t)))},setBodyViewportWidth:e=>this.eBodyViewport.style.width=e};this.ctrl=this.createManagedBean(new Fg),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||"multiple"===this.gos.get("rowSelection"))&&zu(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};Js([qa("resizeObserverService")],cf.prototype,"resizeObserverService",2),Js([Qa("rangeService")],cf.prototype,"rangeService",2),Js([ah("eBodyViewport")],cf.prototype,"eBodyViewport",2),Js([ah("eStickyTop")],cf.prototype,"eStickyTop",2),Js([ah("eStickyBottom")],cf.prototype,"eStickyBottom",2),Js([ah("eTop")],cf.prototype,"eTop",2),Js([ah("eBottom")],cf.prototype,"eBottom",2),Js([ah("gridHeader")],cf.prototype,"headerRootComp",2),Js([ah("eBody")],cf.prototype,"eBody",2),Js([ja],cf.prototype,"init",1);var df=class extends Bl{postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateImpl()))})):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const t={type:Kl.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(t)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};Js([qa("ctrlsService")],df.prototype,"ctrlsService",2),Js([qa("columnAnimationService")],df.prototype,"columnAnimationService",2),Js([ja],df.prototype,"postConstruct",1),df=Js([Ya("scrollVisibleService")],df);var hf=class extends Bl{constructor(){super(...arguments),this.gridInstanceId=hf.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[hf.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return Nl(this.gos,e.target,jg.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const e=t[hf.GRID_DOM_KEY];if(ia(e)){return e===this.gridInstanceId}t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gos.isDomLayout("normal"),i=e;let n,o;if(null!=i.clientX||null!=i.clientY?(n=i.clientX,o=i.clientY):(n=i.x,o=i.y),t){const e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();n+=e.getScrollFeature().getHScrollPosition().left,o+=t.top}return{x:n,y:o}}};hf.gridInstanceSequence=new Jd,hf.GRID_DOM_KEY="__ag_grid_instance",Js([qa("ctrlsService")],hf.prototype,"ctrlsService",2),hf=Js([Ya("mouseEventService")],hf);var pf=class extends Bl{constructor(){super(),this.onPageDown=Oa(this.onPageDown,100),this.onPageUp=Oa(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}))}handlePageScrollingKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.key,n=e.altKey,o=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case Fd.PAGE_HOME:case Fd.PAGE_END:o||n||(this.onHomeOrEndKey(i),a=!0);break;case Fd.LEFT:case Fd.RIGHT:case Fd.UP:case Fd.DOWN:if(!s)return!1;!o||n||r||(this.onCtrlUpDownLeftRight(i,s),a=!0);break;case Fd.PAGE_DOWN:case Fd.PAGE_UP:o||n||(a=this.handlePageUpDown(i,s,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===Fd.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){var t;const{scrollIndex:i,scrollType:n,scrollColumn:o,focusIndex:r,focusColumn:s}=e;ia(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),ia(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),null==(t=this.rangeService)||t.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),n=this.paginationProxy.getPixelOffset(),o=t.top+i,r=this.paginationProxy.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r):this.navigateToNextPage(e,r)}onPageUp(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),n=t.top,o=this.paginationProxy.getRowIndexAtPixel(n+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.getViewportHeight(),o=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow(),s=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(e.rowIndex),l=i?(null==a?void 0:a.rowHeight)-n-s:n-s,u=(null==a?void 0:a.rowTop)+l;let c,d=this.paginationProxy.getRowIndexAtPixel(u+s);if(d===e.rowIndex){const n=i?-1:1;t=d=e.rowIndex+n}i?(c="bottom",d<o&&(d=o),t<o&&(t=o)):(c="top",d>r&&(d=r),t>r&&(t=r)),this.isRowTallerThanView(d)&&(t=d,c="top"),this.navigateTo({scrollIndex:t,scrollType:c,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(e){var t;const i=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1,n=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow();let r=0,s=e.rowIndex;for(;s>=0&&s<=o;){const e=this.paginationProxy.getRow(s);if(e){const i=null!=(t=e.rowHeight)?t:0;if(r+i>n)break;r+=i}s+=i}return Math.max(0,Math.min(s,o))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),i=e.getScrollFeature().getVScrollPosition(),n=this.gos.getScrollbarWidth();let o=i.bottom-i.top;return t.isHorizontalScrollShowing()&&(o-=n),o}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"===typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n,column:o}=i;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})}onHomeOrEndKey(e){const t=e===Fd.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),n=t?i[0]:hl(i),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t);if(!1===n)if(i){const{rowIndex:i,rowPinned:n}=e.getRowPosition();(n?0===i:i===this.paginationProxy.getPageFirstRow())&&(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof jg&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault();else n&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!!(n||(n=this.rowRenderer.getRowByPosition(i),n&&n.isFullWidth()))&&!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let n,o=e.isEditing();if(!o&&e instanceof jg){const t=e.getRowCtrl();t&&(o=t.isEditing())}return n=o?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),null===n?n:n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const o=this.findNextCellToFocusOn(n,t,!0);return!1===o?null:null!=o&&(o.startEditing(null,!0,i),o.focusCell(!1),!0)}moveToNextEditingRow(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e.getCellPosition(),o=this.findNextCellToFocusOn(n,t,!0);if(!1===o)return null;if(null==o)return!1;const r=o.getCellPosition(),s=this.isCellEditable(n),a=this.isCellEditable(r),l=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned;if(s&&e.setFocusOutOnEditor(),!l){e.getRowCtrl().stopEditing();o.getRowCtrl().startRowEditing(void 0,void 0,i)}return a?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.columnModel.getAllDisplayedColumns();let n;n=e instanceof qg?Xs(Qs({},e.getRowPosition()),{column:t?i[0]:hl(i)}):e.getCellPosition();const o=this.findNextCellToFocusOn(n,t,!1);if(!1===o)return null;if(o instanceof jg)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),t);return ia(o)}findNextCellToFocusOn(e,t,i){var n;let o=e;for(;;){e!==o&&(e=o),t||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,t);const r=this.gos.getCallback("tabToNextCell");if(ia(r)){const n=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:o||null});if(!0===n||null===n)null===n&&Ta("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),o=e;else{if(!1===n)return!1;n.floating&&(Ta("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),n.rowPinned=n.floating),o={rowIndex:n.rowIndex,column:n.column,rowPinned:n.rowPinned}}}if(!o)return null;if(o.rowIndex<0){const e=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+o.rowIndex,column:o.column},fromCell:!0}),null}const s="fullRow"===this.gos.get("editType");if(i&&!s){if(!this.isCellEditable(o))continue}this.ensureCellVisible(o);const a=this.getCellByPosition(o);if(!a){const e=this.rowRenderer.getRowByPosition(o);if(!e||!e.isFullWidth()||i)continue;return e}if(!a.isSuppressNavigable())return null==(n=this.rangeService)||n.setRangeToCell(o),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let o=i,r=!1;for(;o&&(o===i||!this.isValidNavigateCell(o));)this.gos.get("enableRtl")?t===Fd.LEFT&&(o=this.getLastCellOfColSpan(o)):t===Fd.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),r=na(o);if(r&&e&&e.key===Fd.UP&&(o={rowIndex:-1,rowPinned:null,column:i.column}),n){const n=this.gos.getCallback("navigateToNextCell");if(ia(n)){const r=n({key:t,previousCellPosition:i,nextCellPosition:o||null,event:e});ia(r)?(r.floating&&(Ta("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),r.rowPinned=r.floating),o={rowPinned:r.rowPinned,rowIndex:r.rowIndex,column:r.column}):o=null}}if(!o)return;if(o.rowIndex<0){const t=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+o.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const s=this.getNormalisedPosition(o);s?this.focusPosition(s):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const o=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?hl(i):i[0])};this.focusPosition(r);const s=null!=o&&this.rowPositionUtils.before(r,o),a={type:Kl.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),null==(t=this.rangeService)||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:hl(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&(null==i?void 0:i.sticky))&&na(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};Js([qa("mouseEventService")],pf.prototype,"mouseEventService",2),Js([qa("paginationProxy")],pf.prototype,"paginationProxy",2),Js([qa("focusService")],pf.prototype,"focusService",2),Js([qa("columnModel")],pf.prototype,"columnModel",2),Js([qa("rowModel")],pf.prototype,"rowModel",2),Js([qa("ctrlsService")],pf.prototype,"ctrlsService",2),Js([qa("rowRenderer")],pf.prototype,"rowRenderer",2),Js([qa("headerNavigationService")],pf.prototype,"headerNavigationService",2),Js([qa("rowPositionUtils")],pf.prototype,"rowPositionUtils",2),Js([qa("cellNavigationService")],pf.prototype,"cellNavigationService",2),Js([qa("pinnedRowModel")],pf.prototype,"pinnedRowModel",2),Js([Qa("rangeService")],pf.prototype,"rangeService",2),Js([ja],pf.prototype,"postConstruct",1),pf=Js([Ya("navigationService")],pf);var gf=class e extends up{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedListener(e,"keydown",(e=>{Bd(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}))}};gf.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Js([ja],gf.prototype,"postConstruct",1);var ff=gf,mf=class extends sh{constructor(e,t,i,n,o){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.cellCtrl=t;const r=document.createElement("div");r.setAttribute("comp-id","".concat(this.getCompId())),this.setTemplateFromElement(r);const s=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(e,t)=>{null!=t&&""!=t?s.setAttribute(e,t):s.removeAttribute(e)};xu(s,t.getCellAriaRole()),a("col-id",t.getColumnIdSanitised());const l=t.getTabIndex();void 0!==l&&a("tabindex",l.toString());const u={addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setUserStyles:e=>cd(s,e),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:e=>this.includeSelection=e,setIncludeRowDrag:e=>this.includeRowDrag=e,setIncludeDndSource:e=>this.includeDndSource=e,setRenderDetails:(e,t,i)=>this.setRenderDetails(e,t,i),setEditDetails:(e,t,i)=>this.setEditDetails(e,t,i),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(u,this.getGui(),this.eCellWrapper,i,o)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const n=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){!(i||n)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(t)}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&null==this.eCellWrapper;if(n){const e=document.createElement("div");e.setAttribute("role","presentation"),e.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=e,this.getGui().appendChild(this.eCellWrapper)}const o=!i&&null!=this.eCellWrapper;o&&(nd(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const r=!e&&i,s=r&&null==this.eCellValue;if(s){const e=document.createElement("span");e.setAttribute("role","presentation"),e.setAttribute("class","ag-cell-value"),this.eCellValue=e,this.eCellWrapper.appendChild(this.eCellValue)}const a=!r&&null!=this.eCellValue;a&&(nd(this.eCellValue),this.eCellValue=void 0);const l=n||o||s||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const n=this.editorVersion,o=e.newAgStackInstance();if(!o)return;const{params:r}=e;o.then((e=>this.afterCellEditorCreated(n,e,r,t,i)));na(this.cellEditor)&&r.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();id(t);const i=null!=e?iu(e,!0):null;null!=i&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),nd(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),nd(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const t=!this.beans.gos.get("suppressAnimationFrame"),i=this.rendererVersion,{componentClass:n}=e,o=()=>{if(this.rendererVersion!==i||!this.isAlive())return;const t=e.newAgStackInstance(),o=this.afterCellRendererCreated.bind(this,i,n);t&&t.then(o)};t&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion)this.beans.context.destroyBean(i);else if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const e=this.getParentOfValue();id(e),e.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,n,o){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const r=n||void 0!==t.isPopup&&t.isPopup();r?this.addPopupCellEditor(i,o):this.addInCellEditor(),this.refreshEditStyles(!0,r),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null==(i=this.rowCtrl)||i.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui();if(e.contains(this.beans.gos.getActiveDomElement())&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){this.getParentOfValue().appendChild(this.cellEditorGui)}}addPopupCellEditor(e,t){"fullRow"===this.beans.gos.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new ff(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const o=this.beans.popupService,r=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),s=null!=t?t:i.getPopupPosition?i.getPopupPosition():"over",a=this.beans.gos.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:s,alignSide:a?"right":"left",keepWithinBounds:!0},u=o.positionPopupByComponent.bind(o,l),c=this.beans.localeService.getLocaleTextFunc(),d=o.addPopup({modal:r,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:c("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(this.beans.gos.getActiveDomElement())&&mc()&&e.focus({preventScroll:!0}),id(this.getParentOfValue())}},vf=class extends sh{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id","".concat(this.getCompId())),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);const o=this.getGui(),r=o.style;this.domOrder=this.rowCtrl.getDomOrder(),xu(o,"row");const s=this.rowCtrl.getTabIndex();null!=s&&o.setAttribute("tabindex",s.toString());const a={setDomOrder:e=>this.domOrder=e,setCellCtrls:e=>this.setCellCtrls(e),showFullWidth:e=>this.showFullWidth(e),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setUserStyles:e=>cd(o,e),setTop:e=>r.top=e,setTransform:e=>r.transform=e,setRowIndex:e=>o.setAttribute("row-index",e),setRowId:e=>o.setAttribute("row-id",e),setRowBusinessKey:e=>o.setAttribute("row-business-key",e),refreshFullWidth:e=>this.refreshFullWidth(e)};e.setComp(a,this.getGui(),i),this.addDestroyFunc((()=>{e.unsetComp(i)}))}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?"transform: ".concat(t):"top: ".concat(this.rowCtrl.getInitialRowTop(e))}showFullWidth(e){const t=e.newAgStackInstance();t&&t.then((e=>{if(this.isAlive()){const t=e.getGui();this.getGui().appendChild(t),this.rowCtrl.setupDetailRowAutoHeight(t),this.setFullWidthRowComp(e)}else this.beans.context.destroyBean(e)}))}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach((e=>{const i=e.getInstanceId();null==this.cellComps[i]?this.newCellComp(e):t[i]=null}));const i=Ca(t).filter((e=>null!=e));this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach((e=>{const i=this.cellComps[e.getInstanceId()];i&&t.push(i.getGui())})),ld(this.getGui(),t)}newCellComp(e){const t=new mf(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Ca(this.cellComps).filter((e=>null!=e));this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc((()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)}))}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach((e=>{if(!e)return;const t=e.getCtrl().getInstanceId();this.cellComps[t]===e&&(e.detach(),e.destroy(),this.cellComps[t]=null)}))}refreshFullWidth(e){const{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;const i=e();return t.refresh(i)}};var Cf=class extends sh{constructor(){super(function(){const e=sh.elementGettingCreated.getAttribute("name"),t=lf.getRowContainerCssClasses(e);let i;return i="center"===e||"topCenter"===e||"stickyTopCenter"===e||"bottomCenter"===e||"stickyBottomCenter"===e?'<div class="'.concat(t.viewport,'" ref="eViewport" role="presentation">\n                <div class="').concat(t.container,'" ref="eContainer"></div>\n            </div>'):'<div class="'.concat(t.container,'" ref="eContainer"></div>'),i}()),this.rowComps={},this.name=sh.elementGettingCreated.getAttribute("name"),this.type=of(this.name)}postConstruct(){const e={setViewportHeight:e=>this.eViewport.style.height=e,setRowCtrls:e=>{let{rowCtrls:t}=e;return this.setRowCtrls(t)},setDomOrder:e=>{this.domOrder=e},setContainerWidth:e=>this.eContainer.style.width=e};this.createManagedBean(new lf(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=Qs({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;e.forEach((e=>{const i=e.getInstanceId(),n=t[i];if(n)this.rowComps[i]=n,delete t[i],this.ensureDomOrder(n.getGui());else{if(!e.getRowNode().displayed)return;const t=new vf(e,this.beans,this.type);this.rowComps[i]=t,this.appendRow(t.getGui())}})),Ca(t).forEach((e=>{this.eContainer.removeChild(e.getGui()),e.destroy()})),xu(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?ud(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(ad(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};Js([qa("beans")],Cf.prototype,"beans",2),Js([ah("eViewport")],Cf.prototype,"eViewport",2),Js([ah("eContainer")],Cf.prototype,"eContainer",2),Js([ja],Cf.prototype,"postConstruct",1),Js([Ka],Cf.prototype,"preDestroy",1);var yf=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach((e=>{e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ep.ICON_PINNED:Ep.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};Js([qa("columnModel")],yf.prototype,"columnModel",2),Js([qa("gridOptionsService")],yf.prototype,"gos",2);var wf=class{static attemptMoveColumns(e){const{isFromHeader:t,hDirection:i,xPosition:n,fromEnter:o,fakeEvent:r,pinned:s,gos:a,columnModel:l}=e,u=0===i,c=1===i;let{allMovingColumns:d}=e;if(t){let e=[];d.forEach((t=>{var i;let n=null,o=t.getParent();for(;null!=o&&1===o.getDisplayedLeafColumns().length;)n=o,o=o.getParent();if(null!=n){(!!(null==(i=n.getColGroupDef())?void 0:i.marryChildren)?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach((t=>{e.includes(t)||e.push(t)}))}else e.includes(t)||e.push(t)})),d=e}const h=d.slice();l.sortColumnsLikeGridColumns(h);const p=this.calculateValidMoves({movingCols:h,draggingRight:c,xPosition:n,pinned:s,gos:a,columnModel:l}),g=this.calculateOldIndex(h,l);if(0===p.length)return;const f=p[0];let m=null!==g&&!o;if(t&&(m=null!==g),m&&!r){if(u&&f>=g)return;if(c&&f<=g)return}const v=l.getAllDisplayedColumns();let C=[],y=null;for(let w=0;w<p.length;w++){const e=p[w],t=l.getProposedColumnOrder(h,e);if(!l.doesOrderPassRules(t))continue;const i=t.filter((e=>v.includes(e)));if(null===y)y=i;else if(!pl(i,y))break;const n=this.groupFragCount(t);C.push({move:e,fragCount:n})}return 0!==C.length?(C.sort(((e,t)=>e.fragCount-t.fragCount)),this.moveColumns(d,C[0].move,"uiColumnMoved",!1,l)):void 0}static moveColumns(e,t,i,n,o){return o.moveColumns(e,t,i,n),n?null:{columns:e,toIndex:t}}static calculateOldIndex(e,t){const i=t.getAllGridColumns(),n=fl(e.map((e=>i.indexOf(e)))),o=n[0];return hl(n)-o!==n.length-1?null:o}static groupFragCount(e){function t(e){let t=[],i=e.getOriginalParent();for(;null!=i;)t.push(i),i=i.getOriginalParent();return t}let i=0;for(let n=0;n<e.length-1;n++){let o=t(e[n]),r=t(e[n+1]);[o,r]=o.length>r.length?[o,r]:[r,o],o.forEach((e=>{-1===r.indexOf(e)&&i++}))}return i}static getDisplayedColumns(e,t){switch(t){case"left":return e.getDisplayedLeftColumns();case"right":return e.getDisplayedRightColumns();default:return e.getDisplayedCenterColumns()}}static calculateValidMoves(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:o,gos:r,columnModel:s}=e;if(r.get("suppressMovableColumns")||t.some((e=>e.getColDef().suppressMovable)))return[];const a=this.getDisplayedColumns(s,o),l=s.getAllGridColumns(),u=a.filter((e=>xl(t,e))),c=a.filter((e=>!xl(t,e))),d=l.filter((e=>!xl(t,e)));let h,p=0,g=n;if(i){let e=0;u.forEach((t=>e+=t.getActualWidth())),g-=e}if(g>0){for(let e=0;e<c.length;e++){if(g-=c[e].getActualWidth(),g<0)break;p++}i&&p++}if(p>0){const e=c[p-1];h=d.indexOf(e)+1}else h=d.indexOf(c[0]),-1===h&&(h=0);const f=[h],m=(e,t)=>e-t;if(i){let e=h+1;const t=l.length-1;for(;e<=t;)f.push(e),e++;f.sort(m)}else{let e=h;const t=l.length-1;let i=l[e];for(;e<=t&&a.indexOf(i)<0;)e++,f.push(e),i=l[e];e=h-1;const n=0;for(;e>=n;)f.push(e),e--;f.sort(m).reverse()}return f}static normaliseX(e,t,i,n,o){const r=o.getHeaderRowContainerCtrl(t).getViewport();if(i&&(e-=r.getBoundingClientRect().left),n.get("enableRtl")){e=r.clientWidth-e}return null==t&&(e+=o.get("center").getCenterViewportScrollLeft()),e}},bf=class{constructor(e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!ia(e)}init(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}))}getIconName(){return this.pinned?Ep.ICON_PINNED:Ep.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const i=e.dragItem.visibleState,n=(t||[]).filter((e=>i[e.getId()]));this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){const n=e.filter((e=>!e.getColDef().lockVisible));this.columnModel.setColumnsVisible(n,t,i)}}setColumnsPinned(e,t,i){if(e){const n=e.filter((e=>!e.getColDef().lockPinned));this.columnModel.setColumnsPinned(n,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){if(this.lastMovedInfo){const{columns:e,toIndex:t}=this.lastMovedInfo;wf.moveColumns(e,t,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,na(e.hDirection))return;const o=wf.normaliseX(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(o);const r=this.normaliseDirection(e.hDirection),s=e.dragSource.type,a=(null==(n=e.dragSource.getDragItem().columns)?void 0:n.filter((e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned)))||[],l=wf.attemptMoveColumns({allMovingColumns:a,isFromHeader:1===s,hDirection:r,xPosition:o,pinned:this.pinned,fromEnter:t,fakeEvent:i,gos:this.gos,columnModel:this.columnModel});l&&(this.lastMovedInfo=l)}normaliseDirection(e){if(!this.gos.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:console.error("AG Grid: Unknown direction ".concat(e))}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Ep.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Ep.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ep.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const e=this.lastDraggingEvent.dragItem.columns.filter((e=>!e.getColDef().lockPinned));if(e.length>0&&(this.dragAndDropService.setGhostIcon(Ep.ICON_PINNED),this.failedMoveAttempts>7)){const t=this.needToMoveLeft?"left":"right";this.setColumnsPinned(e,t,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};Js([qa("columnModel")],bf.prototype,"columnModel",2),Js([qa("dragAndDropService")],bf.prototype,"dragAndDropService",2),Js([qa("gridOptionsService")],bf.prototype,"gos",2),Js([qa("ctrlsService")],bf.prototype,"ctrlsService",2),Js([ja],bf.prototype,"init",1);var Ef=class extends Bl{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady((e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}}))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new bf(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new yf(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};Js([qa("dragAndDropService")],Ef.prototype,"dragAndDropService",2),Js([qa("columnModel")],Ef.prototype,"columnModel",2),Js([qa("ctrlsService")],Ef.prototype,"ctrlsService",2),Js([ja],Ef.prototype,"postConstruct",1),Js([ja],Ef.prototype,"init",1);var Sf=class e extends Dg{constructor(t){super(e.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const e=this.getGui();var t,i;t="col-id",null!=(i=this.column.getColId())&&""!=i?e.setAttribute(t,i):e.removeAttribute(t);const n={setWidth:t=>e.style.width=t,addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setAriaSort:t=>t?Qu(e,t):Xu(e),setUserCompDetails:e=>this.setUserCompDetails(e),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper);const o=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",o)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then((e=>this.afterCompCreated(t,e)))}afterCompCreated(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)}};Sf.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',Js([ah("eResize")],Sf.prototype,"eResize",2),Js([ah("eHeaderCompWrapper")],Sf.prototype,"eHeaderCompWrapper",2),Js([ja],Sf.prototype,"postConstruct",1),Js([Ka],Sf.prototype,"destroyHeaderComp",1);var xf=Sf,Rf=class e extends Dg{constructor(t){super(e.TEMPLATE,t)}postConstruct(){const e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId());const t={addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setResizableDisplayed:e=>zc(this.eResize,e),setWidth:t=>e.style.width=t,setAriaExpanded:t=>{return i="aria-expanded",void 0!=(n=t)?e.setAttribute(i,n):e.removeAttribute(i);var i,n},setUserCompDetails:e=>this.setUserCompDetails(e),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(t,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then((e=>this.afterHeaderCompCreated(e)))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive())return void t();const i=this.getGui(),n=e.getGui();i.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}};Rf.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Js([ah("eResize")],Rf.prototype,"eResize",2),Js([ja],Rf.prototype,"postConstruct",1);var Tf=Rf,Df=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Df||{}),Pf=class extends sh{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate('<div class="'.concat(this.ctrl.getHeaderRowClass(),'" role="row"></div>'))}init(){ju(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:(e,t)=>this.setHeaderCtrls(e,t),setWidth:e=>this.getGui().style.width=e};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach((e=>{const t=e.getInstanceId();let n=i[t];delete i[t],null==n&&(n=this.createHeaderComp(e),this.getGui().appendChild(n.getGui())),this.headerComps[t]=n})),fa(i,((e,t)=>{this.getGui().removeChild(t.getGui()),this.destroyBean(t)})),t){const e=Ca(this.headerComps);e.sort(((e,t)=>e.getCtrl().getColumnGroupChild().getLeft()-t.getCtrl().getColumnGroupChild().getLeft()));const t=e.map((e=>e.getGui()));ld(this.getGui(),t)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new Tf(e);break;case"filter":t=new Ag(e);break;default:t=new xf(e)}return this.createBean(t),t.setParentComponent(this),t}};Js([ja],Pf.prototype,"init",1),Js([Ka],Pf.prototype,"destroyHeaderCtrls",1);var Af=0,Mf=class e extends Bl{constructor(e,t,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=t,this.instanceId=e.getUniqueId()+"-"+Af++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],(()=>this.refreshTabIndex()))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.focusService.getFocusedHeader();return Wd(this.gos,e,t,i)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){this.comp&&this.column&&(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:i}=this;Wg.refreshFirstAndLastStyles(e,t,i.columnModel)}refreshAriaColIndex(){const{beans:e,column:t}=this,i=e.columnModel.getAriaColumnIndex(t);Yu(this.eGui,i)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var t;const i=this.gos.getActiveDomElement(),n=e.key===Fd.LEFT||e.key===Fd.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),i!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n)return;const o=e.key===Fd.LEFT!==this.gos.get("enableRtl"),r=bp[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const i=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(i,e.shiftKey),null==(t=this.resizeFeature)||t.toggleColumnResizing(!0)}else this.moveHeader(r)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e);if(this.column.getPinned()){const e=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),n=Qc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(e+i+t>n){if(!(n>e+i))return 0;t=n-e-i}}return t}getResizeDiff(e){let t=e.key===Fd.LEFT!==this.gos.get("enableRtl");const i=this.column.getPinned(),n=this.gos.get("enableRtl");return i&&n!==("right"===i)&&(t=!t),(t?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout((()=>{var e;null==(e=this.resizeFeature)||e.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Fd.PAGE_DOWN:case Fd.PAGE_UP:case Fd.PAGE_HOME:case Fd.PAGE_END:t&&e.preventDefault()}}addDomData(){const t=e.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,t,this),this.addDestroyFunc((()=>this.gos.setDomData(this.eGui,t,null)))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const n=null!=e?e:t;this.gos.get("preventDefaultOnContextMenu")&&n.preventDefault();const o=i instanceof rl?i:void 0;this.menuService.isHeaderContextMenuEnabled(o)&&this.menuService.showHeaderContextMenu(o,e,t),this.dispatchColumnMouseEvent(Kl.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)}dispatchColumnMouseEvent(e,t){const i={type:e,column:t};this.eventService.dispatchEvent(i)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Mf.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Js([qa("pinnedWidthService")],Mf.prototype,"pinnedWidthService",2),Js([qa("focusService")],Mf.prototype,"focusService",2),Js([qa("userComponentFactory")],Mf.prototype,"userComponentFactory",2),Js([qa("ctrlsService")],Mf.prototype,"ctrlsService",2),Js([qa("dragAndDropService")],Mf.prototype,"dragAndDropService",2),Js([qa("menuService")],Mf.prototype,"menuService",2),Js([ja],Mf.prototype,"postConstruct",1);var _f=Mf,kf=class extends Bl{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?hl(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,rl.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=ia(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),o=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===o&&this.setLeft(o)}))}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print"))return t;if("left"===e.getPinned())return t;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===e.getPinned()){return i+this.beans.columnModel.getBodyContainerWidth()+t}return i+t}setLeft(e){let t;if(ia(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof rl)t=this.columnOrGroup;else{const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&qu(this.ariaEl,e.length),t=e[0]}}};Js([ja],kf.prototype,"postConstruct",1);var Ff=class extends Bl{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};Js([qa("columnHoverService")],Ff.prototype,"columnHoverService",2),Js([ja],Ff.prototype,"postConstruct",1);var Lf=class extends _f{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,rl.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=_d("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new gh(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Au(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();const i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let i=this.column;do{if(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Fd.UP:case Fd.DOWN:t||e.preventDefault();case Fd.LEFT:case Fd.RIGHT:if(t)return;e.stopPropagation();case Fd.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Fd.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Kc(e.relatedTarget,"ag-floating-filter");if(t&&i&&e.target===this.eGui){const e=this.lastFocusEvent,t=!(!e||e.key!==Fd.TAB);if(e&&t){const t=e.shiftKey;this.focusService.focusInto(this.eGui,t)}}const n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(){this.createManagedBean(new Ff([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new kf(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=t=>{if("filterDestroyed"===(null==t?void 0:t.source)&&this.context.isDestroyed())return;const i=this.comp.getFloatingFilterComp();i&&i.then((i=>{var n;if(i){const o=e.getCurrentFloatingFilterParentModel(this.column);i.onParentModelChanged(o,t?this.gos.addGridCommonParams({columns:null!=(n=t.columns)?n:[],type:Kl.EVENT_FILTER_CHANGED,source:"api"===t.source?"api":"columnFilter"}):null)}}))};this.destroySyncListener=this.addManagedListener(this.column,rl.EVENT_FILTER_CHANGED,t),e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const e="".concat(this.column.getActualWidth(),"px");this.comp.setWidth(e)};this.addManagedListener(this.column,rl.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,rl.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,t;const i=this.active;this.setupActive();const n=!i&&this.active;i&&!this.active&&(null==(e=this.destroySyncListener)||e.call(this),null==(t=this.destroyFilterChangedListener)||t.call(this));const o=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,r=this.comp.getFloatingFilterComp();r&&o?r.then((e=>{var t;!e||this.beans.filterManager.areFilterCompsDifferent(null!=(t=this.userCompDetails)?t:null,o)?this.updateCompDetails(o,n):this.updateFloatingFilterParams(o)})):this.updateCompDetails(o,n)}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;const i=e.params;null==(t=this.comp.getFloatingFilterComp())||t.then((e=>{let t=!1;if((null==e?void 0:e.refresh)&&"function"===typeof e.refresh){null!==e.refresh(i)&&(t=!0)}if(!t&&(null==e?void 0:e.onParamsUpdated)&&"function"===typeof e.onParamsUpdated){null!==e.onParamsUpdated(i)&&Ta("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}))}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Nf=class extends Bl{constructor(e,t,i,n,o){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=o}postConstruct(){const e=[];let t,i;const n=()=>{if(zc(this.eResize,t),!t)return;const n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(n),i){const t=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",t)};this.eResize.addEventListener("dblclick",i);const n=new ip(this.eResize);n.addEventListener(ip.EVENT_DOUBLE_TAP,i),e.push((()=>{this.eResize.removeEventListener("dblclick",i),n.removeEventListener(ip.EVENT_DOUBLE_TAP,i),n.destroy()}))}},o=()=>{e.forEach((e=>e())),e.length=0},r=()=>{const e=this.column.isResizable(),r=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||r!==i)&&(t=e,i=r,o(),n())};r(),this.addDestroyFunc(o),this.ctrl.addRefreshFunction(r)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:o}=this,r=this.normaliseResizeAmount(t),s=[{key:i,newWidth:o+r}];if(this.column.getPinned()){if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(r-n)>Qc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return}this.lastResizeAmount=r,this.columnModel.setColumnWidths(s,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,n="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}};Js([qa("horizontalResizeService")],Nf.prototype,"horizontalResizeService",2),Js([qa("pinnedWidthService")],Nf.prototype,"pinnedWidthService",2),Js([qa("ctrlsService")],Nf.prototype,"ctrlsService",2),Js([qa("columnModel")],Nf.prototype,"columnModel",2),Js([ja],Nf.prototype,"postConstruct",1);var Of=class extends Bl{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Ph),this.cbSelectAll.addCssClass("ag-header-select-all"),xu(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Kl.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Iu(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(i," (").concat(t,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(i," (").concat(t,")")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!("multiple"!==this.gos.get("rowSelection"))||(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return!("clientSide"!==t&&"serverSide"!==t)||(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(t,".")),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const o={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(o):this.selectionService.deselectAllRowNodes(o)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if("function"===typeof e){e=e(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))}return!!e&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};Js([qa("rowModel")],Of.prototype,"rowModel",2),Js([qa("selectionService")],Of.prototype,"selectionService",2);var If=class extends _f{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Nf(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Ff([this.column],t)),this.createManagedBean(new kf(this.column,t,this.beans)),this.createManagedBean(new gh(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,rl.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,t){var i,n;if(!this.column.isResizable())return;const o=this.column.getActualWidth(),r=null!=(i=this.column.getMinWidth())?i:0,s=null!=(n=this.column.getMaxWidth())?n:Number.MAX_SAFE_INTEGER,a=Math.min(Math.max(o+e,r),s);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:a}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:i,gos:n,ctrlsService:o}=this,r=this.getPinned(),s=t.getBoundingClientRect().left,a=i.getActualWidth(),l=0===e!==n.get("enableRtl"),u=wf.normaliseX(l?s-20:s+a+20,r,!0,n,o);wf.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:u,pinned:r,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:this.beans.columnModel}),o.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,t)=>{this.beans.sortController.setSortForColumn(this.column,e,!!t,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,t)=>{this.setupTooltip(e,t)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new Of(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Fd.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Fd.ENTER&&this.onEnterKeyDown(e),e.key===Fd.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();i&&i instanceof sp&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i="whenTruncated"===this.gos.get("tooltipShowMode"),n=this.eGui,o=this.column.getColDef();t||!i||o.headerComponent||(t=()=>{const e=n.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});const r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>{if(null!=e)return e;return this.column.getColDef().headerTooltip},shouldDisplayTooltip:t},s=this.createManagedBean(new nh(r));this.refreshFunctions.push((()=>s.refreshToolTip()))}setupClassesFromColDef(){const e=()=>{const e=this.column.getColDef(),t=Wg.getHeaderClassesFromColDef(e,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(t),t.forEach((e=>{i.has(e)?i.delete(e):this.comp.addOrRemoveCssClass(e,!0)})),i.forEach((e=>this.comp.addOrRemoveCssClass(e,!1)))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:n,dragAndDropService:o,gos:r}=this,{columnModel:s}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?Ep.ICON_HIDE:Ep.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:e=>{var t;if(a){const i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{var t;if(a){const i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColumnsVisible(i,!1,"uiColumnMoved")}}};o.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((e=>e()))}refreshHeaderComp(){const e=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass)&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const e=this.column.getActualWidth();this.comp.setWidth("".concat(e,"px"))};this.addManagedListener(this.column,rl.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,rl.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,rl.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,rl.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListener(this.column,rl.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:o,isSpanningTotal:r}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:s}=n,a=s.getColumnHeaderRowHeight();if(0===o)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height","".concat(a,"px"));i.addOrRemoveCssClass("ag-header-span-total",r);const l=o*(s.isPivotMode()?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());e.style.setProperty("top","".concat(-l,"px")),e.style.setProperty("height","".concat(a+l,"px"))}setupAutoHeight(e){const{columnModel:t,resizeObserverService:i}=this.beans,n=i=>{if(!this.isAlive())return;const{paddingTop:o,paddingBottom:r,borderBottomWidth:s,borderTopWidth:a}=Yc(this.getGui()),l=o+r+s+a,u=e.offsetHeight+l;if(i<5){const t=this.beans.gos.getDocument();if(!t||!t.contains(e)||0==u)return void window.setTimeout((()=>n(i+1)),0)}t.setColumnHeaderHeight(this.column,u)};let o,r=!1;const s=()=>{const e=this.column.isAutoHeaderHeight();e&&!r&&a(),!e&&r&&l()},a=()=>{r=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=i.observeResize(e,(()=>n(0)))},l=()=>{r=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};s(),this.addDestroyFunc((()=>l())),this.addManagedListener(this.column,rl.EVENT_WIDTH_CHANGED,(()=>r&&n(0))),this.addManagedListener(this.eventService,rl.EVENT_SORT_CHANGED,(()=>{r&&window.setTimeout((()=>n(0)))})),this.addRefreshFunction(s)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Ru(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort(((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0))).map((e=>this.ariaDescriptionProperties.get(e))).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",(()=>this.dispatchColumnMouseEvent(Kl.EVENT_COLUMN_HEADER_CLICKED,this.column))),this.addManagedListener(this.getGui(),"contextmenu",(e=>this.handleContextMenuMouseEvent(e,void 0,this.column)))}handleMouseOverChange(e){this.setActiveHeader(e);const t={type:e?Kl.EVENT_COLUMN_HEADER_MOUSE_OVER:Kl.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(t)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof sp?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Gf=class extends Bl{constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const t=[];this.columnGroup.getDisplayedLeafColumns().forEach((e=>{e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&this.columnModel.autoSizeColumns({columns:t,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized";const n=this.normaliseDragChange(t),o=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(o,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),n={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let o=null;if(e&&(o=this.columnModel.getDisplayedGroupAtDirection(this.columnGroup,"After")),o){const e=o.getDisplayedLeafColumns(),t=n.groupAfterColumns=e.filter((e=>e.isResizable())),i=n.groupAfterStartWidth=this.getInitialSizeOfColumns(t);n.groupAfterRatios=this.getSizeRatiosOfColumns(t,i)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:o,groupAfterStartWidth:r,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n,o,r;if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!=(n=this.resizeTakeFromCols)?n:void 0,groupAfterStartWidth:null!=(o=this.resizeTakeFromStartWidth)?o:void 0,groupAfterRatios:null!=(r=this.resizeTakeFromRatios)?r:void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{columnsToResize:o,resizeStartWidth:r,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,c=[];if(c.push({columns:o,ratios:s,width:t}),a){const e=t-r;c.push({columns:a,ratios:u,width:l-e})}this.columnModel.resizeColumnSets({resizeSets:c,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((e=>e.isResizable()))}getInitialSizeOfColumns(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}getSizeRatiosOfColumns(e,t){return e.map((e=>e.getActualWidth()/t))}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}};Js([qa("horizontalResizeService")],Gf.prototype,"horizontalResizeService",2),Js([qa("autoWidthCalculator")],Gf.prototype,"autoWidthCalculator",2),Js([qa("columnModel")],Gf.prototype,"columnModel",2),Js([ja],Gf.prototype,"postConstruct",1);var Vf=class extends Bl{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,jl.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push((()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((e=>e())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}};Js([ja],Vf.prototype,"postConstruct",1);var Hf=class extends _f{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const e=this.getGui();this.setDragSource(e)}},this.column=e}setComp(e,t,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc((()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))})),this.setupUserComp(),this.addHeaderMouseListeners();const n=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Ff(o,t)),this.createManagedBean(new kf(this.column,t,this.beans)),this.createManagedBean(new Vf(e,this.column)),this.resizeFeature=this.createManagedBean(new Gf(e,i,n,this.column)),this.createManagedBean(new gh(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(Kl.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:n,gos:o,ctrlsService:r}=this,s=o.get("enableRtl"),a=0===e,l=this.getPinned(),u=i.getBoundingClientRect(),c=u.left,d=u.width,h=wf.normaliseX(a!==s?c-20:c+d+20,l,!0,o,r),p=n.getGroupId(),g=this.focusService.getFocusedHeader();wf.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:t.columnModel});const f=n.getDisplayedLeafColumns(),m=a?f[0]:hl(f);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(m,"auto"),!this.isAlive()&&g&&this.restoreFocus(p,n,g)}restoreFocus(e,t,i){const n=t.getLeafColumns();if(!n.length)return;const o=n[0].getParent();if(!o)return;const r=this.findGroupWidthId(o,e);r&&this.focusService.focusHeaderPosition({headerPosition:Xs(Qs({},i),{column:r})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:e=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),e,"gridInitializing")},setTooltip:(e,t)=>{this.setupTooltip(e,t)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",(()=>this.dispatchColumnMouseEvent(Kl.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()))),this.addManagedListener(this.getGui(),"contextmenu",(e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())))}handleMouseOverChange(e){const t={type:e?Kl.EVENT_COLUMN_HEADER_MOUSE_OVER:Kl.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(t)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),n="whenTruncated"===this.gos.get("tooltipShowMode"),o=this.eGui;t||!n||(null==i?void 0:i.headerGroupComponent)||(t=()=>{const e=o.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});const r={getColumn:()=>this.column,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>null!=e?e:i&&i.headerTooltip,shouldDisplayTooltip:t};i&&(r.getColDef=()=>i),this.createBean(new nh(r))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,al.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,al.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=Wg.getHeaderClassesFromColDef(e,this.gos,null,this.column);if(this.column.isPadding()){t.push("ag-header-group-cell-no-group");this.column.getLeafColumns().every((e=>e.isSpanHeaderHeight()))&&t.push("ag-header-span-height")}else t.push("ag-header-group-cell-with-group");t.forEach((e=>this.comp.addOrRemoveCssClass(e,!0)))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),t=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach((e=>{this.addManagedListener(e,rl.EVENT_MOVING_CHANGED,t)})),t()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===Fd.ENTER){const e=this.column,t=!e.isExpanded();this.beans.columnModel.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving())return;if(this.removeDragSource(),!e)return;const{beans:t,column:i,displayName:n,gos:o,dragAndDropService:r}=this,{columnModel:s}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!o.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?Ep.ICON_HIDE:Ep.ICON_NOT_ALLOWED,dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),a.forEach((e=>e.setMoving(!0,"uiColumnDragged")))},onDragStopped:()=>a.forEach((e=>e.setMoving(!1,"uiColumnDragged"))),onGridEnter:e=>{var t;if(l){const i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColumnsVisible(i,!0,"uiColumnMoved")}},onGridExit:e=>{var t;if(l){const i=(null==(t=null==e?void 0:e.columns)?void 0:t.filter((e=>!e.getColDef().lockVisible)))||[];s.setColumnsVisible(i,!1,"uiColumnMoved")}}};r.addDragSource(u,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach((e=>i[e.getId()]=e.isVisible()));const n=[];return this.beans.columnModel.getAllDisplayedColumns().forEach((e=>{t.indexOf(e)>=0&&(n.push(e),Cl(t,e))})),t.forEach((e=>n.push(e))),{columns:n,visibleState:i}}isSuppressMoving(){let e=!1;this.column.getLeafColumns().forEach((t=>{(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));return e||this.gos.get("suppressMovableColumns")}},Bf=0,Wf=class extends Bl{constructor(e,t,i){super(),this.instanceId=Bf++,this.rowIndex=e,this.pinned=t,this.type=i;const n="group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass="ag-header-row ".concat(n)}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_VIRTUAL_COLUMNS_CHANGED,(e=>this.onVirtualColumnsChanged(e.afterScroll))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return da(this.headerCellCtrls).find((t=>t.getColumnGroupChild()===e))}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))}getWidthForRow(){const{columnModel:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans;let i=e.getHeaderRowCount();const n=[];let o=0;t.hasFloatingFilters()&&(i++,o=1);const r=e.getColumnGroupHeaderRowHeight(),s=e.getColumnHeaderRowHeight(),a=i-(1+o);for(let u=0;u<a;u++)n.push(r);n.push(s);for(let u=0;u<o;u++)n.push(e.getFloatingFiltersHeight());let l=0;for(let u=0;u<this.rowIndex;u++)l+=n[u];return{topOffset:l,rowHeight:n[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const i=e=>{const{focusService:t,columnModel:i}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return i.isDisplayed(e.getColumnGroupChild())};if(e)for(const[n,o]of e){i(o)?this.headerCellCtrls.set(n,o):this.destroyBean(o)}return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls)return;if(e.isEmptyGroup())return;const i=e.getUniqueId();let n;t&&(n=t.get(i),t.delete(i));if(n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(new Lf(e,this.beans,this));break;case"group":n=this.createBean(new Hf(e,this.beans,this));break;default:n=this.createBean(new If(e,this.beans,this))}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnModel:i}=this.beans;return["left",null,"right"].forEach((n=>{const o=i.getVirtualHeaderGroupRow(n,t);e=e.concat(o)})),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){if(!this.headerCellCtrls)return!1;const i=Array.from(this.headerCellCtrls.values()).find((t=>t.getColumnGroupChild()==e));return!!i&&i.focus(t)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach((e=>{this.destroyBean(e)})),this.headerCellCtrls=void 0,super.destroy()}};Js([qa("beans")],Wf.prototype,"beans",2),Js([ja],Wf.prototype,"postConstruct",1);var zf=class extends Bl{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,Kl.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new Ef(this.pinned,e);this.createManagedBean(t)}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new Jd,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const e=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<e;i++){const e=this.createBean(new Wf(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),(()=>{const i=t.next(),n=!this.hidden&&(null==this.columnsRowCtrl||!e||this.columnsRowCtrl.getRowIndex()!==i);(n||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),n&&(this.columnsRowCtrl=this.createBean(new Wf(i,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const i=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void i();const n=t.next();if(this.filtersRowCtrl){const t=this.filtersRowCtrl.getRowIndex()!==n;e&&!t||i()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Wf(n,this.pinned,"filter")))})();const n=this.getAllCtrls();this.comp.setCtrls(n),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){null!=e&&e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new tf((e=>this.comp.setCenterWidth("".concat(e,"px"))),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==i)return;const n=0==i,o=this.hidden!==n,r=this.gos.get("enableRtl"),s=this.gos.getScrollbarWidth(),a=this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)?i+s:i;this.comp.setPinnedContainerWidth("".concat(a,"px")),this.comp.setDisplayed(!n),o&&(this.hidden=n,this.refresh())};this.addManagedListener(this.eventService,Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,Kl.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,Kl.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof rl){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const t=this.getAllCtrls()[e];return t?t.getType():void 0}focusHeader(e,t,i){const n=this.getAllCtrls()[e];return!!n&&n.focusHeader(t,i)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};Js([qa("ctrlsService")],zf.prototype,"ctrlsService",2),Js([qa("scrollVisibleService")],zf.prototype,"scrollVisibleService",2),Js([qa("pinnedWidthService")],zf.prototype,"pinnedWidthService",2),Js([qa("columnModel")],zf.prototype,"columnModel",2),Js([qa("focusService")],zf.prototype,"focusService",2),Js([qa("filterManager")],zf.prototype,"filterManager",2);var Uf=class e extends sh{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:e=>this.setDisplayed(e),setCtrls:e=>this.setCtrls(e),setCenterWidth:e=>this.eCenterContainer.style.width=e,setViewportScrollLeft:e=>this.getGui().scrollLeft=e,setPinnedContainerWidth:e=>{const t=this.getGui();t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e}};this.createManagedBean(new zf(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const t="left"==this.pinned,i="right"==this.pinned,n=t?e.PINNED_LEFT_TEMPLATE:i?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(n),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;let i;this.headerRowComps={},this.rowCompsList=[];const n=e=>{const t=e.getGui();t.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(t),i&&ad(this.eRowContainer,t,i),i=t};e.forEach((e=>{const i=e.getInstanceId(),o=t[i];delete t[i];const r=o||this.createBean(new Pf(e));this.headerRowComps[i]=r,this.rowCompsList.push(r),n(r)})),Ca(t).forEach((e=>this.destroyRowComp(e)))}};Uf.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',Uf.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',Uf.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Js([ah("eCenterContainer")],Uf.prototype,"eCenterContainer",2),Js([ja],Uf.prototype,"init",1),Js([Ka],Uf.prototype,"destroyRowComps",1);var jf=Uf,Kf=class extends Bl{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCon=e.gridBodyCtrl}));const e=this.gos.getDocument();this.addManagedListener(e,"mousedown",(()=>this.setCurrentHeaderRowWithoutSpan(-1)))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n,column:o}=t,r=this.getHeaderRowCount(),s=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=s?this.headerPositionUtils.getColumnVisibleParent(o,n):this.headerPositionUtils.getColumnVisibleChild(o,n),c=!1;return a<0&&(a=0,l=o,c=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==u&&(this.currentHeaderRowWithoutSpan=u),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const n=this.focusService.getFocusedHeader(),o=2===e,r=this.gos.get("enableRtl");let s,a;if(-1!==this.currentHeaderRowWithoutSpan?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,o!==r?(a="Before",s=this.headerPositionUtils.findHeader(n,a)):(a="After",s=this.headerPositionUtils.findHeader(n,a)),s||!t)return this.focusService.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const e=this.gos.getCallback("tabToNextHeader");if(e)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:e,headerPosition:s,direction:a})}return this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let o,r=null;if("Before"===t?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),!r)return!1;const{column:s,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,null==r?void 0:r.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){if(e instanceof jl){const n=e.getDisplayedLeafColumns();t="Before"===i?hl(n):n[0]}else t=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(t)}}};Js([qa("focusService")],Kf.prototype,"focusService",2),Js([qa("headerPositionUtils")],Kf.prototype,"headerPositionUtils",2),Js([qa("ctrlsService")],Kf.prototype,"ctrlsService",2),Js([ja],Kf.prototype,"postConstruct",1),Kf=Js([Ya("headerNavigationService")],Kf);var Yf=class extends Bl{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new gh(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",n),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t,i=0,n=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(n++,i=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),s=n-(1+i);if(t=i*e.getFloatingFiltersHeight(),t+=s*o,t+=r,this.headerHeight===t)return;this.headerHeight=t;const a="".concat(t+1,"px");this.comp.setHeightAndMinHeight(a),this.eventService.dispatchEvent({type:Kl.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const e=this.columnModel.getAllDisplayedColumns().some((e=>e.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Fd.LEFT:t=2;case Fd.RIGHT:ia(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case Fd.UP:t=0;case Fd.DOWN:ia(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=null!=e?e:t;n!==this.eGui&&n!==this.ctrlsService.getHeaderRowContainerCtrl().getViewport()||this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!fc())return;const t=new ip(this.eGui);this.addManagedListener(t,ip.EVENT_LONG_TAP,(t=>{e(void 0,t.touchStart,t.touchEvent)})),this.addDestroyFunc((()=>t.destroy()))}};Js([qa("headerNavigationService")],Yf.prototype,"headerNavigationService",2),Js([qa("focusService")],Yf.prototype,"focusService",2),Js([qa("columnModel")],Yf.prototype,"columnModel",2),Js([qa("ctrlsService")],Yf.prototype,"ctrlsService",2),Js([qa("filterManager")],Yf.prototype,"filterManager",2),Js([qa("menuService")],Yf.prototype,"menuService",2);var qf=class e extends sh{constructor(){super(e.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(e,t)=>this.addOrRemoveCssClass(e,t),setHeightAndMinHeight:e=>{this.getGui().style.height=e,this.getGui().style.minHeight=e}};this.createManagedBean(new Yf).setComp(e,this.getGui(),this.getFocusableElement());const t=e=>{this.createManagedBean(e),this.appendChild(e)};t(new jf("left")),t(new jf(null)),t(new jf("right"))}};qf.TEMPLATE='<div class="ag-header" role="presentation"/>',Js([ja],qf.prototype,"postConstruct",1);var Qf=qf,Xf=class extends Bl{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(t);return()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};Js([qa("dragService")],Xf.prototype,"dragService",2),Js([qa("ctrlsService")],Xf.prototype,"ctrlsService",2),Xf=Js([Ya("horizontalResizeService")],Xf);var $f=class extends Bl{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,(n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})}),i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,o="left";const r=this.menuService.isLegacyMenuEnabled();!r&&this.gos.get("enableRtl")&&(n=1,o="right");let s=r?void 0:4*n,a=r?void 0:4;this.showPopup(e,(n=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:n,nudgeX:s,nudgeY:a,alignSide:o,keepWithinBounds:!0,position:"under",column:e})}),i,t,r)}showPopup(e,t,i,n,o){const r=e?this.createBean(new Tg(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!(null==r?void 0:r.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");let a;xu(s,"presentation"),s.classList.add("ag-menu"),o||s.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(s,"keydown",(e=>this.trapFocusWithin(e,s))),s.appendChild(null==r?void 0:r.getGui());const l=this.menuService.isColumnMenuAnchoringEnabled()?null!=n?n:this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=this.localeService.getLocaleTextFunc(),c=o&&"columnFilter"!==i?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:t=>{e.setMenuVisible(!1,"contextMenu");const o=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),o&&n&&rd(n)){const e=this.focusService.findTabbableParent(n);e&&e.focus()}null==r||r.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(s),anchorToElement:l,ariaLabel:c});d&&(this.hidePopup=a=d.hideFunc),r.afterInit().then((()=>{t(s),r.afterGuiAttached({container:i,hidePopup:a})})),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==Fd.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){const n={type:Kl.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:t,column:null!=i?i:null};this.eventService.dispatchEvent(n)}isMenuEnabled(e){var t;return e.isFilterAllowed()&&(null!=(t=e.getColDef().menuTabs)?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}};Js([qa("filterManager")],$f.prototype,"filterManager",2),Js([qa("popupService")],$f.prototype,"popupService",2),Js([qa("focusService")],$f.prototype,"focusService",2),Js([qa("ctrlsService")],$f.prototype,"ctrlsService",2),Js([qa("menuService")],$f.prototype,"menuService",2),$f=Js([Ya("filterMenuFactory")],$f);var Jf=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Jf||{}),Zf=class extends Bl{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:r,focusInnerElement:s,onFocusIn:a,onFocusOut:l,shouldStopEventPropagation:u,onTabKeyDown:c,handleKeyDown:d,eFocusableElement:h}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=s,this.eFocusableElement=h,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.providedFocusIn=a,this.providedFocusOut=l,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=d}postConstruct(){this.createManagedBean(new gh(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((e=>this.addManagedListener(e,"focus",this.onFocus.bind(this))))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===n)return;let o,r;e?(o=0,r=n):(o=n+1,r=i.length);const s=i.slice(o,r),a=this.gos.get("tabIndex");s.sort(((e,t)=>{const i=parseInt(e.getAttribute("tabindex")||"0"),n=parseInt(t.getAttribute("tabindex")||"0");return n===a?1:i===a?-1:0===i?1:0===n?-1:i-n})),s[e?s.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout((()=>this.activateTabGuards()),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};Js([qa("focusService")],Zf.prototype,"focusService",2),Js([ja],Zf.prototype,"postConstruct",1);var em=class extends sh{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:e=>{t.forEach((t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Zf({comp:i,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const t=document.createElement("div"),i="top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),xu(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];id(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){Cd(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}},tm=class e extends em{constructor(t){super(e.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach((e=>this.addItem(e))),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc((()=>{var e,t,i;return null==(i=null==(t=null==(e=this.activeItem)?void 0:e.tabbedItem)?void 0:t.afterDetachedCallback)?void 0:i.call(t)}))}static getTemplate(e){return'<div class="ag-tabs '.concat(e,'">\n            <div ref="eHeader"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ').concat(e?"".concat(e,"-body"):"",'"></div>\n        </div>')}setupHeader(){const{enableCloseButton:e,cssClass:t}=this.params,i=(e,i)=>{e.classList.add("ag-tabs-".concat(i)),t&&e.classList.add("".concat(t,"-").concat(i))};e?(this.setupCloseButton(i),this.eTabHeader=this.gos.getDocument().createElement("div"),i(this.eHeader,"header-wrapper"),xu(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,xu(this.eTabHeader,"tablist"),i(this.eTabHeader,"header")}setupCloseButton(e){const t=this.gos.getDocument(),i=t.createElement("button");e(i,"close-button");const n=_d("close",this.gos,void 0,!0);Au(i,this.params.closeButtonAriaLabel),i.appendChild(n),this.addManagedListener(i,"click",(()=>{var e,t;return null==(t=(e=this.params).onCloseClicked)?void 0:t.call(e)}));const o=t.createElement("div");e(o,"close-button-wrapper"),xu(o,"presentation"),o.appendChild(i),this.eHeader.appendChild(o),this.eCloseButton=i}handleKeyDown(e){switch(e.key){case Fd.RIGHT:case Fd.LEFT:if(!this.eTabHeader.contains(this.gos.getActiveDomElement()))return;const t=e.key===Fd.RIGHT,i=this.gos.get("enableRtl"),n=this.items.indexOf(this.activeItem),o=t!==i?Math.min(n+1,this.items.length-1):Math.max(n-1,0);if(n===o)return;e.preventDefault();const r=this.items[o];this.showItemWrapper(r),r.eHeaderButton.focus();break;case Fd.UP:case Fd.DOWN:e.stopPropagation()}}onTabKeyDown(e){var t,i,n,o;if(e.defaultPrevented)return;const{focusService:r,eHeader:s,eBody:a,activeItem:l,params:u}=this,{suppressTrapFocus:c,enableCloseButton:d}=u,h=this.gos.getActiveDomElement(),p=e.target,g=e.shiftKey;if(s.contains(h))return e.preventDefault(),void(d&&g&&!(null==(t=this.eCloseButton)?void 0:t.contains(h))?null==(i=this.eCloseButton)||i.focus():c&&g?null==(n=this.focusService.findFocusableElementBeforeTabGuard(this.gos.getDocument().body,p))||n.focus():this.focusBody(e.shiftKey));let f=null;if(r.isTargetUnderManagedComponent(a,p)&&(g&&(f=this.focusService.findFocusableElementBeforeTabGuard(a,p)),f||c||(f=l.eHeaderButton)),!f&&a.contains(h)&&(f=r.findNextFocusableElement(a,!1,g),!f))return e.preventDefault(),void(c&&!g?this.forceFocusOutOfContainer(g):d&&!g?null==(o=this.eCloseButton)||o.focus():this.focusHeader());f&&(e.preventDefault(),f.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=document.createElement("span");xu(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eTabHeader.appendChild(t),Au(t,e.titleLabel);const i={tabbedItem:e,eHeaderButton:t};this.items.push(i),t.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const t=this.items.find((t=>t.tabbedItem===e));t&&this.showItemWrapper(t)}showItemWrapper(e){var t,i,n,o,r,s;const{tabbedItem:a,eHeaderButton:l}=e;null==(i=(t=this.params).onItemClicked)||i.call(t,{item:a}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),id(this.eBody),a.bodyPromise.then((e=>{this.eBody.appendChild(e);const t=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,t),a.afterAttachedCallback&&a.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const t=a.getScrollableContainer&&a.getScrollableContainer()||e;this.lastScrollListener=this.addManagedListener(t,"scroll",(()=>{this.tabbedItemScrollMap.set(a.name,t.scrollTop)}));const i=this.tabbedItemScrollMap.get(a.name);void 0!==i&&setTimeout((()=>{t.scrollTop=i}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null==(s=(r=this.activeItem.tabbedItem).afterDetachedCallback)||s.call(r)),l.classList.add("ag-tab-selected"),this.activeItem=e):null==(o=(n=this.params).onActiveItemClicked)||o.call(n)}};Js([qa("focusService")],tm.prototype,"focusService",2),Js([ah("eHeader")],tm.prototype,"eHeader",2),Js([ah("eBody")],tm.prototype,"eBody",2),Js([ja],tm.prototype,"postConstruct",1);var im=class extends Bl{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const i=this.gos.getWindow(),n=()=>{var i,n;let o=null!=(i=null==e?void 0:e.clientWidth)?i:0,r=null!=(n=null==e?void 0:e.clientHeight)?n:0,s=!0;const a=()=>{var i,n;if(s){const s=null!=(i=null==e?void 0:e.clientWidth)?i:0,l=null!=(n=null==e?void 0:e.clientHeight)?n:0;(s!==o||l!==r)&&(o=s,r=l,t()),this.doNextPolyfillTurn(a)}};return a(),()=>s=!1},o=this.gos.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!o?(()=>{const n=new i.ResizeObserver(t);return n.observe(e),()=>n.disconnect()})():this.getFrameworkOverrides().wrapIncoming((()=>n()),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;this.polyfillScheduled=!0,window.setTimeout((()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach((e=>e()))}),50)}};im=Js([Ya("resizeObserverService")],im);var nm=class extends Bl{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const e=this.paginationProxy.getCurrentPage();e!==this.lastPage&&(this.lastPage=e,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort(((e,i)=>e.index!==i.index?t*(i.index-e.index):i.createOrder-e.createOrder)),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,o=n.list,r=this.destroyTasks,s=(new Date).getTime();let a=(new Date).getTime()-s;const l=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let e;if(i.length)this.sortTaskList(t),e=i.pop().task;else if(o.length)this.sortTaskList(n),e=o.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}e=r.pop()}this.cancelledTasks.has(e)||e()}a=(new Date).getTime()-s}i.length||o.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask((()=>{t=!1,e()}))):window.setTimeout(e,0)}}};Js([qa("ctrlsService")],nm.prototype,"ctrlsService",2),Js([qa("paginationProxy")],nm.prototype,"paginationProxy",2),Js([ja],nm.prototype,"init",1),nm=Js([Ya("animationFrameService")],nm);var om=class extends Bl{postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode((e=>{e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode((t=>{let{expanded:i,id:n}=t;i&&n&&e.push(n)})),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,n){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};Js([qa("rowModel")],om.prototype,"rowModel",2),Js([ja],om.prototype,"postConstruct",1),om=Js([Ya("expansionService")],om);var rm=class extends Bl{postConstruct(){var e;this.activeMenuFactory=null!=(e=this.enterpriseMenuFactory)?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),n=this.getCellGui(i,t);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const o=n.getBoundingClientRect();return{x:o.x+o.width/2,y:o.y+o.height/2}}showContextMenu(e){var t,i,n;const{column:o,rowNode:r}=e;let{anchorToElement:s,value:a}=e;r&&o&&null==a&&(a=r.getValueFromValueService(o)),null==s&&(s=this.getContextMenuAnchorElement(r,o)),null==(n=this.contextMenuFactory)||n.onContextMenu(null!=(t=e.mouseEvent)?t:null,null!=(i=e.touchEvent)?i:null,null!=r?r:null,null!=o?o:null,a,s)}showColumnChooser(e){var t;null==(t=this.columnChooserFactory)||t.showColumnChooser(e)}hidePopupMenu(){var e;null==(e=this.contextMenuFactory)||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;null==(e=this.columnChooserFactory)||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(null!=i?i:t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(null==e?void 0:e.getColDef().suppressHeaderContextMenu)&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(fc()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){var t;const i=e.getColDef(),n=null==(t=i.floatingFilterComponentParams)?void 0:t.suppressFilterButton;return null!=n&&Ta("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==i.suppressFloatingFilterButton?!n:!i.suppressFloatingFilterButton}getColumnMenuType(){var e;return null!=(e=this.gos.get("columnMenu"))?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?e:!this.gos.exists("suppressMenuHide")||e}showColumnMenuCommon(e,t,i,n){const{column:o,positionBy:r}=t;if("button"===r){const{buttonElement:r}=t;e.showMenuAfterButtonClick(o,r,i,n)}else if("mouse"===r){const{mouseEvent:r}=t;e.showMenuAfterMouseEvent(o,r,i,n)}else o&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),this.animationFrameService.requestAnimationFrame((()=>{const t=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getHeaderCtrlForColumn(o);e.showMenuAfterButtonClick(o,t.getAnchorElementForMenu(n),i,!0)})))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(null==i?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return i;const o=this.getCellGui(n,t);return o||(n.isFullWidth()?n.getFullWidthElement():i)}};Js([qa("filterMenuFactory")],rm.prototype,"filterMenuFactory",2),Js([qa("ctrlsService")],rm.prototype,"ctrlsService",2),Js([qa("animationFrameService")],rm.prototype,"animationFrameService",2),Js([qa("filterManager")],rm.prototype,"filterManager",2),Js([qa("rowRenderer")],rm.prototype,"rowRenderer",2),Js([Qa("columnChooserFactory")],rm.prototype,"columnChooserFactory",2),Js([Qa("contextMenuFactory")],rm.prototype,"contextMenuFactory",2),Js([Qa("enterpriseMenuFactory")],rm.prototype,"enterpriseMenuFactory",2),Js([ja],rm.prototype,"postConstruct",1),rm=Js([Ya("menuService")],rm);var sm=class extends Bl{postConstruct(){this.ctrlsService.whenReady((e=>{this.centerRowContainerCtrl=e.center}))}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach((e=>this.cloneItemIntoDummy(e,t))),i.appendChild(t);const n=t.offsetWidth;i.removeChild(t);return n+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((i=>{const n=i.getHtmlElementForColumnHeader(e);null!=n&&(t=n)})),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),o=n.classList;["ag-header-cell","ag-header-group-cell"].some((e=>i.classList.contains(e)))?(o.add("ag-header","ag-header-row"),n.style.position="static"):o.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some((e=>r.classList.contains(e)))){for(let e=0;e<r.classList.length;e++){const t=r.classList[e];"ag-row-position-absolute"!=t&&o.add(t)}break}r=r.parentElement}n.appendChild(i),t.appendChild(n)}};Js([qa("rowRenderer")],sm.prototype,"rowRenderer",2),Js([qa("ctrlsService")],sm.prototype,"ctrlsService",2),Js([qa("rowCssClassCalculator")],sm.prototype,"rowCssClassCalculator",2),Js([ja],sm.prototype,"postConstruct",1),sm=Js([Ya("autoWidthCalculator")],sm);var am=class extends Bl{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i,n,o;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let r=null==(t=e.childStore)?void 0:t.getStoreBounds();return e.footer&&(r=null==(i=e.sibling.childStore)?void 0:i.getStoreBounds()),(null!=(n=null==r?void 0:r.heightPx)?n:0)+(null!=(o=null==r?void 0:r.topPx)?o:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){const t=e.footer&&0===e.rowIndex,i=!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex);if(t||i){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=hl(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel():this.rowRenderer.getLastVisibleVerticalPixel(),o=new Set,r=e=>{if(o.add(e),t){const t=this.getLastPixelOfGroup(e),o=n+i+e.rowHeight;e.stickyRowTop=t<o?i+(t-o):i}else{const t=this.getFirstPixelOfGroup(e),o=n-(i+e.rowHeight);e.stickyRowTop=t>o?i-(t-o):i}i=0,o.forEach((e=>{const t=e.stickyRowTop+e.rowHeight;i<t&&(i=t)}))},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=e=>{if(!e.displayed)return!1;if(e.footer){if(!0===s)return!1;if("grand"===s&&-1===e.level)return!1;if("group"===s&&e.level>-1)return!1;return!o.has(e)}if(e.isExpandable()){if(!0===a)return!1;return!o.has(e)&&e.expanded}return!1};for(let u=0;u<100;u++){let e=n+i;t||(e=n-i);const o=this.rowModel.getRowIndexAtPixel(e),s=this.rowModel.getRow(o);if(null==s)break;const a=this.getStickyAncestors(s).find((e=>(t?e.rowIndex<o:e.rowIndex>o)&&l(e)));if(a){r(a);continue}if(!(t?s.rowTop<e:s.rowTop+s.rowHeight>e)||!l(s))break;r(s)}return t||o.forEach((e=>{e.stickyRowTop=i-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,o,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some((t=>t.getRowNode()===e))){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const n=this.stickyTopRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const n=this.stickyBottomRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const n="top"===e,o=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},s=[];for(let d=0;d<o.length;d++){const e=o[d].getRowNode();!t.has(e)?(r[e.id]=o[d],e.sticky=!1):s.push(o[d])}const a=new Set;for(let d=0;d<s.length;d++)a.add(s[d].getRowNode());const l=[];t.forEach((e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))}));let u=!!l.length||s.length!==o.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),u=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),u=!0),this.destroyRowCtrls(r,!1);const c=[...s,...l];return c.sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex)),n||c.reverse(),c.forEach((e=>e.setRowTop(e.getRowNode().stickyRowTop))),!!u&&(n?this.stickyTopRowCtrls=c:this.stickyBottomRowCtrls=c,!0)}};Js([qa("rowModel")],am.prototype,"rowModel",2),Js([qa("rowRenderer")],am.prototype,"rowRenderer",2),Js([qa("ctrlsService")],am.prototype,"ctrlsService",2),Js([ja],am.prototype,"postConstruct",1);var lm=class extends Bl{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach((e=>e.onRangeSelectionChanged()))},t=()=>{this.getAllCellCtrls().forEach((e=>e.updateRangeBordersIfRangeCount()))},i=()=>{this.eventService.addEventListener(Kl.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(Kl.EVENT_COLUMN_MOVED,t),this.eventService.addEventListener(Kl.EVENT_COLUMN_PINNED,t),this.eventService.addEventListener(Kl.EVENT_COLUMN_VISIBLE,t)},n=()=>{this.eventService.removeEventListener(Kl.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(Kl.EVENT_COLUMN_MOVED,t),this.eventService.removeEventListener(Kl.EVENT_COLUMN_PINNED,t),this.eventService.removeEventListener(Kl.EVENT_COLUMN_VISIBLE,t)};this.addDestroyFunc((()=>n())),this.addManagedPropertyListener("enableRangeSelection",(e=>{e.currentValue?i():n()}));this.gos.get("enableRangeSelection")&&i()}}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()}))}initialise(){if(this.addManagedListener(this.eventService,Kl.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(()=>this.redrawRows())),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();"clientSide"!==e&&"serverSide"!==e||(this.stickyRowFeature=this.createManagedBean(new am(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new um(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Ca(this.rowCtrlsByRowIndex),t=Ca(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onCellFocused(e))),this.getFullWidthRowCtrls().forEach((t=>t.onFullWidthRowFocused(e)))}registerCellEventListeners(){this.addManagedListener(this.eventService,Kl.EVENT_CELL_FOCUSED,(e=>{this.onCellFocusChanged(e)})),this.addManagedListener(this.eventService,Kl.EVENT_CELL_FOCUS_CLEARED,(()=>{this.onCellFocusChanged()})),this.addManagedListener(this.eventService,Kl.EVENT_FLASH_CELLS,(e=>{this.getAllCellCtrls().forEach((t=>t.onFlashCells(e)))})),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_HOVER_CHANGED,(()=>{this.getAllCellCtrls().forEach((e=>e.onColumnHover()))})),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,(()=>{this.getAllCellCtrls().forEach((e=>e.onDisplayedColumnsChanged()))})),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(()=>{this.printLayout&&this.getAllCellCtrls().forEach((e=>e.onLeftChanged()))})),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Kl.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((e=>e())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.columnModel.getAllGridColumns().forEach((e=>{const t=t=>{this.getAllCellCtrls().forEach((i=>{i.getColumn()===e&&t(i)}))},i=()=>{t((e=>e.onLeftChanged()))},n=()=>{t((e=>e.onWidthChanged()))},o=()=>{t((e=>e.onFirstRightPinnedChanged()))},r=()=>{t((e=>e.onLastLeftPinnedChanged()))},s=()=>{t((e=>e.onColDefChanged()))};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",n),e.addEventListener("firstRightPinnedChanged",o),e.addEventListener("lastLeftPinnedChanged",r),e.addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push((()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",n),e.removeEventListener("firstRightPinnedChanged",o),e.removeEventListener("lastLeftPinnedChanged",r),e.removeEventListener("colDefChanged",s)}))}))}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach((i=>{const n=i.getCellElement(e);n&&t.push(n)})),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach((e=>{e.destroyFirstPass(),e.destroySecondPass()})),e.length=0,t&&t.forEach((t=>{const i=new qg(t,this.beans,!1,!1,this.printLayout);e.push(i)}))}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null==(i=this.cachedRowCtrls)?void 0:i.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const i=t[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return null==e||e.forEach((e=>this.redrawRow(e,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=(null==e?void 0:e.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const i=this.gos.getActiveDomElement(),n=this.gos.getDomData(i,jg.DOM_DATA_KEY_CELL_CTRL),o=this.gos.getDomData(i,qg.DOM_DATA_KEY_ROW_CTRL);return n||o?t:null}redrawAfterModelUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gos.isAnimateRows(),o=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(o,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getAllRowCtrls().forEach((t=>{t.stopEditing(e)}))}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const i=t[n].getAllCellCtrls(),o=i.length;for(let t=0;t<o;t++)e.push(i[t])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getCellCtrls(e.rowNodes,e.columns).forEach((t=>t.flashCell(e)))}refreshCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach((e=>e.refreshOrDestroyCell(t))),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach((e=>{if(!e.isFullWidth())return;e.refreshFullWidth()||this.redrawRow(e.getRowNode(),!0)})),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map((e=>e.getCellRenderer())).filter((e=>null!=e));if(null==(t=e.columns)?void 0:t.length)return i;const n=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((e=>{if(o&&!this.isRowInMap(e.getRowNode(),o))return;if(!e.isFullWidth())return;const t=e.getFullWidthCellRenderers();for(let i=0;i<t.length;i++){const e=t[i];null!=e&&n.push(e)}})),[...n,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((e=>{const i=e.getCellEditor();i&&t.push(i)})),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach((t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}})),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach((e=>{const i=e.id;switch(e.rowPinned){case"top":t.top[i]=e;break;case"bottom":t.bottom[i]=e;break;default:t.normal[i]=e}})),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter((e=>{const i=e.getRowNode();return this.isRowInMap(i,t)})):i}getCellCtrls(e,t){let i;ia(t)&&(i={},t.forEach((e=>{const t=this.columnModel.getGridColumn(e);ia(t)&&(i[t.getId()]=!0)})));const n=[];return this.getRowCtrls(e).forEach((e=>{e.getAllCellCtrls().forEach((e=>{const t=e.getColumn().getId();i&&!i[t]||n.push(e)}))})),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];fa(this.rowCtrlsByRowIndex,((t,i)=>{null==i.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);const t={};return fa(this.rowCtrlsByRowIndex,((e,i)=>{const n=i.getRowNode();t[n.id]=i})),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((e=>{const i=this.rowCtrlsByRowIndex[e];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{afterScroll:t}=e;let i;this.stickyRowFeature&&mc()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;this.stickyRowFeature&&(r=this.stickyRowFeature.checkStickyRows());const s=this.firstRenderedRow!==n||this.lastRenderedRow!==o;if((!t||r||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),null!=i)){const e=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach((e=>i[e]=!0));const n=Object.keys(this.rowCtrlsByRowIndex).filter((e=>!i[e]));this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){let t=Dc(this.firstRenderedRow,this.lastRenderedRow);const i=(e,i)=>{const n=i.getRowNode().rowIndex;null!=n&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(n)};fa(this.rowCtrlsByRowIndex,i),fa(e,i),t.sort(((e,t)=>e-t));const n=[];for(let o=0;o<t.length;o++){const e=t[o],i=this.paginationProxy.getRow(e);i&&!i.sticky&&n.push(e)}return n}recycleRows(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);const o=[];if(n.forEach((n=>{const r=this.createOrUpdateRowCtrl(n,e,t,i);ia(r)&&o.push(r)})),e){i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t={type:Kl.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach((t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter((e=>{if(!e.isFullWidth())return!1;const i=e.getRowNode();return!(null!=t&&!this.isRowInMap(i,t))}))}createOrUpdateRowCtrl(e,t,i,n){let o,r=this.rowCtrlsByRowIndex[e];r||(o=this.paginationProxy.getRow(e),ia(o)&&ia(t)&&t[o.id]&&o.alreadyRendered&&(r=t[o.id],t[o.id]=null));if(!r){if(o||(o=this.paginationProxy.getRow(e)),!ia(o))return;r=this.createRowCon(o,i,n)}return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];fa(e,((e,n)=>{n&&(this.cachedRowCtrls&&n.isCacheable()?this.cachedRowCtrls.addRow(n):(n.destroyFirstPass(!t),t?(this.zombieRowCtrls[n.getInstanceId()]=n,i.push((()=>{n.destroySecondPass(),delete this.zombieRowCtrls[n.getInstanceId()]}))):n.destroySecondPass()))})),t&&(i.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),Ma(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const i=this.getRowBufferInPixels(),n=this.ctrlsService.getGridBodyCtrl(),o=this.gos.get("suppressRowVirtualisation");let r,s,a=!1;do{const e=this.paginationProxy.getPixelOffset(),{pageFirstPixel:t,pageLastPixel:l}=this.paginationProxy.getCurrentPagePixelRange(),u=this.rowContainerHeightService.getDivStretchOffset(),c=n.getScrollFeature().getVScrollPosition(),d=c.top,h=c.bottom;o?(r=t+u,s=l+u):(r=Math.max(d+e-i,t)+u,s=Math.min(h+e+i,l)+u),this.firstVisibleVPixel=Math.max(d+e,t)+u,this.lastVisibleVPixel=Math.min(h+e,l)+u,a=this.ensureAllRowsInRangeHaveHeightsCalculated(r,s)}while(a);let l=this.paginationProxy.getRowIndexAtPixel(r),u=this.paginationProxy.getRowIndexAtPixel(s);const c=this.paginationProxy.getPageFirstRow(),d=this.paginationProxy.getPageLastRow();l<c&&(l=c),u>d&&(u=d),e=l,t=u}else e=0,t=-1;const i=this.gos.isDomLayout("normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>o&&(t=e+o);const r=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;if(r||s){this.firstRenderedRow=e,this.lastRenderedRow=t;const i={type:Kl.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(i)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:Kl.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent(e)}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const t=!1,i=e.getRowNode(),n=this.focusService.isRowNodeFocused(i),o=e.isEditing(),r=i.detail;if(!(n||o||r))return t;return!!this.paginationProxy.isRowPresent(i)||t}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const o=this.gos.get("suppressAnimationFrame"),r=i&&!o&&!this.printLayout;return new qg(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map((e=>e.getRowNode()))}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find((e=>e.getRowNode().rowIndex===i))||null,t||(t=this.getStickyBottomRowCtrls().find((e=>e.getRowNode().rowIndex===i))||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}};Js([qa("animationFrameService")],lm.prototype,"animationFrameService",2),Js([qa("paginationProxy")],lm.prototype,"paginationProxy",2),Js([qa("columnModel")],lm.prototype,"columnModel",2),Js([qa("pinnedRowModel")],lm.prototype,"pinnedRowModel",2),Js([qa("rowModel")],lm.prototype,"rowModel",2),Js([qa("focusService")],lm.prototype,"focusService",2),Js([qa("beans")],lm.prototype,"beans",2),Js([qa("rowContainerHeightService")],lm.prototype,"rowContainerHeightService",2),Js([qa("ctrlsService")],lm.prototype,"ctrlsService",2),Js([ja],lm.prototype,"postConstruct",1),lm=Js([Ya("rowRenderer")],lm);var um=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.getRowNode()!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Cl(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Cl(this.entriesList,e)}getEntries(){return this.entriesList}},cm=class extends Bl{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",(()=>this.setPinnedTopRowData())),this.addManagedPropertyListener("pinnedBottomRowData",(()=>this.setPinnedBottomRowData()))}isEmpty(e){return oa("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(oa(i))return 0;for(let n=0;n<i.length;n++){const t=i[n];if(t.rowTop+t.rowHeight-1>=e)return n}return i.length-1}setPinnedTopRowData(){const e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:Kl.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(){const e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:Kl.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const i=[];if(e){let n=0;e.forEach(((e,o)=>{const r=new yp(this.beans);r.data=e;const s=t?yp.ID_PREFIX_TOP_PINNED:yp.ID_PREFIX_BOTTOM_PINNED;r.id=s+o,r.rowPinned=t?"top":"bottom",r.setRowTop(n),r.setRowHeight(this.gos.getRowHeightForNode(r).height),r.setRowIndex(o),n+=r.rowHeight,i.push(r)}))}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){oa(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){oa(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||0===e.length)return 0;const t=hl(e);return t.rowTop+t.rowHeight}};Js([qa("beans")],cm.prototype,"beans",2),Js([ja],cm.prototype,"init",1),cm=Js([Ya("pinnedRowModel")],cm);var dm=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const o=e.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach((e=>this.nodeIdsToColumns[i.id][e.getId()]=!0)),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const e=this.mapToItems[i.id],t=this.mapToItems[i.parent.id];t.children||(t.children=[]),t.children.push(e),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter((e=>i[e.getId()]))}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter((e=>!i[e.getId()]))}},hm=class e extends Bl{constructor(t){super(),this.state=e.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=e.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=e.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(t,i){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const i={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(i)}};hm.EVENT_LOAD_COMPLETE="loadComplete",hm.STATE_WAITING_TO_LOAD="needsLoading",hm.STATE_LOADING="loading",hm.STATE_LOADED="loaded",hm.STATE_FAILED="failed";var pm=hm,gm=class extends Bl{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=$d.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener(pm.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){$d.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:gm.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:gm.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const e=this.getAvailableLoadingCount(),t=this.blocks.filter((e=>e.getState()===pm.STATE_WAITING_TO_LOAD)).slice(0,e);this.registerLoads(t.length),t.forEach((e=>e.load())),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide")){return this.rowModel.getBlockStates()}const e={};return this.blocks.forEach((t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n})),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,", blocks = ").concat(JSON.stringify(this.getBlockState())))}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};gm.BLOCK_LOADED_EVENT="blockLoaded",gm.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Js([qa("rowModel")],gm.prototype,"rowModel",2),Js([ja],gm.prototype,"postConstruct",1),Js([Zs(0,$a("loggerFactory"))],gm.prototype,"setBeans",1),gm=Js([Ya("rowNodeBlockLoader")],gm);var fm=class extends Bl{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,Kl.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,n){const o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:Kl.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows};this.eventService.dispatchEvent(t)}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages();const e={type:Kl.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||"number"!==typeof this.currentPage)return;this.currentPage=e,this.calculatePages();const t={type:Kl.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!0,newPageSize:!1,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return na(this.topRowBounds)||na(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(e){if(!this.rowModel.isRowPresent(e))return!1;return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),i=this.getPageLastRow();for(let n=t;n<=i;n++){const t=this.getRow(n);t&&e(t)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){if(!this.active)return!0;return this.getPageForIndex(e.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ia(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:ia(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ia(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ia(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;if(this.pageSizeAutoCalculated=void 0,this.pageSize===e)return;this.calculatePages();const t={type:Kl.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}if(i!==this.pageSize){this.calculatePages();const e={type:Kl.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ia(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Kl.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const e=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=e-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};Js([qa("rowModel")],fm.prototype,"rowModel",2),Js([ja],fm.prototype,"postConstruct",1),fm=Js([Ya("paginationProxy")],fm);var mm=class extends Bl{processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,o){if(null==t&&null==e)return;const r={},s={},a=(e,t)=>{e.split(" ").forEach((e=>{""!=e.trim()&&t(e)}))};if(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const o=e[n],l=t[o];let u;"string"===typeof l?u=this.expressionService.evaluate(l,i):"function"===typeof l&&(u=l(i)),a(o,(e=>{u?r[e]=!0:s[e]=!0}))}}e&&o&&Object.keys(e).forEach((e=>a(e,(e=>{r[e]||(s[e]=!0)})))),o&&Object.keys(s).forEach(o),Object.keys(r).forEach(n)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;if("function"===typeof i){n=i(t)}else n=i;return"string"===typeof n&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach((e=>{i(e)}))}};Js([qa("expressionService")],mm.prototype,"expressionService",2),mm=Js([Ya("stylingService")],mm);var vm=class extends Ph{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},Cm=class extends Dh{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},ym=class extends Bh{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=cc();this.addManagedListener(this.eInput,"mousedown",(()=>{this.isDisabled()||e||this.eInput.focus()})),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?null!=(t=Fc(null!=e?e:null,!1))?t:void 0:e;return this.min===i||(this.min=i,bd(this.eInput,"min",i)),this}setMax(e){var t;const i=e instanceof Date?null!=(t=Fc(null!=e?e:null,!1))?t:void 0:e;return this.max===i||(this.max=i,bd(this.eInput,"max",i)),this}setStep(e){return this.step===e||(this.step=e,bd(this.eInput,"step",e)),this}getDate(){var e;if(this.eInput.validity.valid)return null!=(e=Oc(this.getValue()))?e:void 0}setDate(e,t){this.setValue(Fc(null!=e?e:null,!1),t)}},wm=class extends Dh{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",(e=>{const t=e.target.value;this.setValue(t)}))}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}},bm=class extends sh{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e));this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(this.params.cellRenderer||!ia(t))return;let i=ia(e);if(i){const n=null==t?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const i=n+e.length,o=iu(t.slice(0,n),!0),r=iu(t.slice(n,i),!0),s=iu(t.slice(i));this.renderValueWithoutRenderer("".concat(o,'<span class="ag-rich-select-row-text-highlight">').concat(r,"</span>").concat(s))}else i=!1}i||this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const i=this.getGui(),n="ag-rich-select-row-".concat(this.getCompId());if(null==(t=i.parentElement)||t.setAttribute("id",n),e){Gu(this.getParentComponent().getAriaElement(),n),this.wrapperEl.setAttribute("data-active-option",n)}$u(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const i=this.gos.getDocument(),n=this.getGui(),o=i.createElement("span");o.style.overflow="hidden",o.style.textOverflow="ellipsis";const r=iu(ia(t)?t:e,!0);this.parsedValue=ia(r)?r:null,n.appendChild(o),this.renderValueWithoutRenderer(r),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>o.scrollWidth>o.clientWidth})}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=ia(e)?e:"&nbsp;")}populateWithRenderer(e,t){let i,n;return this.params.cellRenderer&&(n=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,setTooltip:(e,t)=>{this.setTooltip({newTooltipText:e,shouldDisplayTooltip:t})}})),n&&(i=n.newAgStackInstance()),i&&Sd(i,this.getGui()),!!i&&(i.then((e=>{this.addDestroyFunc((()=>{this.getContext().destroyBean(e)}))})),!0)}onClick(){const e=this.getParentComponent(),t={type:Kl.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};null==e||e.dispatchEvent(t)}};Js([qa("userComponentFactory")],bm.prototype,"userComponentFactory",2),Js([ja],bm.prototype,"postConstruct",1);var Em=class e extends em{constructor(t){super(e.getTemplate((null==t?void 0:t.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:n="listbox",listName:o}=t||{};this.cssIdentifier=i,this.ariaRole=n,this.listName=o}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,Kl.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const e=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),t=this.eContainer;xu(t,this.ariaRole),Au(t,e)}addResizeObserver(){const e=this.resizeObserverService.observeResize(this.getGui(),(()=>this.animationFrameService.requestAnimationFrame((()=>this.drawVirtualRows()))));this.addDestroyFunc(e)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Du(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case Fd.UP:case Fd.DOWN:this.navigate(e.key===Fd.UP)&&e.preventDefault();break;case Fd.PAGE_HOME:case Fd.PAGE_END:case Fd.PAGE_UP:case Fd.PAGE_DOWN:null!==this.navigateToPage(e.key)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(kl(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(null==this.lastFocusedRowIndex)return!1;const t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)}navigateToPage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"focused",i=!1;"focused"===t&&(t=this.getLastFocusedRow(),i=!0);const n=this.model.getRowCount()-1;let o=-1;return e===Fd.PAGE_HOME?o=0:e===Fd.PAGE_END?o=n:e===Fd.PAGE_DOWN?o=Math.min(t+this.pageSize,n):e===Fd.PAGE_UP&&(o=Math.max(t-this.pageSize,0)),-1===o?null:(i?this.focusRow(o):this.ensureIndexVisible(o),o)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),this.animationFrameService.requestAnimationFrame((()=>{if(this.isScrolling=!1,!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()})))}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach(((t,i)=>e(t.rowComponent,i)))}static getTemplate(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-').concat(e,'-virtual-list-container" ref="eContainer"></div>\n            </div>')}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.model.getRowCount();if("number"!==typeof e||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const n=e*this.rowHeight,o=n+this.rowHeight,r=this.getGui(),s=r.scrollTop,a=r.offsetHeight,l=s+a,u=t?0:this.rowHeight,c=l<o-u;if(s>n+u)return r.scrollTop=n,!0;if(c){const e=o-a;return r.scrollTop=e,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height="".concat(t*this.rowHeight,"px"),Ia((()=>this.eContainer.clientHeight>=t*this.rowHeight),(()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))}))}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"===typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach(((e,t)=>this.removeRow(t)))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),i=t.scrollTop,n=i+t.offsetHeight,o=Math.floor(i/this.rowHeight),r=Math.floor(n/this.rowHeight);this.pageSize=Math.floor((n-i)/this.rowHeight),this.ensureRowsRendered(o,r,e)}ensureRowsRendered(e,t,i){this.renderedRows.forEach(((i,n)=>{(n<e||n>t)&&n!==this.lastFocusedRowIndex&&this.removeRow(n)})),i&&this.refreshRows();for(let n=e;n<=t;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(e){const t=this.model.getRow(e),i=document.createElement("div");i.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),xu(i,"tree"===this.ariaRole?"treeitem":"option"),Bu(i,this.model.getRowCount()),Wu(i,e+1),i.setAttribute("tabindex","-1"),i.style.height="".concat(this.rowHeight,"px"),i.style.top="".concat(this.rowHeight*e,"px");const n=this.componentCreator(t,i);n.addGuiEventListener("focusin",(()=>this.lastFocusedRowIndex=e)),i.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:n,eDiv:i,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach(((t,i)=>{var n,o;if(i>=e)this.removeRow(i);else{const e=this.model.getRow(i);(null==(o=(n=this.model).areRowsEqual)?void 0:o.call(n,t.value,e))?this.componentUpdater(e,t.rowComponent):this.removeRow(i)}}))}addScrollListener(){this.addGuiEventListener("scroll",(()=>this.drawVirtualRows()),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};Js([qa("resizeObserverService")],Em.prototype,"resizeObserverService",2),Js([qa("animationFrameService")],Em.prototype,"animationFrameService",2),Js([ah("eContainer")],Em.prototype,"eContainer",2),Js([ja],Em.prototype,"postConstruct",1);var Sm=Em,xm=class extends Eh{constructor(e){var t,i;super(Xs(Qs({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!=(t=null==e?void 0:e.template)?t:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!=(i=null==e?void 0:e.maxPickerHeight)?i:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:n,value:o,valueList:r,searchStringCreator:s}=e||{};null!=n&&(this.cellRowHeight=n),void 0!==o&&(this.value=o),null!=r&&(this.values=r),s&&(this.searchStringCreator=s)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:t}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=Na(this.clearSearchString,i),this.renderSelectedValue(),e&&(this.eInput.onValueChange((e=>this.searchTextFromString(e))),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gos.getDocument(),t=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=t("loadingOoo","Loading..."),this.eLoading=i}createListComponent(){this.listComponent=this.createBean(new Sm({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));this.listComponent.setComponentUpdater(((e,t)=>{})),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,Kl.EVENT_FIELD_PICKER_VALUE_SELECTED,(e=>{this.onListValueSelected(e.value,e.fromEnterKey)}));const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const t=this.listComponent.getGui(),i=this.listComponent.getAriaElement();this.addManagedListener(t,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(t,"mousedown",(e=>e.preventDefault())),t.classList.add("ag-rich-select-list");const n="ag-rich-select-list-".concat(this.listComponent.getCompId());i.setAttribute("id",n);Au(i,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),Zu(this.eWrapper,i)}renderSelectedValue(){const{value:e,eDisplayField:t,config:i}=this,{allowTyping:n,initialInputValue:o}=this.config,r=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n)return void this.eInput.setValue(null!=o?o:r);let s,a;if(i.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:r})),s&&(a=s.newAgStackInstance()),a)id(t),Sd(a,t),a.then((e=>{this.addDestroyFunc((()=>this.getContext().destroyBean(e)))}));else{if(ia(this.value))t.innerText=r,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:e}=i;ia(e)?(t.innerHTML="".concat(iu(e)),t.classList.add("ag-display-as-placeholder")):id(t)}this.setTooltip({newTooltipText:null!=r?r:null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(null==t||!e)return-1;for(let i=0;i<e.length;i++)if(e[i]===t)return i;return-1}highlightFilterMatch(){var e;null==(e=this.listComponent)||e.forEachRenderedRow(((e,t)=>{e.highlightString(this.searchString)}))}highlightSelectedValue(e){var t;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null==(t=this.listComponent)||t.forEachRenderedRow(((t,i)=>{const n=-1!==e&&this.highlightedItem===i;t.updateHighlighted(n)}))}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:i}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:e=>t[e],areRowsEqual:(e,t)=>e===t}),i&&(this.values?this.listComponent.refresh(!0):(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));(null==(e=this.eLoading)?void 0:e.offsetParent)&&(null==(t=this.eLoading.parentElement)||t.removeChild(this.eLoading));const i=this.getCurrentValueIndex();-1!==i?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===Fd.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!Hd(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){null==e&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=(e=>e)}=this.config;let i;return"number"===typeof e[0]||"string"===typeof e[0]?i=e.map((e=>t(e))):"object"===typeof e[0]&&this.searchStringCreator&&(i=this.searchStringCreator(e)),i}getSuggestionsAndFilteredValues(e,t){let i=[],n=[];if(!e.length)return{suggestions:i,filteredValues:n};const{searchType:o="fuzzy",filterList:r}=this.config;if("fuzzy"===o){const e=Td(this.searchString,t,!0);i=e.values;const o=e.indices;if(r&&o.length)for(let t=0;t<o.length;t++)n.push(this.values[o[t]])}else i=t.filter(((e,t)=>{const i=e.toLocaleLowerCase(),s=this.searchString.toLocaleLowerCase(),a="match"===o?i.startsWith(s):-1!==i.indexOf(s);return r&&a&&n.push(this.values[t]),a}));return{suggestions:i,filteredValues:n}}filterListModel(e){const{filterList:t}=this.config;t&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,t;const{values:i}=this,n=this.buildSearchStrings(i);if(!n)return void this.highlightSelectedValue(-1);const{suggestions:o,filteredValues:r}=this.getSuggestionsAndFilteredValues(this.searchString,n),{filterList:s,highlightMatch:a,searchType:l="fuzzy"}=this.config,u=r.length,c=!(!s||""===this.searchString);if(this.filterListModel(c?r:i),o.length){const e=c?0:n.indexOf(o[0]);this.selectListItem(e)}else if(this.highlightSelectedValue(-1),!c||u)null==(e=this.listComponent)||e.ensureIndexVisible(0);else if(c){this.getAriaElement().removeAttribute("data-active-option");const e=null==(t=this.listComponent)?void 0:t.getAriaElement();e&&Gu(e,null)}a&&"fuzzy"!==l&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const t=null==(e=this.listComponent)?void 0:e.getGui(),i=!!this.currentList&&0===this.currentList.length;null==t||t.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}selectListItem(e,t){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!t)&&!t&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,t,i){const n=this.currentList?this.currentList.indexOf(e):-1;return-1===n?this:(this.value=e,i||this.selectListItem(n),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new bm(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:i,searchType:n="fuzzy"}=this.config;return i&&"fuzzy"!==n&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const i=(null==t?void 0:t.getGui()).getBoundingClientRect(),n=t.getScrollTop(),o=e.clientY-i.top+n;return Math.floor(o/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);-1!==t&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0))}onNavigationKeyDown(e,t){e.preventDefault();const i=t===Fd.DOWN;if(!this.isPickerDisplayed&&i)return void this.showPicker();const n=this.highlightedItem,o=-1===n?0:n+(i?1:-1);this.selectListItem(o)}onPageNavigation(e){var t;if(!this.isPickerDisplayed)return;const i=null==(t=this.listComponent)?void 0:t.navigateToPage(e,this.highlightedItem);null!=i&&this.animationFrameService.requestAnimationFrame((()=>{if(!this.isAlive())return null;this.highlightSelectedValue(i)}))}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){this.isPickerDisplayed&&this.currentList&&this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){const i={type:Kl.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(i)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:i}=this.config;switch(t){case Fd.LEFT:case Fd.RIGHT:i||e.preventDefault();break;case Fd.PAGE_HOME:case Fd.PAGE_END:if(i){e.preventDefault();const i=this.eInput.getInputElement(),n=t===Fd.PAGE_HOME?0:i.value.length;i.setSelectionRange(n,n);break}case Fd.PAGE_UP:case Fd.PAGE_DOWN:e.preventDefault(),this.onPageNavigation(t);break;case Fd.DOWN:case Fd.UP:this.onNavigationKeyDown(e,t);break;case Fd.ESCAPE:this.isPickerDisplayed&&(rd(this.listComponent.getGui())&&(e.preventDefault(),kl(e)),this.hidePicker());break;case Fd.ENTER:this.onEnterKeyDown(e);break;case Fd.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};Js([qa("userComponentFactory")],xm.prototype,"userComponentFactory",2),Js([qa("animationFrameService")],xm.prototype,"animationFrameService",2),Js([ah("eInput")],xm.prototype,"eInput",2);var Rm=class e extends wh{constructor(t){super(t,e.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:t,textFieldWidth:i,step:n,value:o,onValueChange:r}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),null!=i&&this.setTextFieldWidth(i),null!=n&&this.setStep(n),null!=o&&this.setValue(o),null!=r&&this.onValueChange(r)}onValueChange(e){const t=Kl.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,t,(()=>{const t=parseFloat(this.eText.getValue());this.eSlider.setValue(t.toString(),!0),e(t||0)})),this.addManagedListener(this.eSlider,t,(()=>{const t=this.eSlider.getValue();this.eText.setValue(t,!0),e(parseFloat(t))})),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,t){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),t||this.dispatchEvent({type:Kl.EVENT_FIELD_VALUE_CHANGED})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};Rm.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Js([ah("eLabel")],Rm.prototype,"eLabel",2),Js([ah("eSlider")],Rm.prototype,"eSlider",2),Js([ah("eText")],Rm.prototype,"eText",2),Js([ja],Rm.prototype,"init",1);var Tm=Rm,Dm=class e extends sh{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e.getTemplate(t)),this.params=t,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:n,suppressEnabledCheckbox:o,expanded:r,suppressToggleExpandOnEnableChange:s,useToggle:a}=t;this.cssIdentifier=t.cssIdentifier||"default",this.enabled=null==i||i,this.items=n||[],this.useToggle=null!=a&&a,this.alignItems=t.alignItems||"center",this.expanded=null==r||r,null!=o&&(this.suppressEnabledCheckbox=o),null!=s&&(this.suppressToggleExpandOnEnableChange=s)}static getTemplate(e){const t=e.cssIdentifier||"default",i=e.direction||"vertical";return'\n            <div class="ag-group ag-'.concat(t,'-group" role="presentation">\n                <div ref="eToolbar" class="ag-group-toolbar ag-').concat(t,'-group-toolbar">\n                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n                </div>\n                <div ref="eContainer" class="ag-group-container ag-group-container-').concat(i," ag-").concat(t,'-group-container"></div>\n            </div>\n        ')}postConstruct(){if(this.setupTitleBar(),this.items.length){const e=this.items;this.items=[],this.addItems(e)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:t,suppressOpenCloseIcons:i}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(null!=i&&i),this.refreshChildDisplay(),zc(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange((e=>{this.setEnabled(e,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(e)})),null!=t&&this.onEnableChange(t)}refreshChildDisplay(){var e;zc(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null==(e=this.eTitleBar)||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;const t="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(t),this}toggleGroupExpand(t){var i;let n=!1;if((null==(i=this.eTitleBar)?void 0:i.isSuppressCollapse())&&!this.useToggle)t=!0,n=!0;else if(t=null!=t?t:!this.expanded,this.expanded===t)return this;return this.expanded=t,this.refreshChildDisplay(),zc(this.eContainer,t),n||this.dispatchEvent({type:t?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this}addItems(e){e.forEach((e=>this.addItem(e)))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,t){const i=this.eContainer,n=e instanceof sh?e.getGui():e;n.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),t?(i.insertAdjacentElement("afterbegin",n),this.items.unshift(n)):(i.appendChild(n),this.items.push(n))}hideItem(e,t){zc(this.items[t],!e)}getItemIndex(e){const t=e instanceof sh?e.getGui():e;return this.items.indexOf(t)}setTitle(e){var t;return null==(t=this.eTitleBar)||t.setTitle(e),this}addTitleBarWidget(e){var t;return null==(t=this.eTitleBar)||t.addWidget(e),this}addCssClassToTitleBar(e){var t;null==(t=this.eTitleBar)||t.addCssClass(e)}dispatchEnableChangeEvent(t){const i={type:e.EVENT_ENABLE_CHANGE,enabled:t};this.dispatchEvent(i)}setEnabled(e,t,i){var n;return this.enabled=e,this.refreshDisabledStyles(),i||this.toggleGroupExpand(e),t||(this.cbGroupEnabled.setValue(e),null==(n=this.eToggle)||n.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(t){return this.addManagedListener(this,e.EVENT_ENABLE_CHANGE,(e=>t(e.enabled))),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var t;return null==(t=this.eTitleBar)||t.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const t=!this.enabled;this.eContainer.classList.toggle("ag-disabled",t),null==(e=this.eTitleBar)||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&t),this.eContainer.classList.toggle("ag-disabled-group-container",t)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new _m(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,_m.EVENT_EXPAND_CHANGED,(e=>this.toggleGroupExpand(e.expanded))),e}createToggleTitleBar(){var e;const t=this.createManagedBean(new vm({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:e=>{this.setEnabled(e,!0),this.dispatchEnableChangeEvent(e)}}));return t.addCssClass("ag-group-title-bar"),t.addCssClass("ag-".concat(null!=(e=this.params.cssIdentifier)?e:"default","-group-title-bar ag-unselectable")),this.eToggle=t,this.toggleGroupExpand(this.enabled),t}};Dm.EVENT_EXPANDED="expanded",Dm.EVENT_COLLAPSED="collapsed",Dm.EVENT_ENABLE_CHANGE="enableChange",Js([ah("eToolbar")],Dm.prototype,"eToolbar",2),Js([ah("cbGroupEnabled")],Dm.prototype,"cbGroupEnabled",2),Js([ah("eContainer")],Dm.prototype,"eContainer",2),Js([ja],Dm.prototype,"postConstruct",1);var Pm=Dm,Am="ag-disabled-group-title-bar",Mm=class e extends sh{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e.getTemplate(t)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:n}=t;i&&i.length>0&&(this.title=i),null!=n&&(this.suppressOpenCloseIcons=n)}static getTemplate(e){var t;const i=null!=(t=e.cssIdentifier)?t:"default";return'\n            <div class="ag-group-title-bar ag-'.concat(i,'-group-title-bar ag-unselectable" role="button">\n                <span class="ag-group-title-bar-icon ag-').concat(i,'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-').concat(i,'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-').concat(i,'-group-title"></span>\n            </div>\n        ')}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Md("columnSelectClosed",this.gos,null)),this.eGroupOpenedIcon.appendChild(Md("columnSelectOpen",this.gos,null)),this.addManagedListener(this.getGui(),"click",(()=>this.dispatchExpandChanged())),this.addManagedListener(this.getGui(),"keydown",(e=>{switch(e.key){case Fd.ENTER:case Fd.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case Fd.RIGHT:case Fd.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===Fd.RIGHT)}}))}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||Vu(this.getGui(),e)}refreshOpenCloseIcons(e){const t=!this.suppressOpenCloseIcons;zc(this.eGroupOpenedIcon,t&&e),zc(this.eGroupClosedIcon,t&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(t){const i={type:e.EVENT_EXPAND_CHANGED,expanded:t};this.dispatchEvent(i)}setTitle(e){const t=this.getGui(),i=!!e&&e.length>0;e=i?e:void 0,this.eTitle.textContent=null!=e?e:"",zc(t,i),e!==this.title&&(this.title=e);const n=t.classList.contains(Am);return this.refreshDisabledStyles(n),this}addWidget(e){return this.getGui().appendChild(e),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const t=this.getGui();e?(t.classList.add(Am),t.removeAttribute("tabindex")):(t.classList.remove(Am),"string"===typeof this.title?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex"))}};Mm.EVENT_EXPAND_CHANGED="expandedChanged",Js([ah("eGroupOpenedIcon")],Mm.prototype,"eGroupOpenedIcon",2),Js([ah("eGroupClosedIcon")],Mm.prototype,"eGroupClosedIcon",2),Js([ah("eTitle")],Mm.prototype,"eTitle",2),Js([ja],Mm.prototype,"postConstruct",1);var _m=Mm,km=class extends em{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=null!=t?t:{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case Fd.UP:case Fd.RIGHT:case Fd.DOWN:case Fd.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Fd.ESCAPE:this.closeIfIsChild()&&kl(e)}}handleFocusIn(e){var t,i;const n=e.relatedTarget;(this.tabGuardCtrl.isTabGuard(n)||!this.getGui().contains(n)&&!(null==(i=null==(t=this.activeMenuItem)?void 0:t.getSubMenuGui())?void 0:i.contains(n)))&&(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;const i=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||(null==(t=this.activeMenuItem.getSubMenuGui())?void 0:t.contains(i))||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){null!=e&&Zd.all(e.map((e=>"separator"===e?Zd.resolve({eGui:this.createSeparator()}):"string"===typeof e?(console.warn("AG Grid: unrecognised menu item ".concat(e)),Zd.resolve({eGui:null})):this.addItem(e)))).then((e=>{e.forEach((e=>{(null==e?void 0:e.eGui)&&(this.appendChild(e.eGui),e.comp&&this.menuItems.push(e.comp))}))}))}addItem(e){const t=this.createManagedBean(new Nm);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some((e=>e.isSubMenuOpen())),level:this.level,contextParams:this.params}).then((()=>(t.setParentComponent(this),this.addManagedListener(t,Nm.EVENT_CLOSE_MENU,(e=>{this.dispatchEvent(e)})),this.addManagedListener(t,Nm.EVENT_MENU_ITEM_ACTIVATED,(e=>{this.activeMenuItem&&this.activeMenuItem!==e.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=e.menuItem})),{comp:t,eGui:t.getGui()})))}activateFirstItem(){const e=this.menuItems.filter((e=>!e.isDisabled()))[0];e&&e.activate()}createSeparator(){return sd('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')}handleNavKey(e){switch(e){case Fd.UP:case Fd.DOWN:const t=this.findNextItem(e===Fd.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}e===(this.gos.get("enableRtl")?Fd.RIGHT:Fd.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return!!(t&&t instanceof Nm)&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter((e=>!e.isDisabled()));if(!t.length)return;if(!this.activeMenuItem)return e?hl(t):t[0];let i;e&&t.reverse();let n=!1;for(let o=0;o<t.length;o++){const e=t[o];if(n){i=e;break}e===this.activeMenuItem&&(n=!0)}return n&&!i?t[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};Js([qa("focusService")],km.prototype,"focusService",2),Js([ja],km.prototype,"postConstruct",1);var Fm=class extends em{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===Fd.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout((()=>e.getGui().focus()),0)}};Js([ja],Fm.prototype,"postConstruct",1);var Lm=class e extends Bl{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var t,i;const{menuItemDef:n,isAnotherSubMenuOpen:o,level:r,childComponent:s,contextParams:a}=e;this.params=e.menuItemDef,this.level=r,this.isAnotherSubMenuOpen=o,this.childComponent=s,this.contextParams=a,this.cssClassPrefix=null!=(i=null==(t=this.params.menuItemParams)?void 0:t.cssClassPrefix)?i:"ag-menu-option";return this.userComponentFactory.getMenuItemCompDetails(this.params,Xs(Qs({},n),{level:r,isAnotherSubMenuOpen:o,openSubMenu:e=>this.openSubMenu(e),closeSubMenu:()=>this.closeSubMenu(),closeMenu:e=>this.closeMenu(e),updateTooltip:(e,t)=>this.refreshTooltip(e,t),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then((e=>{var t;this.menuItemComp=e;const i=null==(t=e.configureDefaults)?void 0:t.call(e);i&&this.configureDefaults(!0===i?void 0:i)}))}addListeners(e,t){(null==t?void 0:t.suppressClick)||this.addManagedListener(e,"click",(e=>this.onItemSelected(e))),(null==t?void 0:t.suppressKeyboardSelect)||this.addManagedListener(e,"keydown",(e=>{e.key!==Fd.ENTER&&e.key!==Fd.SPACE||(e.preventDefault(),this.onItemSelected(e))})),(null==t?void 0:t.suppressMouseDown)||this.addManagedListener(e,"mousedown",(e=>{e.stopPropagation(),e.preventDefault()})),(null==t?void 0:t.suppressMouseOver)||(this.addManagedListener(e,"mouseenter",(()=>this.onMouseEnter())),this.addManagedListener(e,"mouseleave",(()=>this.onMouseLeave())))}isDisabled(){return!!this.params.disabled}openSubMenu(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var i,n;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const o=sd('<div class="ag-menu" role="presentation"></div>');let r;this.eSubMenuGui=o;let s=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const e=this.createBean(new Fm(this.childComponent));e.setParentComponent(this);const t=e.getGui(),i="mouseenter",n=()=>this.cancelDeactivate();t.addEventListener(i,n),r=()=>t.removeEventListener(i,n),o.appendChild(t),this.childComponent.afterGuiAttached&&(s=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const i=this.createBean(new km(this.level+1,this.contextParams));i.setParentComponent(this),i.addMenuItems(this.params.subMenu),o.appendChild(i.getGui()),this.addManagedListener(i,e.EVENT_CLOSE_MENU,(e=>this.dispatchEvent(e))),i.addGuiEventListener("mouseenter",(()=>this.cancelDeactivate())),r=()=>this.destroyBean(i),t&&(s=()=>{i.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:o}),l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:s});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var e,t;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),r(),null==(t=(e=this.menuItemComp).setExpanded)||t.call(e,!1),this.eSubMenuGui=void 0},null==(n=(i=this.menuItemComp).setExpanded)||n.call(i,!0)}setAriaExpanded(e){this.suppressAria||Vu(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var t,i;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),null==(i=(t=this.menuItemComp).setActive)||i.call(t,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout((()=>{this.isAlive()&&this.isActive&&this.openSubMenu()}),300),this.onItemActivated())}deactivate(){var e,t;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),null==(t=(e=this.menuItemComp).setActive)||t.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var t,i;null==(i=(t=this.menuItemComp).select)||i.call(t),this.params.action?this.getFrameworkOverrides().wrapOutgoing((()=>this.params.action(this.gos.addGridCommonParams(Qs({},this.contextParams))))):this.openSubMenu(e&&"keydown"===e.type),this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect||this.closeMenu(e)}closeMenu(t){const i={type:e.EVENT_CLOSE_MENU};t&&(t instanceof MouseEvent?i.mouseEvent=t:i.keyboardEvent=t),this.dispatchEvent(i)}onItemActivated(){const t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((()=>this.activate(!0)),e.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((()=>this.deactivate()),e.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var t,i,n;if(!this.menuItemComp)return void setTimeout((()=>this.configureDefaults(e)));let o=this.menuItemComp.getGui();const r=null==(i=(t=this.menuItemComp).getRootElement)?void 0:i.call(t);r&&((null==e?void 0:e.suppressRootStyles)||o.classList.add("ag-menu-option-custom"),o=r),this.eGui=o,this.suppressRootStyles=!!(null==e?void 0:e.suppressRootStyles),this.suppressRootStyles||(o.classList.add(this.cssClassPrefix),null==(n=this.params.cssClasses)||n.forEach((e=>o.classList.add(e))),this.params.disabled&&o.classList.add("".concat(this.cssClassPrefix,"-disabled"))),(null==e?void 0:e.suppressTooltip)||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!(null==e?void 0:e.suppressAria),this.suppressAria||(xu(o,"treeitem"),Nu(o,this.level+1),this.params.disabled&&Ou(o,!0)),(null==e?void 0:e.suppressTabIndex)||o.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(o,e),this.suppressFocus=!!(null==e?void 0:e.suppressFocus)}refreshTooltip(e,t){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e&&this.menuItemComp&&(this.tooltipFeature=this.createBean(new nh({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:t})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Lm.EVENT_CLOSE_MENU="closeMenu",Lm.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",Lm.ACTIVATION_DELAY=80,Js([qa("popupService")],Lm.prototype,"popupService",2),Js([qa("userComponentFactory")],Lm.prototype,"userComponentFactory",2);var Nm=Lm,Om=class e extends sh{constructor(t){super(e.getTemplate(t)),this.config=t,this.closable=!0}static getTemplate(e){const t=e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(t,'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-').concat(t,'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-').concat(t,'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-').concat(t,'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-').concat(t,'-panel-content-wrapper"></div>\n        </div>')}postConstruct(){const{component:e,closable:t,hideTitleBar:i,title:n,minWidth:o=250,width:r,minHeight:s=250,height:a,centered:l,popup:u,x:c,y:d}=this.config;this.positionableFeature=new vh(this.getGui(),{minWidth:o,width:r,minHeight:s,height:a,centered:l,x:c,y:d,popup:u,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const h=this.getGui();e&&this.setBodyComponent(e),i?zc(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(null!=t?t:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(e=>{if(h.contains(e.relatedTarget)||h.contains(this.gos.getActiveDomElement())||this.eTitleBarButtons.contains(e.target))return void e.preventDefault();const t=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");t&&t.focus()})),u&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const t=this.closeButtonComp=new sh(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(t);const i=t.getGui(),n=_d("close",this.gos);n.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(n),this.addTitleBarButton(t),t.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const e=this.closeButtonComp.getGui();e.parentElement.removeChild(e),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const i=this.eTitleBarButtons,n=i.children,o=n.length;null==t&&(t=o),t=Math.max(0,Math.min(t,o)),e.addCssClass("ag-panel-title-bar-button");const r=e.getGui();0===t?i.insertAdjacentElement("afterbegin",r):t===o?i.insertAdjacentElement("beforeend",r):n[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)}getBodyHeight(){return qc(this.eContentWrapper)}getBodyWidth(){return Qc(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&rd(e)&&this.close(),super.destroy()}};Om.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Js([ah("eContentWrapper")],Om.prototype,"eContentWrapper",2),Js([ah("eTitleBar")],Om.prototype,"eTitleBar",2),Js([ah("eTitleBarButtons")],Om.prototype,"eTitleBarButtons",2),Js([ah("eTitle")],Om.prototype,"eTitle",2),Js([ja],Om.prototype,"postConstruct",1);var Im=Om;Js([qa("popupService")],class extends Im{constructor(e){super(Xs(Qs({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",(t=>{this.popupService.bringPopupToFront(e)})),t&&this.setMovable(t),n&&this.setMaximizable(n),i&&this.setResizable(i)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:n,afterGuiAttached:o}=this.config,r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:n||r("ariaLabelDialog","Dialog"),afterGuiAttached:o});s&&(this.close=s.hideFunc)}onClosed(e){var t,i;this.destroy(),null==(i=(t=this.config).closedCallback)||i.call(t,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:t,width:i,height:n}=this.lastPosition;this.setWidth(i),this.setHeight(n),this.positionableFeature.offsetElement(e,t)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){zc(this.maximizeIcon,!this.isMaximized),zc(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((e=>e())),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(()=>{this.isMaximized=!1,this.refreshMaximizeIcon()}))}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new sh('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=_d("maximize",this.gos),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=_d("minimize",this.gos),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}}.prototype,"popupService",2);var Gm=0,Vm=class extends Bl{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady((e=>{this.gridCtrl=e.gridCtrl})),this.addManagedListener(this.eventService,Kl.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);if(-1!==n){this.popupList[n].alignedToElement=t}const o=t.getBoundingClientRect(),r=this.getParentRect(),s=this.keepXYWithinBounds(i,o.top-r.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth="".concat(a,"px");const l=r.right-r.left-a;let u;function c(){return o.right-r.left-2}function d(){return o.left-r.left-a}this.gos.get("enableRtl")?(u=d(),u<0&&(u=c(),this.setAlignedStyles(i,"left")),u>l&&(u=0,this.setAlignedStyles(i,"right"))):(u=c(),u>l&&(u=d(),this.setAlignedStyles(i,"right")),u<0&&(u=0,this.setAlignedStyles(i,"left"))),i.style.left="".concat(u,"px"),i.style.top="".concat(s,"px")}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:o,eventSource:r,alignSide:s="left",position:a="over",column:l,rowNode:u,type:c}=e,d=r.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(-1!==p){this.popupList[p].alignedToElement=r}this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:o,updatePosition:()=>{let i,o=d.left-h.left;if("right"===s&&(o-=t.offsetWidth-d.width),"over"===a)i=d.top-h.top,this.setAlignedStyles(t,"over");else{this.setAlignedStyles(t,"under");i="under"===this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)?d.top-h.top+d.height:d.top-t.offsetHeight-2*(n||0)-h.top}return{x:o,y:i}},postProcessCallback:()=>this.callPostProcessPopup(c,t,r,null,l,u)})}shouldRenderUnderOrAbove(e,t,i,n){const o=i.bottom-t.bottom,r=t.top-i.top,s=e.offsetHeight+n;return o>s?"under":r>s||r>o?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i],{alignedToElement:o}=n;if(!o)return;["right","left","over","above","under"].forEach((t=>{o.classList.remove("ag-has-popup-positioned-".concat(t)),e.classList.remove("ag-popup-positioned-".concat(t))})),t&&(o.classList.add("ag-has-popup-positioned-".concat(t)),e.classList.add("ag-popup-positioned-".concat(t)))}callPostProcessPopup(e,t,i,n,o,r){const s=this.gos.getCallback("postProcessPopup");if(s){s({column:o,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:n})}}positionPopup(e){var t=this;const{ePopup:i,keepWithinBounds:n,nudgeX:o,nudgeY:r,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},u=function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{x:u,y:c}=a();s&&i.clientWidth===l.width&&i.clientHeight===l.height||(l.width=i.clientWidth,l.height=i.clientHeight,o&&(u+=o),r&&(c+=r),n&&(u=t.keepXYWithinBounds(i,u,1),c=t.keepXYWithinBounds(i,c,0)),i.style.left="".concat(u,"px"),i.style.top="".concat(c,"px"),e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const e=this.resizeObserverService.observeResize(i,(()=>u(!0)));setTimeout((()=>e()),Vm.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map((e=>e.element))}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Jc(t)}keepXYWithinBounds(e,t,i){const n=0===i,o=n?"clientHeight":"clientWidth",r=n?"top":"left",s=n?"offsetHeight":"offsetWidth",a=n?"scrollTop":"scrollLeft",l=this.gos.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=c.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),p=c===l.body,g=e[s];let f=p?(n?Xc:$c)(u)+u[a]:c[o];p&&(f-=Math.abs(h[r]-d[r]));const m=f-g;return Math.min(Math.max(t,0),Math.abs(m))}addPopup(e){const t=this.gos.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:o,positionCallback:r,anchorToElement:s}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(-1!==a){return{hideFunc:this.popupList[a].hideFunc}}this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,n,!!o),u=this.addEventListenersToPopup(Xs(Qs({},e),{wrapperEl:l}));return r&&r(),this.addPopupToPopupList(i,l,u,s),{hideFunc:u}}initialisePopupPosition(e){const t=this.getPopupParent().getBoundingClientRect();ia(e.style.top)||(e.style.top="".concat(-1*t.top,"px")),ia(e.style.left)||(e.style.left="".concat(-1*t.left,"px"))}createPopupWrapper(e,t,i){const n=this.getPopupParent(),o=document.createElement("div"),{allThemes:r}=this.environment.getTheme();return r.length&&o.classList.add(...r),o.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||xu(e,"dialog"),Au(e,t),o.appendChild(e),n.appendChild(o),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const t of this.popupList){for(const e of Array.from(t.wrapper.classList))e.startsWith("ag-theme-")&&t.wrapper.classList.remove(e);e.length&&t.wrapper.classList.add(...e)}}addEventListenersToPopup(e){var t=this;const i=this.gos.getDocument(),n=this.getPopupParent(),{wrapperEl:o,eChild:r,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:u}=e;let c=!1;const d=e=>{if(!o.contains(this.gos.getActiveDomElement()))return;e.key!==Fd.ESCAPE||Fl(e)||g({keyboardEvent:e})},h=e=>g({mouseEvent:e}),p=e=>g({touchEvent:e}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mouseEvent:a,touchEvent:l,keyboardEvent:u,forceHide:g}=e;(g||!t.isEventFromCurrentPopup({mouseEvent:a,touchEvent:l},r)&&!c)&&(c=!0,n.removeChild(o),i.removeEventListener("keydown",d),i.removeEventListener("mousedown",h),i.removeEventListener("touchstart",p),i.removeEventListener("contextmenu",h),t.eventService.removeEventListener(Kl.EVENT_DRAG_STARTED,h),s&&s(a||l||u),t.removePopupFromPopupList(r))};return a&&a({hidePopup:g}),window.setTimeout((()=>{l&&i.addEventListener("keydown",d),u&&(i.addEventListener("mousedown",h),this.eventService.addEventListener(Kl.EVENT_DRAG_STARTED,h),i.addEventListener("touchstart",p),i.addEventListener("contextmenu",h))}),0),g}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:Gm++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex((t=>t.element===e))}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then((e=>e&&e())),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=o,n.isAnchored=!0,o}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((t=>t.element!==e))}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:o}=e,r=n.getBoundingClientRect(),s=i.top-r.top,a=i.left-r.left;let l=s,u=a;const c=o.style.top,d=parseInt(c.substring(0,c.length-1),10),h=o.style.left,p=parseInt(h.substring(0,h.length-1),10);return new Zd((i=>{this.getFrameworkOverrides().setInterval((()=>{const i=t.getBoundingClientRect(),r=n.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)return void e.hidePopup();const c=i.top-r.top;if(c!=l){const e=this.keepXYWithinBounds(o,d+s-c,0);o.style.top="".concat(e,"px")}l=c;const h=i.left-r.left;if(h!=u){const e=this.keepXYWithinBounds(o,p+a-h,1);o.style.left="".concat(e,"px")}u=h}),200).then((e=>{i((()=>{null!=e&&window.clearInterval(e)}))}))}))}hasAnchoredPopup(){return this.popupList.some((e=>e.isAnchored))}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,o=i||n;if(!o)return!1;const r=this.getPopupIndex(t);if(-1===r)return!1;for(let s=r;s<this.popupList.length;s++){if(Ol(this.popupList[s].element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;const a=i.indexOf(s),l=s.querySelectorAll("div"),u=[];if(l.forEach((e=>{0!==e.scrollTop&&u.push([e,e.scrollTop])})),r){s.classList.contains("ag-always-on-top")?a!==n-1&&hl(o).insertAdjacentElement("afterend",s):a!==n-r-1&&o[0].insertAdjacentElement("beforebegin",s)}else a!==n-1&&hl(i).insertAdjacentElement("afterend",s);for(;u.length;){const e=u.pop();e[0].scrollTop=e[1]}}};Vm.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Js([qa("focusService")],Vm.prototype,"focusService",2),Js([qa("ctrlsService")],Vm.prototype,"ctrlsService",2),Js([qa("resizeObserverService")],Vm.prototype,"resizeObserverService",2),Js([ja],Vm.prototype,"postConstruct",1),Vm=Js([Ya("popupService")],Vm);var Hm=class extends sh{constructor(){super('\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>'),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let i=!1;if(ia(e)){const n=null==(t=this.value)?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){i=!0,this.hasHighlighting=!0;const t=n+e.length,o=iu(this.value.slice(0,n)),r=iu(this.value.slice(n,t)),s=iu(this.value.slice(t));this.getGui().lastElementChild.innerHTML="".concat(o,"<b>").concat(r,"</b>").concat(s)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=null!=(e=iu(this.value))?e:"&nbsp;"}},Bm=class e extends up{constructor(t){super(e.TEMPLATE),this.params=t,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Sm({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:e=>this.autocompleteEntries[e]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",(()=>this.params.onConfirmed())),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",(e=>e.preventDefault())),this.setSelectedValue(0)}onNavigationKeyDown(e,t){e.preventDefault();const i=this.autocompleteEntries.indexOf(this.selectedValue),n=t===Fd.UP?i-1:i+1;this.checkSetSelectedValue(n)}setSearch(e){this.searchString=e,ia(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,t){let i,n=!1;const o=e.toLocaleLowerCase(),r=t.filter((e=>{const t=e.toLocaleLowerCase().indexOf(o),r=0===t,s=t>=0;return s&&(!i||!n&&r||n===r&&e.length<i.length)&&(i=e,n=r),s}));return!i&&r.length&&(i=r[0]),{topMatch:i,allMatches:r}}runSearch(){var e,t;const{autocompleteEntries:i}=this.params,n=i.map((e=>{var t;return null!=(t=e.displayValue)?t:e.key}));let o,r;if(this.params.useFuzzySearch)o=Td(this.searchString,n,!0).values,r=o.length?o[0]:void 0;else{const e=this.runContainsSearch(this.searchString,n);o=e.allMatches,r=e.topMatch}let s=i.filter((e=>{let{key:t,displayValue:i}=e;return o.includes(null!=i?i:t)}));if(!s.length&&this.selectedValue&&(null==(t=null==(e=this.params)?void 0:e.forceLastSelection)?void 0:t.call(e,this.selectedValue,this.searchString))&&(s=[this.selectedValue]),this.autocompleteEntries=s,this.virtualList.refresh(),!r)return;const a=o.indexOf(r);this.checkSetSelectedValue(a)}updateSearchInList(){this.virtualList.forEachRenderedRow((e=>e.setSearchString(this.searchString)))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(((t,i)=>{t.updateSelected(e===i)})))}createRowComponent(e){var t;const i=new Hm;return this.getContext().createBean(i),i.setState(null!=(t=e.displayValue)?t:e.key,e===this.selectedValue),i}onMouseMove(e){const t=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),n=e.clientY-t.top+i,o=Math.floor(n/this.virtualList.getRowHeight());this.checkSetSelectedValue(o)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&null!=(e=this.selectedValue)?e:null}};Bm.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',Js([ah("eList")],Bm.prototype,"eList",2),Js([ja],Bm.prototype,"init",1);var Wm=Bm,zm=class e extends sh{constructor(){super('\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>'),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange((e=>this.onValueChanged(e))),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc((()=>{this.destroyBean(this.autocompleteList)})),this.addGuiEventListener("focusout",(()=>this.onFocusOut()))}onValueChanged(e){const t=ta(e);this.updateValue(t),this.updateAutocompleteList(t)}updateValue(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)}updateAutocompleteList(e){var t,i,n,o;const r=null!=(i=null==(t=this.listGenerator)?void 0:t.call(this,e,this.lastPosition))?i:{enabled:!1};if(r.type&&r.type===(null==(n=this.autocompleteListParams)?void 0:n.type)||this.isListOpen&&this.closeList(),this.autocompleteListParams=r,null==(o=this.autocompleteListParams)?void 0:o.enabled){this.isListOpen||this.openList();const{searchString:e}=this.autocompleteListParams;this.autocompleteList.setSearch(null!=e?e:"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const t=e.key;switch(this.updateLastPosition(),t){case Fd.ENTER:this.onEnterKeyDown(e);break;case Fd.TAB:this.onTabKeyDown(e);break;case Fd.DOWN:case Fd.UP:this.onUpDownKeyDown(e,t);break;case Fd.LEFT:case Fd.RIGHT:case Fd.PAGE_HOME:case Fd.PAGE_END:setTimeout((()=>{this.updatePositionAndList()}));break;case Fd.ESCAPE:this.onEscapeKeyDown(e);break;case Fd.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}}confirmSelection(){var t;const i=null==(t=this.autocompleteList)?void 0:t.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,t){var i;e.preventDefault(),this.isListOpen?null==(i=this.autocompleteList)||i.onNavigationKeyDown(e,t):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!=(e=this.eAutocompleteInput.getValue())?e:null)}setCaret(e,t){const i=this.gos.getDocument(),n=this.gos.getActiveDomElement();!t||n&&n!==i.body||this.eAutocompleteInput.getFocusableElement().focus();const o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=null!=(e=this.eAutocompleteInput.getInputElement().selectionStart)?e:0}validate(t){var i;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity(null!=(i=this.validationMessage)?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new Wm({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),t={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(t),ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return ta(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:t,position:i,silent:n,updateListOnlyIfOpen:o,restoreFocus:r}=e;this.eAutocompleteInput.setValue(t,!0),this.setCaret(null!=i?i:this.lastPosition,r),n||this.updateValue(t),o&&!this.isListOpen||this.updateAutocompleteList(t)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};zm.EVENT_VALUE_CHANGED="eventValueChanged",zm.EVENT_VALUE_CONFIRMED="eventValueConfirmed",zm.EVENT_OPTION_SELECTED="eventOptionSelected",zm.EVENT_VALID_CHANGED="eventValidChanged",Js([qa("popupService")],zm.prototype,"popupService",2),Js([ah("eAutocompleteInput")],zm.prototype,"eAutocompleteInput",2),Js([ja],zm.prototype,"postConstruct",1);var Um=zm,jm=class e extends sh{constructor(e,t,i,n){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=i,this.template=n}init(){var t;this.setTemplate(null!=(t=this.template)?t:e.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(_d("columnDrag",this.gos)),this.eButton.appendChild(_d("cancel",this.gos)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),Au(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){const i=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(i)}}setupTooltip(){const e=()=>{const e=this.getTooltip();this.setTooltip({newTooltipText:e})};e(),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Ep.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:t}=this,i=this.createGetDragItem(),n=this.getDefaultIconName(),o={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>n,getDragItem:i,dragItemName:this.getDisplayName()};e.addDragSource(o,!0),this.addDestroyFunc((()=>e.removeDragSource(o)))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){zc(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const t={type:e.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",(e=>this.onKeyDown(e))),this.addManagedListener(this.eButton,"click",(e=>{this.dispatchEvent(t),e.stopPropagation()}));const i=new ip(this.eButton);this.addManagedListener(i,ip.EVENT_TAP,(()=>{this.dispatchEvent(t)})),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(t){t.key===Fd.DELETE&&this.isRemovable()&&(t.preventDefault(),this.dispatchEvent({type:e.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=iu(this.getDisplayValue());this.eText.innerHTML=e}addElementClasses(e,t){t=t?"-".concat(t):"";const i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(t),"ag-column-drop-".concat(i,"-cell").concat(t))}destroy(){super.destroy(),this.dragSourceDropTarget=null}};jm.EVENT_COLUMN_REMOVE="columnRemove",jm.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',Js([qa("dragAndDropService")],jm.prototype,"dragAndDropService",2),Js([ah("eText")],jm.prototype,"eText",2),Js([ah("eDragHandle")],jm.prototype,"eDragHandle",2),Js([ah("eButton")],jm.prototype,"eButton",2),Js([ja],jm.prototype,"init",1);var Km=jm,Ym=class e extends sh{constructor(t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=t,this.state=e.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),xu(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:t,dragSource:i}=e;return t.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach((e=>e())),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,id(this.getGui()),id(this.ePillDropList)}init(e){this.params=null!=e?e:{},this.createManagedBean(new gh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new vh(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Au(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){const t=!this.horizontal;let i=e.key===Fd.DOWN,n=e.key===Fd.UP;if(!t){const t=this.gos.get("enableRtl");i=!t&&e.key===Fd.RIGHT||t&&e.key===Fd.LEFT,n=!t&&e.key===Fd.LEFT||t&&e.key===Fd.RIGHT}if(!i&&!n)return;const o=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);o&&(e.preventDefault(),o.focus())}addElementClasses(e,t){t=t?"-".concat(t):"";const i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(t),"ag-column-drop-".concat(i).concat(t))}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const t=this.getNewInsertIndex(e);if(t<0)return!1;const i=this.minimumAllowedNewInsertIndex(),n=Math.max(i,t),o=n!==this.insertIndex;return o&&(this.insertIndex=n),o}getNewInsertIndex(e){const t=e.event,i=this.horizontal?t.clientX:t.clientY,n=this.childPillComponents.map((e=>e.getGui().getBoundingClientRect())),o=n.findIndex((e=>this.horizontal?e.right>i&&e.left<i:e.top<i&&e.bottom>i));if(-1===o){const e=this.gos.get("enableRtl");if(n.every((e=>i>(this.horizontal?e.right:e.bottom))))return e&&this.horizontal?0:this.childPillComponents.length;return n.every((e=>i<(this.horizontal?e.left:e.top)))?e&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=o?o+1:o}checkDragStartedBySelf(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(t.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(t){const i=this.getItems(t.dragSource.getDragItem());this.state=e.STATE_NEW_ITEMS_IN;const n=i.filter((e=>this.isItemDroppable(e,t))),o=n.every((e=>-1!==this.childPillComponents.map((e=>e.getItem())).indexOf(e)));0!==n.length&&(this.potentialDndItems=n,o?this.state=e.STATE_NOT_DRAGGING:(this.handleDragEnterEnd(t),this.checkInsertIndex(t),this.refreshGui()))}isPotentialDndItems(){return dl(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(t){if(this.state===e.STATE_REARRANGE_ITEMS){const e=this.getItems(t.dragSource.getDragItem());this.removeItems(e)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(t),this.potentialDndItems=[],this.refreshGui()),this.state=e.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let t=!1;this.state===e.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),t=!0):t=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],!this.refreshOnDragStop()&&t||this.refreshGui()}this.state=e.STATE_NOT_DRAGGING}removeItems(e){const t=this.getExistingItems().filter((t=>!xl(e,t)));this.updateItems(t)}addItems(e){if(!e)return;const t=this.getExistingItems().slice(),i=e.filter((e=>t.indexOf(e)<0));El(t,i,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const t=this.getNonGhostItems().slice();return El(t,e,this.insertIndex),!pl(t,this.getExistingItems())&&(this.updateItems(t),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,t=this.resizeEnabled,i=this.getFocusedItem();let n=this.focusService.findNextFocusableElement();n||(n=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),this.focusService.isKeyboardMode()&&this.restoreFocus(i,n)}getFocusedItem(){const e=this.getGui(),t=this.gos.getActiveDomElement();if(!e.contains(t))return-1;return Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t)}restoreFocus(e,t){const i=this.getGui(),n=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(-1===e)return;0===n.length&&t.focus();const o=n[Math.min(n.length-1,e)];o&&o.focus()}focusList(e){const t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter((e=>!xl(this.potentialDndItems,e))):e}addItemsToGui(){const e=this.getNonGhostItems().map((e=>this.createItemComponent(e,!1)));if(this.isPotentialDndItems()){const t=this.potentialDndItems.map((e=>this.createItemComponent(e,!0)));this.insertIndex>=e.length?e.push(...t):e.splice(this.insertIndex,0,...t)}this.appendChild(this.ePillDropList),e.forEach(((e,t)=>{t>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(e.getGui())})),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach(((e,t)=>{const i=e.getGui();Wu(i,t+1),Bu(i,this.childPillComponents.length)}))}createItemComponent(e,t){const i=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return i.addEventListener(Km.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(i),this.guiDestroyFunctions.push((()=>this.destroyBean(i))),t||this.childPillComponents.push(i),i}addIconAndTitleToGui(){const{title:e,icon:t}=this.params;if(!e||!t)return;const i=document.createElement("div");if(Iu(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(t),!this.horizontal){const t=document.createElement("span");this.addElementClasses(t,"title"),t.innerHTML=e,i.appendChild(t)}this.appendChild(i)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const t=document.createElement("span");t.innerHTML=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){const t=_d(this.gos.get("enableRtl")?"smallLeft":"smallRight",this.gos);this.addElementClasses(t,"cell-separator"),e.appendChild(t)}}};Ym.STATE_NOT_DRAGGING="notDragging",Ym.STATE_NEW_ITEMS_IN="newItemsIn",Ym.STATE_REARRANGE_ITEMS="rearrangeItems",Js([qa("focusService")],Ym.prototype,"focusService",2),Js([qa("dragAndDropService")],Ym.prototype,"dragAndDropService",2);var qm=["touchstart","touchend","touchmove","touchcancel"],Qm=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(e,t){return new Zd((i=>{i(window.setInterval(e,t))}))}addEventListener(e,t,i,n){const o=xl(qm,t);e.addEventListener(t,i,{capture:!!n,passive:o})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){const t="solid"===this.frameworkName?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(t,"-data-grid").concat(e?"/".concat(e):"")}},Xm=class extends Bl{getNextCellToFocus(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===Fd.UP,n=e===Fd.DOWN,o=e===Fd.LEFT;let r,s;if(i||n)s=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),r=t.column;else{const e=this.columnModel.getAllDisplayedColumns(),i=this.gos.get("enableRtl");s=t.rowIndex,r=o!==i?e[0]:hl(e)}return{rowIndex:s,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case Fd.UP:i=this.getCellAbove(i);break;case Fd.DOWN:i=this.getCellBelow(i);break;case Fd.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case Fd.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}n=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}if(!i)return!1;return!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(n);return o||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;let i=[];i=this.rowRenderer.getStickyTopRowCtrls().some((t=>t.getRowNode().rowIndex===e.rowIndex))?[...this.rowRenderer.getStickyTopRowCtrls()].sort(((e,t)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex)):[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex));const n=t?-1:1,o=i.findIndex((t=>t.getRowNode().rowIndex===e.rowIndex)),r=i[o+n];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;if("top"===t){return this.pinnedRowModel.getPinnedTopRowData().length-1<=i}if("bottom"===t){return this.pinnedRowModel.getPinnedBottomRowData().length-1<=i}return this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?0===t:t===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const n=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(n,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,n=e.rowPinned,o=this.columnModel.getDisplayedColAfter(e.column);if(!o){o=t[0];const r=this.getRowBelow(e);if(na(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,n=e.rowPinned,o=this.columnModel.getDisplayedColBefore(e.column);if(!o){o=hl(t);const r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(na(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}};Js([qa("columnModel")],Xm.prototype,"columnModel",2),Js([qa("rowModel")],Xm.prototype,"rowModel",2),Js([qa("rowRenderer")],Xm.prototype,"rowRenderer",2),Js([qa("pinnedRowModel")],Xm.prototype,"pinnedRowModel",2),Js([qa("paginationProxy")],Xm.prototype,"paginationProxy",2),Xm=Js([Ya("cellNavigationService")],Xm);var $m=class extends Bl{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let t=null!=(e=this.gos.get("alignedGrids"))?e:[];const i="function"===typeof t;"function"===typeof t&&(t=t());const n=()=>"See ".concat(this.getFrameworkOverrides().getDocLink("aligned-grids")),o=t.map((e=>{var t;if(!e)return Da("alignedGrids contains an undefined option."),i||Da('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Da(n());if(e instanceof Sg)return e;const o=e;return"current"in o?null==(t=o.current)?void 0:t.api:(o.api||Da("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(n())),o.api)})).filter((e=>!!e&&!e.isDestroyed()));return o}init(){this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach((t=>{if(t.isDestroyed())return;const i=t.__getAlignedGridService();e(i)}))}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent((t=>{t.onColumnEvent(e)}))}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent((t=>{t.onScrollEvent(e)}))}onScrollEvent(e){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach((e=>{t.push(e)})):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach((e=>{t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent((()=>{switch(e.type){case Kl.EVENT_COLUMN_MOVED:case Kl.EVENT_COLUMN_VISIBLE:case Kl.EVENT_COLUMN_PINNED:case Kl.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case Kl.EVENT_COLUMN_GROUP_OPENED:const i=e;this.processGroupOpenedEvent(i);break;case Kl.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(e){e.columnGroups.forEach((t=>{let i=null;if(t){const e=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(e)}t&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))}))}processColumnEvent(e){var t;const i=e.column;let n=null;if(i&&(n=this.columnModel.getPrimaryColumn(i.getColId())),i&&!n)return;const o=this.getMasterColumns(e);switch(e.type){case Kl.EVENT_COLUMN_MOVED:{const t=e,i=e.api.getColumnState().map((e=>({colId:e.colId})));this.columnModel.applyColumnState({state:i,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(t.toIndex))}break;case Kl.EVENT_COLUMN_VISIBLE:{const t=e,i=e.api.getColumnState().map((e=>({colId:e.colId,hide:e.hide})));this.columnModel.applyColumnState({state:i},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(t.visible))}break;case Kl.EVENT_COLUMN_PINNED:{const t=e,i=e.api.getColumnState().map((e=>({colId:e.colId,pinned:e.pinned})));this.columnModel.applyColumnState({state:i},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(t.pinned))}break;case Kl.EVENT_COLUMN_RESIZED:const i=e,n={};o.forEach((t=>{this.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(t.getActualWidth())),n[t.getId()]={key:t.getColId(),newWidth:t.getActualWidth()}})),null==(t=i.flexColumns)||t.forEach((e=>{n[e.getId()]&&delete n[e.getId()]})),this.columnModel.setColumnWidths(Object.values(n),!1,i.finished,"alignedGridChanged")}const r=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((e=>{e.setGridOption("alwaysShowVerticalScroll",r)}))}};Js([qa("columnModel")],$m.prototype,"columnModel",2),Js([qa("ctrlsService")],$m.prototype,"ctrlsService",2),Js([Zs(0,$a("loggerFactory"))],$m.prototype,"setBeans",1),Js([ja],$m.prototype,"init",1),$m=Js([Ya("alignedGridsService")],$m);var Jm=class extends Bl{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})})),this.addManagedListener(this.eventService,Kl.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(e){var t;const{newValue:i,clearSelection:n,suppressFinishActions:o,rangeSelect:r,nodes:s,event:a,source:l="api"}=e;if(0===s.length)return 0;if(s.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const u=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=s.map((e=>e.footer?e.sibling:e));if(r){if(s.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let e=null;if("checkboxSelected"===l&&!1===i&&this.lastRowNode&&(this.lastRowNode.id?e=this.lastRowNode:this.lastRowNode=null),null==e&&(e=this.getLastSelectedNode()),e){const t=c[0];if(t!==e&&this.isMultiselect())return this.selectRange(t,e,i,l)}}this.lastRowNode=i?null:c[0];let d=0;for(let h=0;h<c.length;h++){const e=c[h];if(!(u&&e.group)){e.selectThisNode(i,a,l)&&d++}this.groupSelectsChildren&&(null==(t=e.childrenAfterGroup)?void 0:t.length)&&(d+=this.selectChildren(e,i,u,l))}if(!o){if(i&&(n||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],l)),d>0){this.updateGroupsFromChildrenSelections(l);const e={type:Kl.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(e)}}return d}selectRange(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;const o=this.rowModel.getNodesInRangeForSelection(e,t);let r=0;o.forEach((e=>{if(e.group&&this.groupSelectsChildren)return;e.selectThisNode(i,void 0,n)&&r++})),this.updateGroupsFromChildrenSelections(n);const s={type:Kl.EVENT_SELECTION_CHANGED,source:n};return this.eventService.dispatchEvent(s),r}selectChildren(e,t,i,n){const o=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return na(o)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:o})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());if(0==e.length)return null;const t=this.selectedNodes.get(hl(e));return t||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach((t=>{t&&e.push(t)})),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach((t=>{t&&t.data&&e.push(t.data)})),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach(((i,n)=>{i&&e(i)&&t.set(n,i)})),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;const i=this.rowModel.getRootNode();t||(t=new dm(!0,i)).setInactive();let n=!1;return t.forEachChangedNodeDepthFirst((t=>{if(t!==i){const i=t.calculateSelectedFromChildren();n=t.selectThisNode(null!==i&&i,void 0,e)||n}})),n}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach((o=>{if(o&&o.id!==e.id){const e=this.selectedNodes.get(o.id);n+=e.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&o.parent&&i.set(o.parent.id,o.parent)}})),i.forEach((e=>{const i=e.calculateSelectedFromChildren();e.selectThisNode(null!==i&&i,void 0,t)})),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(ia(t)&&e.id!==t.id&&t){const i=t.id;this.selectedNodes.get(i)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();if(this.resetNodes(),t){const t={type:Kl.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(t)}}resetNodes(){var e;null==(e=this.selectedNodes)||e.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const t=[];return function e(i){for(let n=0,o=i.length;n<o;n++){const o=i[n];if(o.isSelected())t.push(o);else{const t=o;t.group&&t.children&&e(t.children)}}}(e),t}isEmpty(){let e=0;return this.selectedNodes.forEach((t=>{t&&e++})),0===e}deselectAllRowNodes(e){const t=e=>e.selectThisNode(!1,void 0,n),i="clientSide"===this.rowModel.getType(),{source:n,justFiltered:o,justCurrentPage:r}=e;if(r||o){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(o,r).forEach(t)}else this.selectedNodes.forEach((e=>{e&&t(e)})),this.reset(n);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);const s={type:Kl.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(s)}getSelectedCounts(e,t){let i=0,n=0;return this.getNodesToSelect(e,t).forEach((e=>{this.groupSelectsChildren&&e.group||(e.isSelected()?i++:e.selectable&&n++)})),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return(0!==i||0!==n)&&(i>0&&n>0?null:i>0)}hasNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getNodesToSelect(e,t).filter((e=>e.selectable)).length>0}getNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));const i=[];if(t)return this.paginationProxy.forEachNodeOnPage((e=>{if(e.group)if(e.expanded)this.groupSelectsChildren||i.push(e);else{const t=e=>{var n;i.push(e),(null==(n=e.childrenAfterFilter)?void 0:n.length)&&e.childrenAfterFilter.forEach(t)};t(e)}else i.push(e)})),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter((e=>{i.push(e)})),i):(n.forEachNode((e=>{i.push(e)})),i)}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));const{source:t,justFiltered:i,justCurrentPage:n}=e;this.getNodesToSelect(i,n).forEach((e=>e.selectThisNode(!0,void 0,t))),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const o={type:Kl.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(o)}getSelectionState(){const e=[];return this.selectedNodes.forEach((t=>{(null==t?void 0:t.id)&&e.push(t.id)})),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const i=new Set(e),n=[];this.rowModel.forEachNode((e=>{i.has(e.id)&&n.push(e)})),this.setNodesSelected({newValue:!0,nodes:n,source:t})}};Js([qa("rowModel")],Jm.prototype,"rowModel",2),Js([qa("paginationProxy")],Jm.prototype,"paginationProxy",2),Js([ja],Jm.prototype,"init",1),Jm=Js([Ya("selectionService")],Jm);var Zm=class{constructor(e){var t=this;this.viaApi=function(e){Ta("Since v31, 'columnApi.".concat(e,"' is deprecated and moved to 'api.").concat(e,"'."));for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return t.api[e](...n)},this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,t){this.viaApi("setColumnGroupOpened",e,t)}getColumnGroup(e,t){return this.viaApi("getColumnGroup",e,t)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,t){return this.viaApi("getDisplayNameForColumn",e,t)}getDisplayNameForColumnGroup(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,t){this.viaApi("setColumnVisible",e,t)}setColumnsVisible(e,t){this.viaApi("setColumnsVisible",e,t)}setColumnPinned(e,t){this.viaApi("setColumnPinned",e,t)}setColumnsPinned(e,t){this.viaApi("setColumnsPinned",e,t)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,t){this.viaApi("moveColumn",e,t)}moveColumnByIndex(e,t){this.viaApi("moveColumnByIndex",e,t)}moveColumns(e,t){this.viaApi("moveColumns",e,t)}moveRowGroupColumn(e,t){this.viaApi("moveRowGroupColumn",e,t)}setColumnAggFunc(e,t){this.viaApi("setColumnAggFunc",e,t)}setColumnWidth(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;this.viaApi("setColumnWidth",e,t,i,n)}setColumnWidths(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;this.viaApi("setColumnWidths",e,t,i)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,t){return this.viaApi("getPivotResultColumn",e,t)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,t){return this.viaApi("autoSizeColumn",e,t)}autoSizeColumns(e,t){this.viaApi("autoSizeColumns",e,t)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};Js([qa("gridApi")],Zm.prototype,"api",2),Zm=Js([Ya("columnApi")],Zm);var ev=class extends Bl{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e),t=this.gos.useAsyncEvents();this.eventService.addEventListener(Kl.EVENT_CELL_VALUE_CHANGED,e,t),this.addDestroyFunc((()=>this.eventService.removeEventListener(Kl.EVENT_CELL_VALUE_CHANGED,e,t))),this.addManagedPropertyListener("treeData",(e=>this.isTreeData=e.currentValue))}getValue(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised||this.init(),!t)return;const o=e.getColDef(),r=o.field,s=e.getColId(),a=t.data;let l;const u=t.groupData&&void 0!==t.groupData[s],c=!n&&t.aggData&&void 0!==t.aggData[s],d=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&o.filterValueGetter?l=this.executeFilterValueGetter(o.filterValueGetter,a,e,t):this.isTreeData&&c?l=t.aggData[s]:this.isTreeData&&o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,e,t):this.isTreeData&&r&&a?l=wa(a,r,e.isFieldContainsDots()):u?l=t.groupData[s]:c?l=t.aggData[s]:o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,e,t):h?l=wa(a,t.field,e.isFieldContainsDots()):r&&a&&!d&&(l=wa(a,r,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof l&&0===l.indexOf("=")){const i=l.substring(1);l=this.executeValueGetter(i,a,e,t)}if(null==l){const i=this.getOpenedGroup(t,e);if(null!=i)return i}return l}parseValue(e,t,i,n){const o=e.getColDef(),r=this.gos.addGridCommonParams({node:t,data:null==t?void 0:t.data,oldValue:n,newValue:i,colDef:o,column:e}),s=o.valueParser;return ia(s)?"function"===typeof s?s(r):this.expressionService.evaluate(s,r):i}formatValue(e,t,i,n){let o,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=null;const a=e.getColDef();if(n?o=n:r&&(o=a.valueFormatter),o){const n=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});s="function"===typeof o?o(n):this.expressionService.evaluate(o,n)}else if(a.refData)return a.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup"))return;if(!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let n=e.parent;for(;null!=n;){if(n.rowGroupColumn&&(!0===i||i===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(e,t,i,n){const o=this.columnModel.getPrimaryColumn(t);if(!e||!o)return!1;na(e.data)&&(e.data={});const{field:r,valueSetter:s}=o.getColDef();if(na(r)&&na(s))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(o,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(o,e),newValue:i,colDef:o.getColDef(),column:o});let l;if(a.newValue=i,l=ia(s)?"function"===typeof s?s(a):this.expressionService.evaluate(s,a):this.setValueUsingField(e.data,r,i,o.isFieldContainsDots()),void 0===l&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(o,e);const u={type:Kl.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n};return this.eventService.dispatchEvent(u),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"===typeof t&&this.getFrameworkOverrides().wrapOutgoing((()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})}))}setValueUsingField(e,t,i,n){if(!t)return!1;let o=!1;if(n){const n=t.split(".");let r=e;for(;n.length>0&&r;){const e=n.shift();0===n.length?(o=r[e]===i,o||(r[e]=i)):r=r[e]}}else o=e[t]===i,o||(e[t]=i);return!o}executeFilterValueGetter(e,t,i,n){const o=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return"function"===typeof e?e(o):this.expressionService.evaluate(e,o)}executeValueGetter(e,t,i,n){const o=i.getColId(),r=this.valueCache.getValue(n,o);if(void 0!==r)return r;const s=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return a="function"===typeof e?e(s):this.expressionService.evaluate(e,s),this.valueCache.setValue(n,o,a),a}getValueCallback(e,t){const i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let o=i;if(n){o=n(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"===typeof o||null==o||(o=String(o),"[object Object]"===o&&Ta("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),o}};Js([qa("expressionService")],ev.prototype,"expressionService",2),Js([qa("columnModel")],ev.prototype,"columnModel",2),Js([qa("valueCache")],ev.prototype,"valueCache",2),Js([qa("dataTypeService")],ev.prototype,"dataTypeService",2),Js([ja],ev.prototype,"init",1),ev=Js([Ya("valueService")],ev);var tv=class extends Bl{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{const i=this.createExpressionFunction(e);return i(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};Js([Zs(0,$a("loggerFactory"))],tv.prototype,"setBeans",1),tv=Js([Ya("expressionService")],tv);var iv=class extends Bl{setBeans(e){this.logging=e.get("debug")}create(e){return new nv(e,this.isLogging.bind(this))}isLogging(){return this.logging}};Js([Zs(0,$a("gridOptionsService"))],iv.prototype,"setBeans",1),iv=Js([Ya("loggerFactory")],iv);var nv=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},ov=class extends Bl{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:e=>1===e||0===e,getIconName:()=>Ep.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Mg(this.view)),this.addRtlSupport();const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>n())),this.ctrlsService.register("gridCtrl",this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return(null==(e=null==t?void 0:t.getAttribute("row-id"))?void 0:e.startsWith("detail"))||!1}showDropZones(){return Wa.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Wa.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Wa.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Wa.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const e={type:Kl.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.view.getFocusableContainers(),i=this.gos.getActiveDomElement(),n=t.findIndex((e=>e.contains(i)))+(e?-1:1);return!(n<=0||n>=t.length)&&this.focusService.focusInto(t[n])}focusInnerElement(e){const t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(hl(t),!0);const e=hl(i);if(this.focusService.focusGridView(e,!0))return!0}if(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let e=1;e<t.length;e++)if(this.focusService.focusInto(t[e]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}};Js([qa("focusService")],ov.prototype,"focusService",2),Js([qa("resizeObserverService")],ov.prototype,"resizeObserverService",2),Js([qa("columnModel")],ov.prototype,"columnModel",2),Js([qa("ctrlsService")],ov.prototype,"ctrlsService",2),Js([qa("mouseEventService")],ov.prototype,"mouseEventService",2),Js([qa("dragAndDropService")],ov.prototype,"dragAndDropService",2);var rv=class extends em{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:e=>this.addCssClass(e),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:e=>{this.getGui().style.userSelect=null!=e?e:"",this.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:e=>{this.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new ov);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>this.ctrl.focusInnerElement(e),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc((()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")}))}updateLayoutClasses(e,t){const i=this.eRootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return'<div class="ag-root-wrapper" role="presentation">\n                '.concat(e,'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ').concat(t,"\n                </div>\n                ").concat(i,"\n                <ag-pagination></ag-pagination>\n                ").concat(n,"\n            </div>")}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter((e=>rd(e)))}};Js([qa("loggerFactory")],rv.prototype,"loggerFactory",2),Js([ah("gridBody")],rv.prototype,"gridBodyComp",2),Js([ah("sideBar")],rv.prototype,"sideBarComp",2),Js([ah("rootWrapperBody")],rv.prototype,"eRootWrapperBody",2),Js([ja],rv.prototype,"postConstruct",1);var sv=class extends Bl{progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){"asc"!==t&&"desc"!==t&&(t=null);let o=[e];if(this.gos.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const t=this.columnModel.getSourceColumnsForGroupColumn(e),i=null==t?void 0:t.filter((e=>e.isSortable()));i&&(o=[e,...i])}o.forEach((e=>e.setSort(t,n)));const r=[];if(!((i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(o,n);r.push(...e)}this.updateSortIndex(e),r.push(...o),this.dispatchSortChangedEvents(n,r)}updateSortIndex(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),n=t&&i||e,o=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((e=>e.setSortIndex(null)));const r=o.filter((e=>(!t||!e.getColDef().showRowGroup)&&e!==n));(n.getSort()?[...r,n]:r).forEach(((e,t)=>{e.setSortIndex(t)}))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((e=>!!e.getSort()));return e&&e.length>0}dispatchSortChangedEvents(e,t){const i={type:Kl.EVENT_SORT_CHANGED,source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))})),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):sv.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(t)),null;const i=t.indexOf(e.getSort()),n=i<0,o=i==t.length-1;let r;return r=n||o?t[0]:t[i+1],sv.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("AG Grid: invalid sort type "+r),null):r}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((e=>!!e.getSort()));if(this.columnModel.isPivotMode()){const t=this.gos.isColumnsSortingCoupledToGroup();e=e.filter((e=>{const i=!!e.getAggFunc(),n=!e.isPrimary(),o=t?this.columnModel.getGroupDisplayColumnForGroup(e.getId()):e.getColDef().showRowGroup;return i||n||o}))}const t=this.columnModel.getRowGroupColumns().filter((e=>!!e.getSort())),i={};e.forEach(((e,t)=>i[e.getId()]=t)),e.sort(((e,t)=>{const n=e.getSortIndex(),o=t.getSortIndex();if(null!=n&&null!=o)return n-o;if(null==n&&null==o){return i[e.getId()]>i[t.getId()]?1:-1}return null==o?-1:1}));const n=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map((e=>{var t;return null!=(t=this.columnModel.getGroupDisplayColumnForGroup(e.getId()))?t:e})))]);const o=new Map;return e.forEach(((e,t)=>o.set(e,t))),n&&t.forEach((e=>{const t=this.columnModel.getGroupDisplayColumnForGroup(e.getId());o.set(e,o.get(t))})),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(((e,t)=>{let[i,n]=e,[o,r]=t;return n-r})).map((e=>{let[t]=e;return t}))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),colId:e.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),column:e})))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(null==t?void 0:t.length))return e.getSort();const i=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...t]:t,n=i[0].getSort();return i.every((e=>e.getSort()==n))?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};sv.DEFAULT_SORTING_ORDER=["asc","desc",null],Js([qa("columnModel")],sv.prototype,"columnModel",2),sv=Js([Ya("sortController")],sv);var av=class extends Bl{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",av.toggleKeyboardMode),e.addEventListener("mousedown",av.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",av.toggleKeyboardMode),e.addEventListener("mousedown",av.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=av.keyboardModeActive,i="keydown"===e.type;i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(av.keyboardModeActive=i)}static unregisterGridCompController(e){av.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady((e=>{this.gridCtrl=e.gridCtrl}))}registerKeyboardFocusEvents(){const e=this.gos.getDocument();av.addKeyboardModeEvents(e),av.instanceCount++,this.addDestroyFunc((()=>{av.instanceCount--,av.unregisterGridCompController(e)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return av.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),qg.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),_f.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gos.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,n={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e=Qs({type:Kl.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:r=!1}=e,s=this.columnModel.getGridColumn(t);if(!s)return void(this.focusedCellPosition=null);this.focusedCellPosition=s?{rowIndex:i,rowPinned:ta(n),column:s}:null;const a=Xs(Qs({type:Kl.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:o,preventScrollOnBrowserFocus:r,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),n=e.getPinned(),{column:o,headerRowIndex:r}=this.focusedHeaderPosition;return t===o&&i===r&&n==o.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{direction:t,fromTab:i,allowUserOverride:n,event:o,fromCell:r,rowWithoutSpanValue:s}=e;let{headerPosition:a}=e;if(r&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(n){const e=this.getFocusedHeader(),n=this.headerNavigationService.getHeaderRowCount();if(i){const i=this.gos.getCallback("tabToNextHeader");i&&(a=this.getHeaderPositionFromUserFunc({userFunc:i,direction:t,currentPosition:e,headerPosition:a,headerRowCount:n}))}else{const t=this.gos.getCallback("navigateToNextHeader");if(t&&o){a=t({key:o.key,previousHeaderPosition:e,nextHeaderPosition:a,headerRowCount:n,event:o})}}}return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:o,fromCell:r,rowWithoutSpanValue:s})}focusHeaderPositionFromUserFunc(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{userFunc:t,headerPosition:i,direction:n,event:o}=e,r=this.getFocusedHeader(),s=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:o})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:n,headerPosition:o,headerRowCount:r}=e,s=t({backwards:"Before"===i,previousHeaderPosition:n,nextHeaderPosition:o,headerRowCount:r});return!0===s||null===s?(null===s&&Ta("Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),n):!1===s?null:s}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:n,rowWithoutSpanValue:o,event:r}=e;if(-1===t.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,i);const s=this.ctrlsService.getHeaderRowContainerCtrl(t.column.getPinned()).focusHeader(t.headerRowIndex,t.column,r);return s&&(null!=o||n)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(null!=o?o:-1),s}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=hl(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===ta(t))}findFocusableElements(e,t){const i=Hc;let n=Bc;t&&(n+=", "+t),arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(n+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter((e=>rd(e))),r=Array.prototype.slice.apply(e.querySelectorAll(n));if(!r.length)return o;return s=r,o.filter((e=>-1===s.indexOf(e)));var s}focusInto(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.findFocusableElements(e,null,i),o=t?hl(n):n[0];return!!o&&(o.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),n=i.indexOf(t);if(-1===n)return null;let o=-1;for(let r=n-1;r>=0;r--)if(i[r].classList.contains("ag-tab-guard-top")){o=r;break}return o<=0?null:i[o-1]}findNextFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eGridDiv,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=this.gos.getActiveDomElement();let r;r=t?n.findIndex((e=>e.contains(o))):n.indexOf(o);const s=r+(i?-1:1);return s<0||s>=n.length?null:n[s]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(".".concat(gh.FOCUS_MANAGED_CLASS));if(!i.length)return!1;for(let n=0;n<i.length;n++)if(i[n].contains(t))return!0;return!1}findTabbableParent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=0;for(;e&&null===vc(e)&&++i<=t;)e=e.parentElement;return null===vc(e)?null:e}focusGridView(e,t){var i;if(this.gos.get("suppressCellFocus"))return t?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const n=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;const{rowIndex:o,rowPinned:r}=n,s=this.getFocusedHeader();return!e&&s&&(e=s.column),!(null==o||!e)&&(this.navigationService.ensureCellVisible({rowIndex:o,column:e,rowPinned:r}),this.setFocusedCell({rowIndex:o,column:e,rowPinned:ta(r),forceBrowserFocus:!0}),null==(i=this.rangeService)||i.setRangeToCell({rowIndex:o,rowPinned:r,column:e}),!0)}focusNextGridCoreContainer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var t,i;return this.advancedFilterFocusColumn=null==e?void 0:e.column,null!=(i=null==(t=this.advancedFilterService)?void 0:t.getCtrl().focusHeaderComp())&&i}focusNextFromAdvancedFilter(e,t){var i,n;const o=null!=(n=t?void 0:this.advancedFilterFocusColumn)?n:null==(i=this.columnModel.getAllDisplayedColumns())?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};av.keyboardModeActive=!1,av.instanceCount=0,Js([qa("eGridDiv")],av.prototype,"eGridDiv",2),Js([qa("columnModel")],av.prototype,"columnModel",2),Js([qa("headerNavigationService")],av.prototype,"headerNavigationService",2),Js([qa("headerPositionUtils")],av.prototype,"headerPositionUtils",2),Js([qa("rowRenderer")],av.prototype,"rowRenderer",2),Js([qa("rowPositionUtils")],av.prototype,"rowPositionUtils",2),Js([qa("cellPositionUtils")],av.prototype,"cellPositionUtils",2),Js([qa("navigationService")],av.prototype,"navigationService",2),Js([qa("ctrlsService")],av.prototype,"ctrlsService",2),Js([qa("filterManager")],av.prototype,"filterManager",2),Js([Qa("rangeService")],av.prototype,"rangeService",2),Js([Qa("advancedFilterService")],av.prototype,"advancedFilterService",2),Js([ja],av.prototype,"init",1),av=Js([Ya("focusService")],av);var lv=class extends Bl{setMouseOver(e){this.selectedColumns=e;const t={type:Kl.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:Kl.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};lv=Js([Ya("columnHoverService")],lv);var uv=class extends Bl{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady((e=>this.gridBodyCtrl=e.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush((()=>{this.active=!1}))}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(e){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void e();const t=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>t(this.executeNextFuncs)),0),window.setTimeout((()=>{e(),t(this.executeLaterFuncs)}),200)}))}};Js([qa("ctrlsService")],uv.prototype,"ctrlsService",2),Js([ja],uv.prototype,"postConstruct",1),uv=Js([Ya("columnAnimationService")],uv);var cv=class extends Bl{postConstruct(){this.ctrlsService.whenReady((e=>{this.centerRowsCtrl=e.center,this.addManagedListener(this.eventService,Kl.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const t=this.gos.getRowHeightAsNumber(),i=Math.floor(e/t);this.paginationProxy.setPageSize(i,"autoCalculated")};this.isBodyRendered?Na((()=>t()),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};Js([qa("ctrlsService")],cv.prototype,"ctrlsService",2),Js([qa("paginationProxy")],cv.prototype,"paginationProxy",2),Js([ja],cv.prototype,"postConstruct",1),cv=Js([Ya("paginationAutoPageSizeService")],cv);var dv=class extends Bl{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}};Js([ja],dv.prototype,"init",1),dv=Js([Ya("valueCache")],dv);var hv=class extends Bl{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Kl.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),o=new dm(n,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst((e=>{i.push(e)}))}this.rowRenderer.refreshCells({rowNodes:i})}};Js([qa("rowModel")],hv.prototype,"rowModel",2),Js([qa("rowRenderer")],hv.prototype,"rowRenderer",2),Js([ja],hv.prototype,"init",1),hv=Js([Ya("changeDetectionService")],hv);var pv=class extends Bl{adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class{refresh(e){return!1}getGui(){return this.eGui}init(t){const i=e(t),n=typeof i;this.eGui="string"!==n&&"number"!==n&&"boolean"!==n?null!=i?i:sd("<span></span>"):sd("<span>"+i+"</span>")}}}doesImplementIComponent(e){return!!e&&(e.prototype&&"getGui"in e.prototype)}};Js([qa("componentMetadataProvider")],pv.prototype,"componentMetadataProvider",2),pv=Js([Ya("agComponentUtils")],pv);var gv=class extends Bl{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};Js([qa("agComponentUtils")],gv.prototype,"agComponentUtils",2),Js([ja],gv.prototype,"postConstruct",1),gv=Js([Ya("componentMetadataProvider")],gv);var fv={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},mv={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},vv=class extends Bl{constructor(){super(...arguments),this.calculatedSizes={},this.calculatedTheme=null}postConstruct(){var e;const t=null!=(e=this.getTheme().el)?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.mutationObserver=new MutationObserver((()=>{this.calculatedSizes={},this.calculatedTheme=null,this.calculatedTheme=this.getTheme(),this.fireGridStylesChangedEvent()})),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:Kl.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:i}=this.getTheme();if(!t||0!==t.indexOf("ag-theme"))return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const n=this.calculatedSizes[t][e];return null!=n?n:(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){const n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),o=fv[n][e],r=this.gos.getDocument();if(i||(i=this.eGridDiv),!mv[e])return o;const s=mv[e],a=r.createElement("div"),l=Array.from(i.classList);a.classList.add(t,...l),a.style.position="absolute";const u=s.reduce(((e,t)=>{const i=r.createElement("div");return i.style.position="static",i.classList.add(t),e.appendChild(i),i}),a);let c=0;if(r.body){r.body.appendChild(a);const t=-1!==e.toLowerCase().indexOf("height")?"height":"width";c=parseInt(window.getComputedStyle(u)[t],10),r.body.removeChild(a)}return c||o}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){if(this.calculatedTheme)return this.calculatedTheme;const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,i=null,n=[];for(;t;){if(i=e.exec(t.className),i){const i=t.className.match(e);i&&(n=i);break}t=t.parentElement||void 0}if(!i)return{allThemes:n};const o=i[0];return this.calculatedTheme={theme:o,el:t,themeFamily:o.replace(/-dark$/,""),allThemes:n},this.calculatedTheme}getFromTheme(e,t){var i;return null!=(i=this.getSassVariable(t))?i:e}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i="".concat(t,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return ia(e)?Math.max(e,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};Js([qa("eGridDiv")],vv.prototype,"eGridDiv",2),Js([ja],vv.prototype,"postConstruct",1),vv=Js([Ya("environment")],vv);var Cv=class extends Bl{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Cc(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(t," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:Kl.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:Kl.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}};Js([qa("ctrlsService")],Cv.prototype,"ctrlsService",2),Js([Zs(0,$a("loggerFactory"))],Cv.prototype,"agWire",1),Js([ja],Cv.prototype,"postConstruct",1),Cv=Js([Ya("rowContainerHeightService")],Cv);var yv=class extends Bl{init(){this.addManagedPropertyListener("isRowSelectable",(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!t||!i)return;const n=this.gos.get("groupSelectsChildren"),o="clientSide"===this.rowModel.getType()&&n,r=[],s=t=>{if(e&&!t.group)return;if(o&&t.group){const e=t.childrenAfterGroup.some((e=>!0===e.selectable));return void t.setRowSelectable(e,!0)}const n=!i||i(t);t.setRowSelectable(n,!0),!n&&t.isSelected()&&r.push(t)};if(o){const e=this.rowModel;new dm(!1,e.getRootNode()).forEachChangedNodeDepthFirst(s,!0,!0)}else this.rowModel.forEachNode(s);r.length&&this.selectionService.setNodesSelected({nodes:r,newValue:!1,source:"selectableChanged"}),o&&this.selectionService instanceof Jm&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};Js([qa("rowModel")],yv.prototype,"rowModel",2),Js([qa("selectionService")],yv.prototype,"selectionService",2),Js([ja],yv.prototype,"init",1),yv=Js([Ya("selectableService")],yv);var wv=class extends sh{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:i,btNext:n,btLast:o,pageSizeComp:r}=this;this.activateTabIndex([t,i,n,o]),t.insertAdjacentElement("afterbegin",_d(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",_d(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",_d(e?"previous":"next",this.gos)),o.insertAdjacentElement("afterbegin",_d(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,Kl.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((e=>{const{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",(e=>{e.key!==Fd.ENTER&&e.key!==Fd.SPACE||(e.preventDefault(),i())}))})),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),i=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(i)}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t){return t({value:e})}const i=this.localeService.getLocaleTextFunc();return _c(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),o=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(l,'">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(l,'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-to">').concat(i,'</span>\n                    <span id="ag-').concat(l,'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-of">').concat(n,'</span>\n                    <span id="ag-').concat(l,'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(o,'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(r,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(l,'-start-page">').concat(t,'</span>\n                        <span id="ag-').concat(l,'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(l,'-of-page">').concat(n,'</span>\n                        <span id="ag-').concat(l,'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(a,'"></div>\n                </span>\n            </div>')}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),o=e===i-1;this.nextButtonDisabled=o||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Ou(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let o,r;if(this.isZeroPagesToDisplay()?o=r=0:(o=t*e+1,r=o+t-1,i&&r>n&&(r=n)),this.lbFirstRowOnPage.textContent=this.formatNumber(o),this.rowNodeBlockLoader.isLoading()){const e=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=e("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(r)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){const e=this.paginationProxy.getRow(0);if(e&&e.group&&!(e.groupData||e.aggData))return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(i);else{const e=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=e,this.lbRecordCount.innerHTML=e}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};Js([qa("paginationProxy")],wv.prototype,"paginationProxy",2),Js([qa("rowNodeBlockLoader")],wv.prototype,"rowNodeBlockLoader",2),Js([ah("btFirst")],wv.prototype,"btFirst",2),Js([ah("btPrevious")],wv.prototype,"btPrevious",2),Js([ah("btNext")],wv.prototype,"btNext",2),Js([ah("btLast")],wv.prototype,"btLast",2),Js([ah("lbRecordCount")],wv.prototype,"lbRecordCount",2),Js([ah("lbFirstRowOnPage")],wv.prototype,"lbFirstRowOnPage",2),Js([ah("lbLastRowOnPage")],wv.prototype,"lbLastRowOnPage",2),Js([ah("lbCurrent")],wv.prototype,"lbCurrent",2),Js([ah("lbTotal")],wv.prototype,"lbTotal",2),Js([ah("pageSizeComp")],wv.prototype,"pageSizeComp",2),Js([ja],wv.prototype,"postConstruct",1);var bv=class e extends sh{constructor(){super(e.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new Mg(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i){this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then((e=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(e.getGui()),this.activeOverlay=e,this.updateListenerDestroyFunc=i,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())})),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null==(e=this.updateListenerDestroyFunc)||e.call(this),id(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};bv.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',Js([qa("overlayService")],bv.prototype,"overlayService",2),Js([ah("eOverlayWrapper")],bv.prototype,"eOverlayWrapper",2),Js([ja],bv.prototype,"postConstruct",1);var Ev=bv,Sv=class extends Bl{getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):n&&(t="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(ia(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}};Js([qa("rowModel")],Sv.prototype,"rowModel",2),Js([qa("pinnedRowModel")],Sv.prototype,"pinnedRowModel",2),Js([qa("paginationProxy")],Sv.prototype,"paginationProxy",2),Sv=Js([Ya("rowPositionUtils")],Sv);var xv=class extends Bl{createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return"".concat(t,".").concat(null==i?"null":i,".").concat(n.getId())}equals(e,t){const i=e.column===t.column,n=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return i&&n&&o}};xv=Js([Ya("cellPositionUtils")],xv);var Rv=class{constructor(e){this.cellValueChanges=e}},Tv=class extends Rv{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},Dv=class e{constructor(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};Dv.DEFAULT_STACK_SIZE=10;var Pv=Dv,Av=class extends Bl{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:s,oldValue:a,value:l}=e,u={rowPinned:o,rowIndex:r,columnId:s.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new Pv(e),this.redoStack=new Pv(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,Kl.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Kl.EVENT_MODEL_UPDATED,(e=>{e.keepUndoRedoStack||this.clearStacks()})),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Kl.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((e=>{this.gridBodyCtrl=e.gridBodyCtrl})))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:Kl.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),n={type:Kl.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(n)}redo(e){const t={type:Kl.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),n={type:Kl.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(n)}undoRedo(e,t,i,n,o){if(!e)return!1;const r=e.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,(e=>e[n]),o),r instanceof Tv?this.processRange(this.rangeService,r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach((e=>{const{rowIndex:n,rowPinned:o,columnId:r}=e,s={rowIndex:n,rowPinned:o},a=this.rowPositionUtils.getRowNode(s);a.displayed&&a.setDataValue(r,t(e),i)}))}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach(((n,o)=>{if(!n)return;const r=n.startRow,s=n.endRow;o===t.length-1&&(i={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)}))}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,o={rowIndex:i,rowPinned:n},r=this.rowPositionUtils.getRowNode(o),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:o}=e,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(n);if(!s)return;r.ensureIndexVisible(i),r.ensureColumnVisible(s);const a={rowIndex:i,column:s,rowPinned:o};this.focusService.setFocusedCell(Xs(Qs({},a),{forceBrowserFocus:!0})),null==t||t.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,Kl.EVENT_ROW_EDITING_STARTED,(e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,Kl.EVENT_ROW_EDITING_STOPPED,(()=>{const e=new Rv(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null}))}addCellEditingListeners(){this.addManagedListener(this.eventService,Kl.EVENT_CELL_EDITING_STARTED,(e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,Kl.EVENT_CELL_EDITING_STOPPED,(e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const e=new Rv(this.cellValueChanges);this.pushActionsToUndoStack(e)}}))}addPasteListeners(){this.addManagedListener(this.eventService,Kl.EVENT_PASTE_START,(()=>{this.isPasting=!0})),this.addManagedListener(this.eventService,Kl.EVENT_PASTE_END,(()=>{const e=new Rv(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1}))}addFillListeners(){this.addManagedListener(this.eventService,Kl.EVENT_FILL_START,(()=>{this.isRangeInAction=!0})),this.addManagedListener(this.eventService,Kl.EVENT_FILL_END,(e=>{const t=new Tv(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1}))}addCellKeyListeners(){this.addManagedListener(this.eventService,Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(()=>{this.isRangeInAction=!0})),this.addManagedListener(this.eventService,Kl.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(()=>{let e;e=this.rangeService&&this.gos.get("enableRangeSelection")?new Tv(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new Rv(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}))}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};Js([qa("focusService")],Av.prototype,"focusService",2),Js([qa("ctrlsService")],Av.prototype,"ctrlsService",2),Js([qa("cellPositionUtils")],Av.prototype,"cellPositionUtils",2),Js([qa("rowPositionUtils")],Av.prototype,"rowPositionUtils",2),Js([qa("columnModel")],Av.prototype,"columnModel",2),Js([Qa("rangeService")],Av.prototype,"rangeService",2),Js([ja],Av.prototype,"init",1),Av=Js([Ya("undoRedoService")],Av);var Mv=class extends Bl{findHeader(e,t){let i,n;if(e.column instanceof jl?i=this.columnModel.getDisplayedGroupAtDirection(e.column,t):(n="getDisplayedCol".concat(t),i=this.columnModel[n](e.column)),!i)return;let{headerRowIndex:o}=e;if("filter"!==this.getHeaderRowType(o)){const e=[i];for(;i.getParent();)i=i.getParent(),e.push(i);i=e[e.length-1-o]}const{column:r,headerRowIndex:s}=this.getHeaderIndexToFocus(i,o);return{column:r,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let i;if(e instanceof jl&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let o=i;for(;o!==n;)t++,o=o.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some((e=>e.isSpanHeaderHeight()))}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),n="column"===i;let o="filter"===i?e:e.getParent(),r=t-1,s=r;if(n&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),r--;s=r,r<0&&(o=e,r=t,s=void 0)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:s}}getColumnVisibleChild(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"After";let n=e,o=t+1,r=o;if("group"===this.getHeaderRowType(t)){const t=e.getDisplayedLeafColumns(),r="After"===i?t[0]:hl(t),s=[];let a=r;for(;a.getParent()!==e;)a=a.getParent(),s.push(a);if(n=r,r.isSpanHeaderHeight())for(let e=s.length-1;e>=0;e--){const t=s[e];if(!t.isPadding()){n=t;break}o++}else n=hl(s),n||(n=r)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:r}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.columnModel.getAllDisplayedColumns(),n=i["start"===t?0:i.length-1];if(!n)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);if("group"==o){return{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(n,e)}}return{headerRowIndex:null==o?-1:e,column:n}}};Js([qa("columnModel")],Mv.prototype,"columnModel",2),Js([qa("ctrlsService")],Mv.prototype,"ctrlsService",2),Mv=Js([Ya("headerPositionUtils")],Mv);var _v=class{buildColumnDefs(e,t,i){const n=[],o={};return e.forEach((e=>{let r=!0,s=this.createDefFromColumn(e,t,i),a=e.getOriginalParent(),l=null;for(;a;){let e=null;if(a.isPadding()){a=a.getOriginalParent();continue}const t=o[a.getGroupId()];if(t){t.children.push(s),r=!1;break}if(e=this.createDefFromGroup(a),e&&(e.children=[s],o[e.groupId]=e,s=e,a=a.getOriginalParent()),null!=a&&l===a){r=!1;break}l=a}r&&n.push(s)})),n}createDefFromGroup(e){const t=va(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=va(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n}};_v=Js([Ya("columnDefFactory")],_v);var kv=class{getInitialRowClasses(e){const t=[];return ia(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Tl(t,this.processClassesFromGridOptions(e.rowNode)),Tl(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=e=>{"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((e=>t.push(e)))},n=this.gos.get("rowClass");if(n){if("function"===typeof n)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(n)}const o=this.gos.getCallback("getRowClass");if(o){i(o({data:e.data,node:e,rowIndex:e.rowIndex}))}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,(e=>{t.push(e)}),(e=>{})),t}processRowClassRules(e,t,i){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};Js([qa("stylingService")],kv.prototype,"stylingService",2),Js([qa("gridOptionsService")],kv.prototype,"gos",2),kv=Js([Ya("rowCssClassCalculator")],kv);var Fv=class extends Bl{init(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(e=>this.isAccentedSort=e.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup()))}doFullSort(e,t){const i=e.map(((e,t)=>({currentPos:t,rowNode:e})));return i.sort(this.compareRowNodes.bind(this,t)),i.map((e=>e.rowNode))}compareRowNodes(e,t,i){const n=t.rowNode,o=i.rowNode;for(let r=0,s=e.length;r<s;r++){const t=e[r],i="desc"===t.sort,s=this.getValue(n,t.column),a=this.getValue(o,t.column);let l;const u=this.getComparator(t,n);l=u?u(s,a,n,o,i):$d.defaultComparator(s,a,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(null!=n)return n;if(!i.getColDef().showRowGroup)return;const o=!t.group&&i.getColDef().field;if(!o)return;const r=this.columnModel.getPrimaryColumn(o);return r?r.getColDef().comparator:void 0}getValue(e,t){var i,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const n=null==(i=e.allLeafChildren)?void 0:i[0];return n?this.valueService.getValue(t,n,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(t.getId());if(!o)return;return null==(n=e.groupData)?void 0:n[o.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}};Js([qa("valueService")],Fv.prototype,"valueService",2),Js([qa("columnModel")],Fv.prototype,"columnModel",2),Js([ja],Fv.prototype,"init",1),Fv=Js([Ya("rowNodeSorter")],Fv);var Lv=class extends Bl{constructor(){super(...arguments),this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=null!=e.gridCtrl&&null!=e.gridBodyCtrl&&null!=e.center&&null!=e.left&&null!=e.right&&null!=e.bottomCenter&&null!=e.bottomLeft&&null!=e.bottomRight&&null!=e.topCenter&&null!=e.topLeft&&null!=e.topRight&&null!=e.stickyTopCenter&&null!=e.stickyTopLeft&&null!=e.stickyTopRight&&null!=e.stickyBottomCenter&&null!=e.stickyBottomLeft&&null!=e.stickyBottomRight&&null!=e.centerHeader&&null!=e.leftHeader&&null!=e.rightHeader&&null!=e.fakeHScrollComp&&null!=e.fakeVScrollComp&&null!=e.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach((t=>t(e))),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.params.leftHeader=e;break;case"right":this.params.rightHeader=e;break;default:this.params.centerHeader=e}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.params.leftHeader,this.params.rightHeader,this.params.centerHeader]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.params.leftHeader;case"right":return this.params.rightHeader;default:return this.params.centerHeader}}};Lv.NAME="ctrlsService",Lv=Js([Ya(Lv.NAME)],Lv);var Nv=class extends Bl{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(null!=t)return new t}};Nv=Js([Ya("ctrlsFactory")],Nv);var Ov=class extends sh{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",gc()||fc())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Sc(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui();["mouseenter","mousedown","touchstart"].forEach((t=>this.addManagedListener(e,t,(()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))))),["mouseleave","touchend"].forEach((t=>this.addManagedListener(e,t,(()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL,(e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL_END,(()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}))}attemptSettingScrollPosition(e){const t=this.getViewport();Ia((()=>rd(t)),(()=>this.setScrollPosition(e)),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};Js([ah("eViewport")],Ov.prototype,"eViewport",2),Js([ah("eContainer")],Ov.prototype,"eContainer",2),Js([qa("scrollVisibleService")],Ov.prototype,"scrollVisibleService",2),Js([qa("ctrlsService")],Ov.prototype,"ctrlsService",2),Js([qa("animationFrameService")],Ov.prototype,"animationFrameService",2);var Iv=class e extends Ov{constructor(){super(e.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new tf((e=>this.eContainer.style.width="".concat(e,"px")))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.columnModel.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.gos.getScrollbarWidth();i&&(t+=n),gd(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(o+=n),gd(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.gos.getScrollbarWidth()||0,o=i?0:0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),md(this.getGui(),o),md(this.eViewport,o),md(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return ed(this.getViewport(),this.enableRtl)}setScrollPosition(e){rd(this.getViewport())||this.attemptSettingScrollPosition(e),td(this.getViewport(),e,this.enableRtl)}};Iv.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Js([ah("eLeftSpacer")],Iv.prototype,"eLeftSpacer",2),Js([ah("eRightSpacer")],Iv.prototype,"eRightSpacer",2),Js([qa("columnModel")],Iv.prototype,"columnModel",2),Js([qa("pinnedRowModel")],Iv.prototype,"pinnedRowModel",2),Js([ja],Iv.prototype,"postConstruct",1);var Gv=Iv,Vv=class extends Bl{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:Kl.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:Kl.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};Js([qa("columnModel")],Vv.prototype,"columnModel",2),Js([ja],Vv.prototype,"postConstruct",1),Vv=Js([Ya("pinnedWidthService")],Vv);var Hv=class extends Bl{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}};Js([qa("animationFrameService")],Hv.prototype,"animationFrameService",2),Js([qa("rowModel")],Hv.prototype,"rowModel",2),Js([ja],Hv.prototype,"postConstruct",1),Hv=Js([Ya("rowNodeEventThrottle")],Hv);var Bv=(e,t)=>{var i;return"clientSide"===(null!=(i=t.rowModelType)?i:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},Wv={enableRowGroup:Bv,rowGroup:Bv,rowGroupIndex:Bv,enablePivot:Bv,enableValue:Bv,pivot:Bv,pivotIndex:Bv,aggFunc:Bv,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;const i=["columnsMenuTab","generalMenuTab"];return(null==(t=e.menuTabs)?void 0:t.some((e=>i.includes(e))))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:()=>zv},zv={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},validations:Wv},Uv={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1},jv={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;const i=null!=(t=e.rowModelType)?t:"clientSide";switch(i){case"clientSide":const t="treeData requires 'getDataPath' in the ".concat(i," row model.");return e.getDataPath?null:t;case"serverSide":const n="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(i," row model.");return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch(null!=(t=e.rowModelType)?t:"clientSide"){case"clientSide":return null;case"serverSide":const t="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return e.suppressServerSideInfiniteScroll?t:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>zv,defaultColDef:()=>zv,defaultColGroupDef:()=>zv,autoGroupColumnDef:()=>zv},Kv={objectName:"gridOptions",allProperties:[...fu.ALL_PROPERTIES,...vu.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."}},validations:jv},Yv=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Za,this.globalEventHandlerFactory=e=>(t,i)=>{if(this.destroyed)return;const n=Yl.has(t);if(n&&!e||!n&&e)return;const o=vu.getCallbackForEvent(t),r=this.gridOptions[o];"function"===typeof r&&this.frameworkOverrides.wrapOutgoing((()=>{r(i)}))}}get context(){return this.gridOptions.context}init(){this.columnApi=new Zm(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var t;return null!=(t=this.gridOptions[e])?t:Uv[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ia(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>{const i=t;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,e(i)}}return e}static toBoolean(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)}static toNumber(e){if("number"===typeof e)return e;if("string"===typeof e){const t=parseInt(e);if(isNaN(t))return;return t}}static toConstrainedNum(e,t){return i=>{const n=Yv.toNumber(i);if(!(null==n||n<e||n>t))return n}}static getCoercedValue(e,t){const i=Yv.PROPERTY_COERCIONS.get(e);return i?i(t):t}static getCoercedGridOptions(e){const t={};return Object.entries(e).forEach((e=>{let[i,n]=e;const o=Yv.getCoercedValue(i,n);t[i]=o})),t}updateGridOptions(e){let{options:t,force:i,source:n="api"}=e;const o={id:Yv.changeSetId++,properties:[]},r=[];Object.entries(t).forEach((e=>{let[t,s]=e;"api"===n&&pu[t]&&Ta("".concat(t," is an initial property and cannot be updated."));const a=Yv.getCoercedValue(t,s),l=i||"object"===typeof a&&"api"===n,u=this.gridOptions[t];if(l||u!==a){this.gridOptions[t]=a;const e={type:t,currentValue:a,previousValue:u,changeSet:o,source:n};r.push(e)}})),this.validationService.processGridOptions(this.gridOptions),o.properties=r.map((e=>e.type)),r.forEach((e=>{this.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(e.type," from "),e.previousValue," to  ",e.currentValue),this.propertyEventService.dispatchEvent(e)}))}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(null==this.scrollbarWidth){const e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:bc();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:Kl.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&na(this.gridOptions.rowModelType)}isDomLayout(e){var t;return(null!=(t=this.gridOptions.domLayout)?t:"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"===typeof this.gridOptions.getRowHeight}getRowHeightForNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const n={node:e,data:e.data},o=this.getCallback("getRowHeight")(n);if(this.isNumeric(o))return 0===o&&Ta("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();return{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||na(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const n=this.getDomDataKey();let o=e[n];na(o)&&(o={},e[n]=o),o[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&ia(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&ia(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return ia(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(null==e?void 0:e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.getCallback("groupAggFiltering"):!0===e?()=>!0:void 0}getGrandTotalRow(){const e=this.gridOptions.grandTotalRow;if(e)return e;return this.gridOptions.groupIncludeTotalFooter?"bottom":void 0}getGroupTotalRowCallback(){const e=this.get("groupTotalRow");if("function"===typeof e)return this.getCallback("groupTotalRow");if(e)return()=>e;const t=this.get("groupIncludeFooter");if("function"===typeof t){const e=this.getCallback("groupIncludeFooter");return t=>e(t)?"bottom":void 0}return()=>t?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const t=e;return t.api=this.api,t.columnApi=this.columnApi,t.context=this.context,t}};Yv.PROPERTY_COERCIONS=new Map([...fu.BOOLEAN_PROPERTIES.map((e=>[e,Yv.toBoolean])),...fu.NUMBER_PROPERTIES.map((e=>[e,Yv.toNumber])),["groupAggFiltering",e=>"function"===typeof e?e:Yv.toBoolean(e)],["pageSize",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Yv.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Yv.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Yv.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Yv.toConstrainedNum(0,Number.MAX_VALUE)]]),Yv.changeSetId=0,Js([qa("gridOptions")],Yv.prototype,"gridOptions",2),Js([qa("eventService")],Yv.prototype,"eventService",2),Js([qa("environment")],Yv.prototype,"environment",2),Js([qa("frameworkOverrides")],Yv.prototype,"frameworkOverrides",2),Js([qa("eGridDiv")],Yv.prototype,"eGridDiv",2),Js([qa("validationService")],Yv.prototype,"validationService",2),Js([qa("gridApi")],Yv.prototype,"api",2),Js([ja],Yv.prototype,"init",1),Js([Ka],Yv.prototype,"destroy",1),Yv=Js([Ya("gridOptionsService")],Yv);var qv=class extends Bl{getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(t,i,n)=>e({key:t,defaultValue:i,variableValues:n});const t=this.gos.get("localeText");return(e,i,n)=>{let o=t&&t[e];if(o&&n&&n.length){let e=0;for(;!(e>=n.length);){if(-1===o.indexOf("${variable}"))break;o=o.replace("${variable}",n[e++])}}return null!=o?o:i}}};qv=Js([Ya("localeService")],qv);var Qv=class e extends Ov{constructor(){super(e.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Zg(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedListener(this.eventService,Kl.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.gos.getScrollbarWidth()||0,n=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),gd(this.getGui(),n),gd(this.eViewport,n),gd(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,t=e.getGridBodyCtrl().getBodyViewportElement(),i=this.getScrollPosition(),n=t.scrollTop;i!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,t){t||rd(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};Qv.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',Js([ja],Qv.prototype,"postConstruct",1);var Xv=Qv,$v={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Jv=["january","february","march","april","may","june","july","august","september","october","november","december"],Zv=class extends Bl{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(cu(e.source))}))}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach((e=>{let[t,i]=e;this.dataTypeDefinitions[t]=Xs(Qs({},i),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)})}));const i=null!=(e=this.gos.get("dataTypeDefinitions"))?e:{};this.dataTypeMatchers={},Object.entries(i).forEach((e=>{let[n,o]=e;const r=this.processDataTypeDefinition(o,i,[n],t);r&&(this.dataTypeDefinitions[n]=r,o.dataTypeMatcher&&(this.dataTypeMatchers[n]=o.dataTypeMatcher))})),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach((e=>{const i=this.dataTypeMatchers[e];i&&delete this.dataTypeMatchers[e],this.dataTypeMatchers[e]=null!=i?i:t[e].dataTypeMatcher}))}mergeDataTypeDefinitions(e,t){const i=Qs(Qs({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let o;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let i=n[r];const s=t[r];if(i&&s&&(i=s),!this.validateDataTypeDefinition(e,i,r))return;o=this.mergeDataTypeDefinitions(i,e)}else{if(i.includes(r))return void Ta('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const s=t[r];if(!this.validateDataTypeDefinition(e,s,r))return;const a=this.processDataTypeDefinition(s,t,[...i,r],n);if(!a)return;o=this.mergeDataTypeDefinitions(a,e)}return Xs(Qs({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(Ta('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(Ta("The data type definition ".concat(i," does not exist.")),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,n;if(null==(i=t.node)?void 0:i.group){const i=t.column.getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"===typeof t.value)return e.valueFormatter(t);if("object"===typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Xs(Qs({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Xs(Qs({},t),{value:t.value.value}))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if("string"!==typeof t.value||(null==(n=e.dataTypeMatcher)?void 0:n.call(e,t.value)))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:n}=t;const{field:o}=t;if(void 0===n&&(n=e.cellDataType),null!=n&&!0!==n||(n=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(o,i)),!n)return void(e.cellDataType=!1);const r=this.dataTypeDefinitions[n];if(r)return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,i),r.columnTypes;Ta('Missing data type definition - "'.concat(n,'"'))}updateColDefAndGetColumnType(e,t,i){var n,o;const r=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),s=null!=(o=null!=(n=t.type)?n:r)?o:e.type;return e.type=s,s?this.convertColumnTypes(s):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=e=>{t.add(e.key)};e.addEventListener(rl.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push((()=>e.removeEventListener(rl.EVENT_STATE_UPDATED,i)))}canInferCellDataType(e,t){var i;if("clientSide"!==this.rowModel.getType())return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,n))return!1;const o=null===t.type?e.type:t.type;if(o){const e=null!=(i=this.gos.get("columnTypes"))?i:{};if(this.convertColumnTypes(o).some((t=>{const i=e[t.trim()];return i&&this.doColDefPropsPreventInference(i,n)})))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((i=>{let[n,o]=i;return this.doesColDefPropPreventInference(e,t,n,o)}))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const o=e[i];return null===o?(t[i]=!1,!1):void 0===n?!!o:o===n}inferCellDataType(e,t){var i;if(!e)return;let n;const o=this.getInitialData();if(o){const t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=wa(o,e,t)}else this.initWaitForRowData(t);if(null==n)return;const[r]=null!=(i=Object.entries(this.dataTypeMatchers).find((e=>{let[t,i]=e;return i(n)})))?i:["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(null==e?void 0:e.length)return e[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(null==e?void 0:e.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,Kl.EVENT_ROW_DATA_UPDATE_STARTED,(e=>{const{firstRowData:n}=e;if(!n)return;null==i||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();const o={type:Kl.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(o)}))}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach((e=>e())),this.columnStateUpdateListenerDestroyFuncs=[];const n={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach((e=>{let[r,s]=e;const a=this.columnModel.getGridColumn(r);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const e=this.getUpdatedColumnState(a,s);e.rowGroup&&null==e.rowGroupIndex&&(n[r]=e),e.pivot&&null==e.pivotIndex&&(o[r]=e),i.push(e)}})),t&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,o)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnModel.getColumnStateFromColDef(e);return t.forEach((e=>{delete i[e],"rowGroup"===e?delete i.rowGroupIndex:"pivot"===e&&delete i.pivotIndex})),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];if(e instanceof Array){e.some((e=>"string"!==typeof e))?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):t=e}else"string"===typeof e?t=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return t}getDateStringTypeDefinition(e){var t;return e&&null!=(t=this.getDataTypeDefinition(e))?t:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return null==(t=this.getDataTypeDefinition(e))?void 0:t.baseDataType}checkType(e,t){var i;if(null==t)return!0;const n=null==(i=this.getDataTypeDefinition(e))?void 0:i.dataTypeMatcher;return!n||n(t)}validateColDef(e){"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||Ta('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Ta('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,t,i){const n=(e,i,n)=>{let o=e.getColDef().valueFormatter;return o===t.groupSafeValueFormatter&&(o=t.valueFormatter),this.valueService.formatValue(e,i,n,o)},o=Wa.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),r=this.localeService.getLocaleTextFunc(),s=t=>{const{filterParams:i}=e;e.filterParams="object"===typeof i?Qs(Qs({},i),t):t};switch(t.baseDataType){case"number":e.cellEditor="agNumberCellEditor",o&&s({comparator:(e,t)=>{const i=null==e?0:parseInt(e),n=null==t?0:parseInt(t);return i===n?0:i>n?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=e=>!!e.colDef.editable&&e.event.key===Fd.SPACE,s(o?{valueFormatter:e=>ia(e.value)?r(String(e.value),e.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=e=>n(e.column,e.node,e.value),o&&s({valueFormatter:e=>{const t=n(e.column,e.node,e.value);return ia(t)?t:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=Jv[Number(e)-1];return r(t,$v[t])}return null!=e?e:r("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=e=>n(e.column,e.node,e.value);const i=t.dateParser;s(o?{valueFormatter:e=>{const t=n(e.column,e.node,e.value);return ia(t)?t:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:e=>{const t=i(null!=e?e:void 0);return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=Jv[Number(e)-1];return r(t,$v[t])}return null!=e?e:r("blanks","(Blanks)")}}:{comparator:(e,t)=>{const n=i(t);return null==t||n<e?-1:n>e?1:0}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(e,t)=>{const o=this.columnModel.getPrimaryColumn(i),r=null==o?void 0:o.getColDef();if(!o||!r)return 0;const s=null==e?"":n(o,null,e),a=null==t?"":n(o,null,t);return s===a?0:s>a?1:-1},e.keyCreator=e=>n(e.column,e.node,e.value),o?s({valueFormatter:e=>{const t=n(e.column,e.node,e.value);return ia(t)?t:r("blanks","(Blanks)")}}):e.filterValueGetter=e=>n(e.column,e.node,this.valueService.getValue(e.column,e.node))}}getDefaultDataTypes(){const e=e=>!!e.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>{var t,i;return""===(null==(i=null==(t=e.newValue)?void 0:t.trim)?void 0:i.call(t))?null:Number(e.newValue)},valueFormatter:e=>null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value),dataTypeMatcher:e=>"number"===typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:ra(e.newValue),dataTypeMatcher:e=>"string"===typeof e},boolean:{baseDataType:"boolean",valueParser:e=>{var t,i;return null==e.newValue?e.newValue:""===(null==(i=null==(t=e.newValue)?void 0:t.trim)?void 0:i.call(t))?null:"true"===String(e.newValue).toLowerCase()},valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"===typeof e},date:{baseDataType:"date",valueParser:e=>Oc(null==e.newValue?null:String(e.newValue)),valueFormatter:e=>{var i;return null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?null!=(i=Fc(e.value,!1))?i:"":t("invalidDate","Invalid Date")},dataTypeMatcher:e=>e instanceof Date},dateString:{baseDataType:"dateString",dateParser:e=>{var t;return null!=(t=Oc(e))?t:void 0},dateFormatter:e=>{var t;return null!=(t=Fc(null!=e?e:null,!1))?t:void 0},valueParser:t=>e(String(t.newValue))?t.newValue:null,valueFormatter:t=>e(String(t.value))?t.value:"",dataTypeMatcher:t=>"string"===typeof t&&e(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>{var t;return null!=(t=ra(e.value))?t:""}}}}};Js([qa("rowModel")],Zv.prototype,"rowModel",2),Js([qa("columnModel")],Zv.prototype,"columnModel",2),Js([qa("valueService")],Zv.prototype,"valueService",2),Js([ja],Zv.prototype,"init",1),Zv=Js([Ya("dataTypeService")],Zv);var eC=class extends Bl{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",(e=>this.setColumnDefs(e)))}start(){this.ctrlsService.whenReady((()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(e){this.columnModel.setColumnDefs(null!=e?e:[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Wa.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new nv("AG Grid",(()=>this.gos.get("debug"))).log("initialised successfully, enterprise = ".concat(e))}dispatchGridReadyEvent(){const e={type:Kl.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.columnModel.setColumnDefs(t,cu(e.source))}};Js([qa("ctrlsService")],eC.prototype,"ctrlsService",2),Js([qa("columnModel")],eC.prototype,"columnModel",2),Js([qa("rowModel")],eC.prototype,"rowModel",2),Js([ja],eC.prototype,"postConstruct",1),eC=Js([Ya("syncService")],eC);var tC=class extends Bl{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,Kl.EVENT_ROW_DATA_UPDATED,(()=>this.onRowDataUpdated())),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(()=>this.onNewColumnsLoaded()))}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gos.get("columnDefs")||this.gos.isRowModelType("clientSide")&&!this.gos.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gos.get("suppressLoadingOverlay"))return;const e=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(e,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gos.get("suppressNoRowsOverlay"))return;const e=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(e,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,t,i){const n=e.newAgStackInstance(),o=this.addManagedPropertyListener(i,(e=>{let{currentValue:t}=e;n.then((e=>{e.refresh&&e.refresh(this.gos.addGridCommonParams(Qs({},null!=t?t:{})))}))}));this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(n,t,o)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gos.get("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()}};Js([qa("userComponentFactory")],tC.prototype,"userComponentFactory",2),Js([qa("paginationProxy")],tC.prototype,"paginationProxy",2),Js([qa("columnModel")],tC.prototype,"columnModel",2),Js([ja],tC.prototype,"postConstruct",1),tC=Js([Ya("overlayService")],tC);var iC=class extends Bl{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Na((()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=Na((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0),this.onRowSelectedDebounced=Na((()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!=(e=this.gos.get("initialState"))?e:{},this.ctrlsService.whenReady((()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const t=this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(e=>{let{source:i}=e;"gridInitializing"===i&&(null==t||t(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))})),i=this.addManagedListener(this.eventService,Kl.EVENT_ROW_COUNT_READY,(()=>{null==i||i(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))})),n=this.addManagedListener(this.eventService,Kl.EVENT_FIRST_DATA_RENDERED,(()=>{null==n||n(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}))}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,Kl.EVENT_TOOL_PANEL_VISIBLE_CHANGED,(()=>this.updateCachedState("sideBar",this.getSideBarState()))),this.addManagedListener(this.eventService,Kl.EVENT_SIDE_BAR_UPDATED,(()=>this.updateCachedState("sideBar",this.getSideBarState())))}setupStateOnColumnsInitialised(){var e;const t=null!=(e=this.gos.get("initialState"))?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VALUE_CHANGED,(()=>this.updateColumnState(["aggregation"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_MOVED,(()=>this.updateColumnState(["columnOrder"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PINNED,(()=>this.updateColumnState(["columnPinning"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_RESIZED,(()=>this.updateColumnState(["columnSizing"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VISIBLE,(()=>this.updateColumnState(["columnVisibility"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_CHANGED,(()=>this.updateColumnState(["pivot"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,(()=>this.updateColumnState(["pivot"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.updateColumnState(["rowGroup"]))),this.addManagedListener(this.eventService,Kl.EVENT_SORT_CHANGED,(()=>this.updateColumnState(["sort"]))),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,(()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]))),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_GROUP_OPENED,(()=>this.updateCachedState("columnGroup",this.getColumnGroupState())))}setupStateOnRowCountReady(){var e;const{filter:t,rowGroupExpansion:i,rowSelection:n,pagination:o}=null!=(e=this.gos.get("initialState"))?e:{},r=this.gos.get("advancedFilterModel");(t||r)&&this.setFilterState(t,r),i&&this.setRowGroupExpansionState(i),n&&this.setRowSelectionState(n),o&&this.setPaginationState(o),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,Kl.EVENT_FILTER_CHANGED,(()=>this.updateCachedState("filter",this.getFilterState()))),this.addManagedListener(this.eventService,Kl.EVENT_ROW_GROUP_OPENED,(()=>this.onRowGroupOpenedDebounced())),this.addManagedListener(this.eventService,Kl.EVENT_EXPAND_COLLAPSE_ALL,(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()))),this.addManagedListener(this.eventService,Kl.EVENT_SELECTION_CHANGED,(()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()})),this.addManagedListener(this.eventService,Kl.EVENT_PAGINATION_CHANGED,(e=>{(e.newPage||e.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}))}setupStateOnFirstDataRendered(){var e;const{scroll:t,rangeSelection:i,focusedCell:n,columnOrder:o}=null!=(e=this.gos.get("initialState"))?e:{};n&&this.setFocusedCellState(n),i&&this.setRangeSelectionState(i),t&&this.setScrollState(t),this.setColumnPivotState(!!(null==o?void 0:o.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,Kl.EVENT_CELL_FOCUSED,(()=>this.updateCachedState("focusedCell",this.getFocusedCellState()))),this.addManagedListener(this.eventService,Kl.EVENT_RANGE_SELECTION_CHANGED,(e=>{e.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())})),this.addManagedListener(this.eventService,Kl.EVENT_BODY_SCROLL_END,(()=>this.updateCachedState("scroll",this.getScrollState())))}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],n=[],o=[],r=[],s=[],a=[],l=[],u=[],c=this.columnModel.getColumnState();for(let d=0;d<c.length;d++){const{colId:e,sort:h,sortIndex:p,rowGroup:g,rowGroupIndex:f,aggFunc:m,pivot:v,pivotIndex:C,pinned:y,hide:w,width:b,flex:E}=c[d];u.push(e),h&&(t[null!=p?p:0]={colId:e,sort:h}),g&&(i[null!=f?f:0]=e),"string"===typeof m&&n.push({colId:e,aggFunc:m}),v&&(o[null!=C?C:0]=e),y&&("right"===y?s:r).push(e),w&&a.push(e),(E||b)&&l.push({colId:e,flex:null!=E?E:void 0,width:b})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:o.length||e?{pivotMode:e,pivotColIds:o}:void 0,columnPinning:r.length||s.length?{leftColIds:r,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:o,columnPinning:r,columnVisibility:s,columnSizing:a,columnOrder:l}=e,u={},c=e=>{let t=u[e];return t||(t={colId:e},u[e]=t,t)};t&&t.sortModel.forEach(((e,t)=>{let{colId:i,sort:n}=e;const o=c(i);o.sort=n,o.sortIndex=t})),i&&i.groupColIds.forEach(((e,t)=>{const i=c(e);i.rowGroup=!0,i.rowGroupIndex=t})),n&&n.aggregationModel.forEach((e=>{let{colId:t,aggFunc:i}=e;c(t).aggFunc=i})),o&&(o.pivotColIds.forEach(((e,t)=>{const i=c(e);i.pivot=!0,i.pivotIndex=t})),this.gos.updateGridOptions({options:{pivotMode:o.pivotMode},source:"gridInitializing"})),r&&(r.leftColIds.forEach((e=>{c(e).pinned="left"})),r.rightColIds.forEach((e=>{c(e).pinned="right"}))),s&&s.hiddenColIds.forEach((e=>{c(e).hide=!0})),a&&a.columnSizingModel.forEach((e=>{let{colId:t,flex:i,width:n}=e;const o=c(t);o.flex=null!=i?i:null,o.width=n}));const d=null==l?void 0:l.orderedColIds,h=!!(null==d?void 0:d.length),p=h?d.map((e=>c(e))):Object.values(u);if(p.length){this.columnStates=p;const e={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:p,applyOrder:h,defaultState:e},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(t){let i=[];for(const e of t)this.columnModel.getSecondaryColumn(e.colId)&&i.push(e);this.columnModel.applyColumnState({state:i,applyOrder:e},"gridInitializing")}i&&this.columnModel.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),t=[];return e.forEach((e=>{let{groupId:i,open:n}=e;n&&t.push(i)})),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!e.hasOwnProperty("columnGroup"))return;const i=new Set(null==(t=e.columnGroup)?void 0:t.openColumnGroupIds),n=this.columnModel.getColumnGroupState().map((e=>{let{groupId:t}=e;const n=i.has(t);return n&&i.delete(t),{groupId:t,open:n}}));i.forEach((e=>{n.push({groupId:e,open:!0})})),n.length&&(this.columnGroupStates=n),this.columnModel.setColumnGroupState(n,"gridInitializing")}getFilterState(){var e;let t=this.filterManager.getFilterModel();t&&0===Object.keys(t).length&&(t=void 0);const i=null!=(e=this.filterManager.getAdvancedFilterModel())?e:void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:n}=null!=e?e:{advancedFilterModel:t};i&&this.filterManager.setFilterModel(i,"columnFilter"),n&&this.filterManager.setAdvancedFilterModel(n)}getRangeSelectionState(){var e;const t=null==(e=this.rangeService)?void 0:e.getCellRanges().map((e=>{const{id:t,type:i,startRow:n,endRow:o,columns:r,startColumn:s}=e;return{id:t,type:i,startRow:n,endRow:o,colIds:r.map((e=>e.getColId())),startColId:s.getColId()}}));return(null==t?void 0:t.length)?{cellRanges:t}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach((e=>{const i=[];if(e.colIds.forEach((e=>{const t=this.columnModel.getGridColumn(e);t&&i.push(t)})),!i.length)return;let n=this.columnModel.getGridColumn(e.startColId);if(!n){const e=this.columnModel.getAllDisplayedColumns(),t=new Set(i);n=e.find((e=>t.has(e)))}t.push(Xs(Qs({},e),{columns:i,startColumn:n}))})),this.rangeService.setCellRanges(t)}getScrollState(){var e,t,i;if(!this.isClientSideRowModel)return;const n=null==(e=this.ctrlsService.getGridBodyCtrl())?void 0:e.getScrollFeature(),{left:o}=null!=(t=null==n?void 0:n.getHScrollPosition())?t:{left:0},{top:r}=null!=(i=null==n?void 0:n.getVScrollPosition())?i:{top:0};return r||o?{top:r,left:o}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;const{top:i,left:n}=e;null==(t=this.ctrlsService.getGridBodyCtrl())||t.getScrollFeature().setScrollPosition(i,n)}getSideBarState(){var e,t;return null==(t=null==(e=this.sideBarService)?void 0:e.getSideBarComp())?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(e||t)return{page:e,pageSize:t}}setPaginationState(e){e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),"number"===typeof e.page&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(!1===t.selectAll||!1===t.selectAllChildren)&&!(null==(e=null==t?void 0:t.toggledNodes)?void 0:e.length)?void 0:t}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach((e=>{let[t,n]=e;ua(n,this.cachedState[t])||(i=!0)})),this.cachedState=Qs(Qs({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),ua(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=Xs(Qs({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach((e=>{if("rowSelection"===e)this.setCachedStateValue(e,this.getRowSelectionState())})),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach((e=>this.queuedUpdateSources.add(e))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const t={type:Kl.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}};Js([qa("filterManager")],iC.prototype,"filterManager",2),Js([qa("ctrlsService")],iC.prototype,"ctrlsService",2),Js([qa("focusService")],iC.prototype,"focusService",2),Js([qa("columnModel")],iC.prototype,"columnModel",2),Js([qa("paginationProxy")],iC.prototype,"paginationProxy",2),Js([qa("rowModel")],iC.prototype,"rowModel",2),Js([qa("selectionService")],iC.prototype,"selectionService",2),Js([qa("expansionService")],iC.prototype,"expansionService",2),Js([qa("columnAnimationService")],iC.prototype,"columnAnimationService",2),Js([Qa("sideBarService")],iC.prototype,"sideBarService",2),Js([Qa("rangeService")],iC.prototype,"rangeService",2),Js([ja],iC.prototype,"postConstruct",1),iC=Js([Ya("stateService")],iC);var nC=class extends Bl{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,Kv)}processColumnDefs(e){this.processOptions(e,zv)}processOptions(e,t){const{validations:i,deprecations:n,allProperties:o,propertyExceptions:r,objectName:s,docsUrl:a}=t;o&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...null!=r?r:[],...Object.keys(n)],o,s,a);const l=new Set;Object.keys(e).forEach((t=>{var o;const r=n[t];if(r)if("renamed"in r){const{renamed:i,version:n}=r;l.add("As of v".concat(n,", ").concat(String(t)," is deprecated. Please use ").concat(String(i)," instead.")),e[i]=e[t]}else{const{message:e,version:i}=r;l.add("As of v".concat(i,", ").concat(String(t)," is deprecated. ").concat(null!=e?e:""))}const s=e[t];if(null==s||!1===s)return;const a=i[t];let u;if(!a)return;if("function"===typeof a){const i=a(e,this.gridOptions);if(!i)return;if("objectName"in i){const n=e[t];return Array.isArray(n)?void n.forEach((e=>{this.processOptions(e,i)})):void this.processOptions(e[t],i)}u=i}else u=a;const{module:c,dependencies:d,supportedRowModels:h}=u;if(h){const e=null!=(o=this.gridOptions.rowModelType)?o:"clientSide";if(!h.includes(e))return void l.add("".concat(String(t)," is not supported with the '").concat(e,"' row model."))}if(c){const e=Array.isArray(c)?c:[c];let i=!0;if(e.forEach((e=>{Wa.__assertRegistered(e,String(t),this.context.getGridId())||(i=!1,l.add("".concat(String(t)," is only available when ").concat(e," is loaded.")))})),!i)return}if(d){const i=this.checkForWarning(t,d,e);if(i)return void l.add(i)}})),l.size>0&&l.forEach((e=>{Ta(e)}))}checkForWarning(e,t,i){if("function"===typeof t)return t(i,this.gridOptions);const n=Object.entries(t).find((e=>{let[t,n]=e;const o=i[t];return!n.includes(o)}));if(!n)return null;const[o,r]=n;return r.length>1?"'".concat(String(e),"' requires '").concat(o,"' to be one of [").concat(r.join(", "),"]."):"'".concat(String(e),"' requires '").concat(o,"' to be ").concat(r[0],".")}checkProperties(e,t,i,n,o){const r=Rd(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(fa(r,((e,t)=>{Ta("invalid ".concat(n," property '").concat(e,"' did you mean any of these: ").concat(t.slice(0,8).join(", ")))})),Object.keys(r).length>0&&o){const e=this.getFrameworkOverrides().getDocLink(o);Ta("to see all the valid ".concat(n," properties please check: ").concat(e))}}};Js([qa("gridOptions")],nC.prototype,"gridOptions",2),Js([ja],nC.prototype,"init",1),nC=Js([Ya("validationService")],nC);var oC=class extends Bl{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new el(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),n=this.gos.useAsyncEvents()&&!Yl.has(e),o=n?this.asyncEventListeners:this.syncEventListeners;o.has(e)||o.set(e,new Set),o.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){var i;const n=this.frameworkEventWrappingService.unwrap(t),o=this.asyncEventListeners.get(e),r=!!(null==o?void 0:o.delete(n));r||null==(i=this.syncEventListeners.get(e))||i.delete(n),this.eventService.removeEventListener(e,n,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const i=(e,i)=>{Yl.has(e)&&t(e,i)},n=(e,i)=>{Yl.has(e)||t(e,i)};this.globalEventListenerPairs.set(e,{syncListener:i,asyncListener:n}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:i,asyncListener:n}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach(((e,i)=>{e.forEach((e=>this.eventService.removeEventListener(i,e,t))),e.clear()})),e.clear()}destroyGlobalListeners(e,t){e.forEach((e=>this.eventService.removeGlobalListener(e,t))),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((e=>{let{syncListener:t,asyncListener:i}=e;this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(i,!0)})),this.globalEventListenerPairs.clear()}};Js([ja],oC.prototype,"postConstruct",1),oC=Js([Ya("apiEventService")],oC);var rC=class extends sh{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedListener(this.eventService,Kl.EVENT_PAGINATION_CHANGED,(e=>this.handlePaginationChanged(e)))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(null==e?void 0:e.newPageSize))return;const t=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){id(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationProxy.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),Ta("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const n=this.localeService.getLocaleTextFunc(),o=n("pageSizeSelectorLabel","Page Size:"),r=e.map((e=>({value:String(e),text:String(e)}))),s=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Th).addOptions(r).setValue(String(i?"":t)).setAriaLabel(s).setLabel(o).onValueChange((()=>this.handlePageSizeItemSelected())),this.hasEmptyOption=i}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return Array.isArray(t)&&this.validateValues(t)?[...t].sort(((e,t)=>e-t)):e}validateValues(e){if(!e.length)return Ta("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let t=0;t<e.length;t++){const i=e[t],n=i>0;if(!("number"===typeof i))return Ta("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!n)return Ta("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};Js([qa("paginationProxy")],rC.prototype,"paginationProxy",2),Js([ja],rC.prototype,"init",1);var sC=class extends Bl{constructor(){super(),this.descriptionContainer=null,this.announceValue=Na(this.announceValue.bind(this),200)}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),ku(t,"polite"),Lu(t,"additions text"),Fu(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout((()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)}),50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(id(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};Js([qa("eGridDiv")],sC.prototype,"eGridDiv",2),Js([ja],sC.prototype,"postConstruct",1),sC=Js([Ya("ariaAnnouncementService")],sC);var aC=class{};aC.gridOptions=void 0;var lC=1,uC=class{create(e,t,i,n,o){var r;let s={};aC.gridOptions?(ya(s,aC.gridOptions,!0,!0),s=Qs(Qs({},s),t)):s=t;const a=Yv.getCoercedGridOptions(s),l=!!a.debug,u=null!=(r=a.gridId)?r:String(lC++),c=this.getRegisteredModules(o,u),d=this.createBeansList(a.rowModelType,c,u),h=this.createProvidedBeans(e,a,o);if(!d)return void Da("Failed to create grid.");const p={providedBeanInstances:h,beanClasses:d,debug:l,gridId:u},g=new nv("Context",(()=>p.debug)),f=new za(p,g),m=f.getBean("beans");this.registerModuleUserComponents(m,c),this.registerStackComponents(m,c),this.registerControllers(m,c),i(f),m.syncService.start(),n&&n(f);return f.getBean("gridApi")}registerControllers(e,t){t.forEach((t=>{t.controllers&&t.controllers.forEach((t=>e.ctrlsFactory.register(t)))}))}registerStackComponents(e,t){const i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){const i=e?e.modules:null,n=Wa.__getRegisteredModules(t),o=[],r={},s=(e,t,i)=>{var n;r[(n=t).moduleName]||(r[n.moduleName]=!0,o.push(n),Wa.__register(n,e,i)),t.dependantModules&&t.dependantModules.forEach((t=>s(e,t,i)))};return i&&i.forEach((e=>s(!0,e,t))),n&&n.forEach((e=>s(!Wa.__isPackageBased(),e,void 0))),o}registerModuleUserComponents(e,t){this.extractModuleEntity(t,(e=>e.userComponents?e.userComponents:[])).forEach((t=>{e.userComponentRegistry.registerDefaultComponent(t.componentName,t.componentClass)}))}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;na(n)&&(n=new Qm);const o={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:Ph},{componentName:"AgRadioButton",componentClass:Ah},{componentName:"AgToggleButton",componentClass:vm},{componentName:"AgInputTextField",componentClass:Bh},{componentName:"AgInputTextArea",componentClass:Cm},{componentName:"AgInputNumberField",componentClass:Wh},{componentName:"AgInputDateField",componentClass:ym},{componentName:"AgInputRange",componentClass:wm},{componentName:"AgRichSelect",componentClass:xm},{componentName:"AgSelect",componentClass:Th},{componentName:"AgSlider",componentClass:Tm},{componentName:"AgGridBody",componentClass:cf},{componentName:"AgHeaderRoot",componentClass:Qf},{componentName:"AgSortIndicator",componentClass:op},{componentName:"AgPagination",componentClass:wv},{componentName:"AgPageSizeSelector",componentClass:rC},{componentName:"AgOverlayWrapper",componentClass:Ev},{componentName:"AgGroupComponent",componentClass:Pm},{componentName:"AgRowContainer",componentClass:Cf},{componentName:"AgFakeHorizontalScroll",componentClass:Gv},{componentName:"AgFakeVerticalScroll",componentClass:Xv},{componentName:"AgAutocomplete",componentClass:Um}];const i=this.extractModuleEntity(e,(e=>e.agStackComponents?e.agStackComponents:[]));return t=t.concat(i),t}createBeansList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clientSide",t=arguments.length>2?arguments[2]:void 0;const i=(arguments.length>1?arguments[1]:void 0).filter((t=>!t.rowModel||t.rowModel===e)),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[e])return void Da("Could not find row model for rowModelType = "+e);if(!Wa.__assertRegistered(n[e],"rowModelType = '".concat(e,"'"),t))return;const o=[Gg,Sv,xv,Mv,cv,Sg,Qp,pv,gv,im,mg,Cv,Xf,qv,nC,cm,yg,hu,Za,Yv,Vm,Jm,Rg,uu,Kf,fm,lm,tv,Wl,$m,pf,dv,ev,iv,sm,$f,Ep,Zm,av,hf,vv,Xm,mm,df,sv,lv,uv,yv,Xl,hv,nm,Av,Cu,_v,kv,gm,Fv,Lv,Vv,Hv,Nv,Zv,xg,eC,tC,iC,om,oC,sC,rm],r=this.extractModuleEntity(i,(e=>e.beans?e.beans:[]));o.push(...r);const s=[];return o.forEach((e=>{s.indexOf(e)<0&&s.push(e)})),s}extractModuleEntity(e,t){return[].concat(...e.map(t))}},cC=class{wrap(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;const o=this.createWrapper(e,n);return t.forEach((e=>{this.createMethod(o,e,!0)})),i.forEach((e=>{this.createMethod(o,e,!1)})),o}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}},dC=class{};dC.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},dC.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],dC.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var hC="undefined"===typeof global?{}:global;hC.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,hC.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,hC.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,hC.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,hC.Node="undefined"===typeof Node?{}:Node,hC.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var pC=class e{constructor(t,i,n,o,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=i,this.eventService=n,this.columnModel=o,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return $d.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(t){if("string"===typeof t)return void console.warn("AG Grid: rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map((t=>this.createNode(t,this.rootNode,e.TOP_LEVEL))):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}updateRowData(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const i={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n,"rowDataChanged"),t&&$d.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){const t={type:Kl.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:(null==e?void 0:e.length)?e[0]:null};this.eventService.dispatchEvent(t)}updateSelection(e,t){const i=e.length>0;if(i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i){const e={type:Kl.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(e)}}executeAdd(t,i){var n;const{add:o,addIndex:r}=t;if($d.missingOrEmpty(o))return;const s=o.map((t=>this.createNode(t,this.rootNode,e.TOP_LEVEL)));if("number"===typeof r&&r>=0){const{allLeafChildren:e}=this.rootNode,t=e.length;let i=r;if(this.gos.get("treeData")&&r>0&&t>0)for(let s=0;s<t;s++)if((null==(n=e[s])?void 0:n.rowIndex)==r-1){i=s+1;break}const o=e.slice(0,i),a=e.slice(i,e.length);this.rootNode.allLeafChildren=[...o,...s,...a]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...s];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=s}executeRemove(e,t,i){const{remove:n}=e;if($d.missingOrEmpty(n))return;const o={};n.forEach((e=>{const n=this.lookupRowNode(e);n&&(n.isSelected()&&i.push(n),n.clearRowTopAndRowIndex(),o[n.id]=!0,delete this.allNodesMap[n.id],t.remove.push(n))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((e=>!o[e.id])),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,i,n){const{update:o}=t;$d.missingOrEmpty(o)||o.forEach((t=>{const o=this.lookupRowNode(t);o&&(o.updateData(t),!o.selectable&&o.isSelected()&&n.push(o),this.setMasterForRow(o,t,e.TOP_LEVEL,!1),i.update.push(o))}))}lookupRowNode(e){const t=this.gos.getCallback("getRowId");let i;if(t){const n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return console.error("AG Grid: could not find row id=".concat(n,", data item was not found for this id")),null}else if(i=this.rootNode.allLeafChildren.find((t=>t.data===e)),!i)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i){const n=new yp(this.beans);n.group=!1,this.setMasterForRow(n,e,i,!0);const o=this.gos.get("suppressParentsInRowNodes");return t&&!o&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("AG Grid: duplicate node id '".concat(n.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const i=this.gos.get("isRowMaster");i?e.setMaster(i(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const t=this.columnModel.getRowGroupColumns(),n=i+(t?t.length:0);e.expanded=!!e.master&&this.isExpanded(n)}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}};pC.TOP_LEVEL=0,pC.ROOT_NODE_ID="ROOT_NODE_ID";var gC=pC,fC=class extends Bl{constructor(){super(...arguments),this.onRowHeightChanged_debounced=$d.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,Kl.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Kl.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_GRID_READY,(()=>this.onGridReady())),this.addPropertyListeners(),this.rootNode=new yp(this.beans),this.nodeManager=new gC(this.rootNode,this.gos,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),o=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...n,...n,...o,...r,...s,...a];this.addManagedPropertyListeners(l,(l=>{var u;const c=null==(u=l.changeSet)?void 0:u.properties;if(!c)return;const d=e=>c.some((t=>e.has(t)));d(e)?this.setRowData(this.rootNode.allLeafChildren.map((e=>e.data))):d(t)?this.refreshModel({step:"group"}):d(i)?this.refreshModel({step:"filter"}):d(n)?this.refreshModel({step:"pivot"}):d(o)?this.refreshModel({step:"aggregate"}):d(r)?this.refreshModel({step:"sort"}):d(s)?this.refreshModel({step:"filter_aggregates"}):d(a)&&this.refreshModel({step:"map"})})),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let o,r=!1;do{o=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,i),u=Math.min(a,n);for(let e=l;e<=u;e++){const t=this.getRow(e);if(t.rowHeightEstimated){const e=this.gos.getRowHeightForNode(t);t.setRowHeight(e.height),o=!0,r=!0}}o&&this.setRowTopAndRowIndex()}while(o);return r}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=this.gos.isDomLayout("normal");for(let o=0;o<this.rowsToDisplay.length;o++){const r=this.rowsToDisplay[o];if(null!=r.id&&i.add(r.id),null==r.rowHeight){const t=this.gos.getRowHeightForNode(r,n,e);r.setRowHeight(t.height,t.estimated)}r.setRowTop(t),r.setRowIndex(o),t+=r.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},o=e=>{if(n(e),n(e.detailNode),n(e.sibling),e.hasChildren()&&e.childrenAfterGroup){const t=-1==e.level;i&&!t&&!e.expanded||e.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getRowIndexAtPixel(t),o=this.getRow(n),r=!this.gos.get("suppressAnimationFrame");return o!==e[0]&&(e.forEach((e=>{$d.removeFromArray(this.rootNode.allLeafChildren,e)})),e.forEach(((e,t)=>{$d.insertIntoArray(this.rootNode.allLeafChildren,e,Math.max(n+i,0)+t)})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:r}),!0)}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,n=null!=i?this.getRow(i):null;if(!n||!e||n===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const o=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(!(t=this.getRow(i||0)))return 1}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let t=this.rootNode.childrenAfterSort[e];if(this.gos.get("groupHideOpenParents"))for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex}getRowBounds(e){if($d.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),i=0===e.columns.length||e.columns.some((e=>e.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=$d.missingOrEmpty(e),i=new dm(!1,this.rootNode);return(t||this.gos.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter((e=>null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0));return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if($d.exists(e)&&(t=i[e]),$d.missing(t))return void console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")));return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1;const o={type:Kl.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(o)}isEmpty(){const e=$d.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return $d.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return $d.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,n=!1;const o=[],r=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((s=>{if(n)return;if(i&&(s===t||s===e)&&(n=!0,s.group&&r))return void o.push(...s.allLeafChildren);if(!i){if(s!==t&&s!==e)return;i=!0}(!s.group||!r)&&o.push(s)})),o}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if($d.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let n=-1,o=-1;for(;;){const r=Math.floor((t+i)/2),s=this.rowsToDisplay[r];if(this.isRowInPixel(s,e))return r;s.rowTop<e?t=r+1:s.rowTop>e&&(i=r-1);if(n===t&&o===i)return r;n=t,o=i}}isRowInPixel(e,t){const i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((t,i)=>e(t,i)))}forEachNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:n,includeFooterNodes:o}=e;let{index:r}=e;const s=e=>{var n;const s=null==(n=t[0])?void 0:n.parent;if(!s)return;const a=o&&this.gos.getGrandTotalRow(),l=this.gos.getGroupTotalRowCallback(),u=o&&l({node:s});s===this.rootNode?a===e&&(s.createFooter(),i(s.sibling,r++)):u===e&&(s.createFooter(),i(s.sibling,r++))};s("top");for(let a=0;a<t.length;a++){const e=t[a];if(i(e,r++),e.hasChildren()&&!e.footer){let t=null;switch(n){case 0:t=e.childrenAfterGroup;break;case 1:t=e.childrenAfterAggFilter;break;case 2:t=e.childrenAfterSort;break;case 3:t=e.leafGroup?null:e.childrenAfterSort}t&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...t],callback:i,recursionType:n,index:r,includeFooterNodes:o}))}}return s("bottom"),r}doAggregate(e){var t;null==(t=this.aggregationStage)||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=o=>{o&&o.forEach((o=>{const r=()=>{o.expanded=e,n(o.childrenAfterGroup)};if(t){return void($d.exists(o.childrenAfterGroup)&&r())}if(i){return void(!o.leafGroup&&r())}o.group&&r()}))};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const o=e?"expandAll":"collapseAll",r={type:Kl.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(r)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.gos.get("groupSelectsChildren")){if(this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const e={type:Kl.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(e)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:Kl.EVENT_ROW_COUNT_READY}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;null==(t=this.pivotStage)||t.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(yp.ID_PREFIX_ROW_GROUP)){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){const e={type:Kl.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const e=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.executeBatchUpdateRowData()}),e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((n=>{const o=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(o),n.callback&&e.push(n.callback.bind(null,o)),"number"===typeof n.rowDataTransaction.addIndex&&(i=!0)})),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout((()=>{e.forEach((e=>e()))}),0),t.length>0){const e={type:Kl.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(e)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t),n="number"===typeof e.addIndex;return this.commonUpdateRowData([i],t,n),i}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let t=0;t<this.rootNode.allLeafChildren.length;t++){e[this.rootNode.allLeafChildren[t].id]=t}return e}commonUpdateRowData(e,t,i){if(!this.hasStarted)return;const n=!this.gos.get("suppressAnimationFrame");i&&(t=this.createRowNodeOrder());const o={type:Kl.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(o),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode((t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};Js([qa("columnModel")],fC.prototype,"columnModel",2),Js([qa("selectionService")],fC.prototype,"selectionService",2),Js([qa("valueCache")],fC.prototype,"valueCache",2),Js([qa("beans")],fC.prototype,"beans",2),Js([qa("filterStage")],fC.prototype,"filterStage",2),Js([qa("sortStage")],fC.prototype,"sortStage",2),Js([qa("flattenStage")],fC.prototype,"flattenStage",2),Js([Qa("groupStage")],fC.prototype,"groupStage",2),Js([Qa("aggregationStage")],fC.prototype,"aggregationStage",2),Js([Qa("pivotStage")],fC.prototype,"pivotStage",2),Js([Qa("filterAggregatesStage")],fC.prototype,"filterAggregatesStage",2),Js([ja],fC.prototype,"init",1),fC=Js([Ya("rowModel")],fC);var mC=class extends Bl{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};Js([qa("filterService")],mC.prototype,"filterService",2),mC=Js([Ya("filterStage")],mC);var vC=class extends Bl{execute(e){const t=this.sortController.getSortOptions(),i=$d.exists(t)&&t.length>0,n=i&&$d.exists(e.rowNodeTransactions)&&this.gos.get("deltaSort"),o=t.some((e=>this.gos.isColumnsSortingCoupledToGroup()?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup));this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,o)}};Js([qa("sortService")],vC.prototype,"sortService",2),Js([qa("sortController")],vC.prototype,"sortController",2),vC=Js([Ya("sortStage")],vC);var CC=class extends Bl{execute(e){const t=e.rowNode,i=[],n=this.beans.columnModel.isPivotMode(),o=n&&t.leafGroup,r=o?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,r,i,n,0);if(!o&&i.length>0&&s.grandTotalRow){t.createFooter();const e="top"===s.grandTotalRow;this.addRowNodeToRowsToDisplay(s,t.sibling,i,0,e)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,i,n,o){if(!$d.missingOrEmpty(t))for(let r=0;r<t.length;r++){const s=t[r],a=s.hasChildren(),l=n&&!a,u=e.groupRemoveSingleChildren&&a&&1===s.childrenAfterGroup.length,c=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&1===s.childrenAfterGroup.length,d=n&&s.leafGroup,h=e.hideOpenParents&&s.expanded&&!s.master&&!d;if(!l&&!h&&!u&&!c&&this.addRowNodeToRowsToDisplay(e,s,i,o),!n||!s.leafGroup)if(a){const t=u||c;if(s.expanded||t){const r=e.groupTotalRow({node:s});r||s.destroyFooter();const a=t?o:o+1;"top"===r&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,a)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,i,n,a),"bottom"===r&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,a))}}else if(s.master&&s.expanded){const t=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,t,i,o)}}}addRowNodeToRowsToDisplay(e,t,i,n,o){o?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if($d.exists(e.detailNode))return e.detailNode;const t=new yp(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,$d.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};Js([qa("beans")],CC.prototype,"beans",2),CC=Js([Ya("flattenStage")],CC);var yC=class extends Bl{sort(e,t,i,n,o,r){const s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some((e=>e.isRowGroupActive()));let l={};i&&n&&(l=this.calculateDirtyNodes(n));const u=this.columnModel.isPivotMode(),c=this.gos.getCallback("postSortRows"),d=n=>{var d;this.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0);const h=u&&n.leafGroup;if(s&&a&&!n.leafGroup&&!r){const e=null==(d=this.columnModel.getRowGroupColumns())?void 0:d[n.level+1],t=null===(null==e?void 0:e.getSort()),i=n.childrenAfterAggFilter.slice(0);if(n.childrenAfterSort&&!t){const e={};n.childrenAfterSort.forEach(((t,i)=>{e[t.id]=i})),i.sort(((t,i)=>{var n,o;return(null!=(n=e[t.id])?n:0)-(null!=(o=e[i.id])?o:0)}))}n.childrenAfterSort=i}else n.childrenAfterSort=!t||h?n.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(n,l,o,e):this.rowNodeSorter.doFullSort(n.childrenAfterAggFilter,e);if(n.sibling&&(n.sibling.childrenAfterSort=n.childrenAfterSort),this.updateChildIndexes(n),c){const e={nodes:n.childrenAfterSort};c(e)}};o&&o.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(e){const t={},i=e=>{e&&e.forEach((e=>t[e.id]=!0))};return e&&e.forEach((e=>{i(e.add),i(e.update),i(e.remove)})),t}doDeltaSort(e,t,i,n){const o=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(o,n);const s={},a=[];o.forEach((e=>{t[e.id]||!i.canSkip(e)?a.push(e):s[e.id]=!0}));const l=r.filter((e=>s[e.id])),u=(e,t)=>({currentPos:t,rowNode:e}),c=a.map(u).sort(((e,t)=>this.rowNodeSorter.compareRowNodes(n,e,t)));return this.mergeSortedArrays(n,c,l.map(u)).map((e=>{let{rowNode:t}=e;return t}))}mergeSortedArrays(e,t,i){const n=[];let o=0,r=0;for(;o<t.length&&r<i.length;){this.rowNodeSorter.compareRowNodes(e,t[o],i[r])<0?n.push(t[o++]):n.push(i[r++])}for(;o<t.length;)n.push(t[o++]);for(;r<i.length;)n.push(i[r++]);return n}updateChildIndexes(e){if($d.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],o=0===i,r=i===e.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(r),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return $d.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=e=>{this.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((e=>{e.hasChildren()&&t(e)}))};e&&e.executeFromRootNode((e=>t(e)))}pullDownGroupDataForHideOpenParents(e,t){this.gos.get("groupHideOpenParents")&&!$d.missing(e)&&e.forEach((e=>{this.columnModel.getGroupDisplayColumns().forEach((i=>{const n=i.getColDef().showRowGroup;if("string"!==typeof n)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const o=n,r=this.columnModel.getPrimaryColumn(o);if(!(r===e.rowGroupColumn))if(t)e.setGroupValue(i.getId(),void 0);else{const t=e.getFirstChildOfFirstChild(r);t&&e.setGroupValue(i.getId(),t.key)}}))}))}};Js([qa("columnModel")],yC.prototype,"columnModel",2),Js([qa("rowNodeSorter")],yC.prototype,"rowNodeSorter",2),yC=Js([Ya("sortService")],yC);var wC=class extends Bl{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(t,i)=>{t.hasChildren()?t.childrenAfterFilter=e&&!i?t.childrenAfterGroup.filter((e=>{const t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||i})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const e=(t,n)=>{if(t.childrenAfterGroup)for(let o=0;o<t.childrenAfterGroup.length;o++){const r=t.childrenAfterGroup[o],s=n||this.filterManager.doesRowPassFilter({rowNode:r});r.childrenAfterGroup?e(t.childrenAfterGroup[o],s):i(r,s)}i(t,n)},n=t=>e(t,!1);t.executeFromRootNode(n)}else{const e=e=>i(e,!1);t.forEachChangedNodeDepthFirst(e,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}};Js([qa("filterManager")],wC.prototype,"filterManager",2),wC=Js([Ya("filterService")],wC);var bC=class extends Bl{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated())))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,n]=t;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(e){if($d.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const t=this.gos.getCallback("getRowId");if(null==t)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return $d.exists(e)&&e.forEach(((e,r)=>{const s=t({data:e,level:0}),a=n[s];if(o&&(o[s]=r),a){a.data!==e&&i.update.push(e),n[s]=void 0}else i.add.push(e)})),$d.iterateObject(n,((e,t)=>{t&&i.remove.push(t.data)})),[i,o]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}};Js([qa("rowModel")],bC.prototype,"rowModel",2),Js([qa("rowRenderer")],bC.prototype,"rowRenderer",2),Js([qa("selectionService")],bC.prototype,"selectionService",2),Js([ja],bC.prototype,"postConstruct",1);var EC={version:"31.3.4",moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[fC,mC,vC,CC,yC,wC,bC=Js([Ya("immutableService")],bC)]},SC=Object.defineProperty,xC=Object.getOwnPropertyDescriptor,RC=(e,t,i,n)=>{for(var o,r=n>1?void 0:n?xC(t,i):t,s=e.length-1;s>=0;s--)(o=e[s])&&(r=(n?o(t,i,r):o(r))||r);return n&&r&&SC(t,i,r),r},TC=class extends pm{constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){$d.exists(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();$d.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((()=>{this.params.datasource.getRows(e)}),0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach(((n,o)=>{this.startRow+o<i&&e(n,t.next())}))}getLastAccessed(){return this.lastAccessed}getRow(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.lastAccessed=this.params.lastAccessedSequence.next());const t=e-this.startRow;return this.rowNodes[t]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new yp(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach(((t,i)=>{const n=e.rowData?e.rowData[i]:void 0;!t.id&&t.alreadyRendered&&n&&(this.rowNodes[i]=new yp(this.beans),this.rowNodes[i].setRowIndex(t.rowIndex),this.rowNodes[i].setRowTop(t.rowTop),this.rowNodes[i].setRowHeight(t.rowHeight),t.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],n,this.startRow+i)}));const t=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroyRowNodes(){this.rowNodes.forEach((e=>{e.clearRowTopAndRowIndex()}))}};RC([qa("beans")],TC.prototype,"beans",2),RC([ja],TC.prototype,"postConstruct",1),RC([Ka],TC.prototype,"destroyRowNodes",1);var DC=class e extends Bl{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Math.floor(e/this.params.blockSize);let n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){const t=this.createBean(new TC(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((e=>e.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroyAllBlocks(){this.getBlocksInOrder().forEach((e=>this.destroyBlock(e)))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(t)),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const i=this.getBlocksInOrder().filter((e=>e!=t));i.sort(((e,t)=>t.getLastAccessed()-e.getLastAccessed()));const n=this.params.maxBlocksInCache>0,o=n?this.params.maxBlocksInCache-1:null,r=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(((e,t)=>{if(e.getState()===TC.STATE_WAITING_TO_LOAD&&t>=r||!!n&&t>=o){if(this.isBlockCurrentlyDisplayed(e))return;if(this.isBlockFocused(e))return;this.removeBlockFromCache(e)}}))}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;const i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const t=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<t&&(this.rowCount=t)}}setRowCount(e,t){this.rowCount=e,$d.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Jd;this.getBlocksInOrder().forEach((i=>i.forEachNode(e,t,this.rowCount)))}getBlocksInOrder(){return $d.getAllValuesInObject(this.blocks).sort(((e,t)=>e.getId()-t.getId()))}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const e={type:Kl.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach((t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)})),e.length>0&&e.forEach((e=>this.destroyBlock(e)))}purgeCache(){this.getBlocksInOrder().forEach((e=>this.removeBlockFromCache(e))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let n=-1,o=!1;const r=new Jd;$d.missing(e)&&(o=!0);let s=!1;this.getBlocksInOrder().forEach((a=>{s||(o&&n+1!==a.getId()?s=!0:(n=a.getId(),a.forEachNode((n=>{const r=n===e||n===t;(o||r)&&i.push(n),r&&(o=!o)}),r,this.rowCount)))}));return s||o?[]:i}};DC.MAX_EMPTY_BLOCKS_TO_KEEP=2,RC([qa("rowRenderer")],DC.prototype,"rowRenderer",2),RC([qa("focusService")],DC.prototype,"focusService",2),RC([((e,t)=>(i,n)=>t(i,n,e))(0,$a("loggerFactory"))],DC.prototype,"setBeans",1),RC([Ka],DC.prototype,"destroyAllBlocks",1);var PC=DC,AC=class extends Bl{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,i,n){return!1}init(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&$d.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,Kl.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Kl.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!$d.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=this.gos.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:Kl.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Jd},this.infiniteCache=this.createBean(new PC(this.cacheParams)),this.eventService.dispatchEventOnce({type:Kl.EVENT_ROW_COUNT_READY});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}updateRowHeights(){this.forEachNode((e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}));const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};RC([qa("filterManager")],AC.prototype,"filterManager",2),RC([qa("sortController")],AC.prototype,"sortController",2),RC([qa("selectionService")],AC.prototype,"selectionService",2),RC([qa("rowRenderer")],AC.prototype,"rowRenderer",2),RC([qa("rowNodeBlockLoader")],AC.prototype,"rowNodeBlockLoader",2),RC([ja],AC.prototype,"init",1),RC([Ka],AC.prototype,"destroyDatasource",1);var MC={version:"31.3.4",moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[AC=RC([Ya("rowModel")],AC)]},_C=Object.defineProperty,kC=Object.defineProperties,FC=Object.getOwnPropertyDescriptor,LC=Object.getOwnPropertyDescriptors,NC=Object.getOwnPropertySymbols,OC=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable,GC=(e,t,i)=>t in e?_C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,VC=(e,t)=>{for(var i in t||(t={}))OC.call(t,i)&&GC(e,i,t[i]);if(NC)for(var i of NC(t))IC.call(t,i)&&GC(e,i,t[i]);return e},HC=(e,t)=>kC(e,LC(t)),BC=(e,t,i,n)=>{for(var o,r=n>1?void 0:n?FC(t,i):t,s=e.length-1;s>=0;s--)(o=e[s])&&(r=(n?o(t,i,r):o(r))||r);return n&&r&&_C(t,i,r),r},WC=(e,t,i)=>new Promise(((n,o)=>{var r=e=>{try{a(i.next(e))}catch(t){o(t)}},s=e=>{try{a(i.throw(e))}catch(t){o(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,s);a((i=i.apply(e,t)).next())})),zC=class{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?"".concat(e,".").concat(t):e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return"export.".concat(this.getDefaultFileExtension())}},UC=class{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:i,gos:n,processCellCallback:o,processHeaderCallback:r,processGroupHeaderCallback:s,processRowGroupCallback:a}=e;this.columnModel=t,this.valueService=i,this.gos=n,this.processCellCallback=o,this.processHeaderCallback=r,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}prepare(e){this.groupColumns=e.filter((e=>!!e.getColDef().showRowGroup))}extractHeaderValue(e){const t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""}extractRowCellValue(e,t,i,n,o){const r=this.gos.get("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,e,t)?this.valueService.getValue(e,o):this.createValueForGroupNode(e,o);return this.processCell({accumulatedRowIndex:i,rowNode:o,column:e,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){var n;if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=(null==(n=e.groupData)?void 0:n[t.getId()]))return!0;if(this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){const e=t.getColDef();return null==e||!0===e.showRowGroup||e.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&o}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),o=t=>{var o,r;if(i||n)return t.key;const s=null==(o=t.groupData)?void 0:o[e.getId()];return s&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport&&null!=(r=this.valueService.formatValue(t.rowGroupColumn,t,s))?r:s},r=t.footer,s=[o(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,s.push(o(t));const a=s.reverse().join(" -> ");return r?"Total ".concat(a):a}processCell(e){var t;const{accumulatedRowIndex:i,rowNode:n,column:o,value:r,processCellCallback:s,type:a}=e;return s?{value:null!=(t=s(this.gos.addGridCommonParams({accumulatedRowIndex:i,column:o,node:n,value:r,type:a,parseValue:e=>this.valueService.parseValue(o,n,e,this.valueService.getValue(o,n)),formatValue:e=>{var t;return null!=(t=this.valueService.formatValue(o,n,e))?t:e}})))?t:""}:!1!==o.getColDef().useValueFormatterForExport?{value:null!=r?r:"",valueFormatted:this.valueService.formatValue(o,n,r)}:{value:null!=r?r:""}}},jC=class{static download(e,t){const i=document.defaultView||window;if(!i)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const n=document.createElement("a"),o=i.URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout((()=>{i.URL.revokeObjectURL(o)}),0)}},KC=class extends UC{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((e=>{this.beginNewLine(),e.forEach(((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var n;0!=t&&(this.result+=this.columnSeparator);const o=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(null!=(n=o.valueFormatted)?n:o.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';let t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t="");return'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},YC=class extends zC{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\ufeff",i],{type:"text/plain"}),o="function"===typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;jC.download(this.getFileName(o),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.assign({},e):this.getMergedParams(e);return this.getData(t)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:i,gos:n}=this,{processCellCallback:o,processHeaderCallback:r,processGroupHeaderCallback:s,processRowGroupCallback:a,suppressQuotes:l,columnSeparator:u}=e;return new KC({columnModel:t,valueService:i,gos:n,processCellCallback:o||void 0,processHeaderCallback:r||void 0,processGroupHeaderCallback:s||void 0,processRowGroupCallback:a||void 0,suppressQuotes:l||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};BC([qa("columnModel")],YC.prototype,"columnModel",2),BC([qa("valueService")],YC.prototype,"valueService",2),BC([qa("gridSerializer")],YC.prototype,"gridSerializer",2),BC([qa("gridOptionsService")],YC.prototype,"gos",2),BC([ja],YC.prototype,"postConstruct",1),YC=BC([Ya("csvCreator")],YC);var qC=class extends Bl{serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allColumns:i,columnKeys:n,skipRowGroups:o}=t,r=this.getColumnsToExport(i,o,n);return $d.compose(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t))(e).parse()}processRow(e,t,i,n){const o=t.shouldRowBeSkipped||(()=>!1),r=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),a=null!=t.rowPositions||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!a,u=this.columnModel.isPivotMode()?n.leafGroup:!n.group,c=!!n.footer,d=(t.skipRowGroups,s&&n.leafGroup),h=1===n.allChildrenCount&&(r||d);if(!u&&!c&&(t.skipRowGroups||h||l)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned)return;if(-1===n.level&&!u&&!c)return;if(o(this.gos.addGridCommonParams({node:n})))return;const p=e.onNewBodyRow(n);if(i.forEach(((e,t)=>{p.onColumn(e,t,n)})),t.getCustomContentBelowRow){const i=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));i&&e.addCustomContent(i)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new ql,o=this.displayedGroupCreator.createDisplayedGroups(t,n,null);this.recursivelyAddHeaderGroups(o,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const e=i.onNewHeaderRow();t.forEach(((t,i)=>{e.onColumn(t,i,void 0)}))}return i}}processPinnedTopRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter((e=>"top"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedTopRow(e.rowIndex))).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),i}}processRows(e,t){return i=>{const n=this.rowModel,o=n.getType(),r="clientSide"===o,s="serverSide"===o,a=!r&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter((e=>null==e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>n.getRow(e.rowIndex))).forEach(l);else if(this.columnModel.isPivotMode())r?n.forEachPivotNode(l,!0):s?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);else if(e.onlySelectedAllPages||a){const e=this.selectionService.getSelectedNodes();this.replicateSortedOrder(e),e.forEach(l)}else"all"===u?n.forEachNode(l):r||s?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(e,n)=>{var o,r,s,a;return null!=e.rowIndex&&null!=n.rowIndex?e.rowIndex-n.rowIndex:e.level===n.level?(null==(o=e.parent)?void 0:o.id)===(null==(r=n.parent)?void 0:r.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:e,currentPos:null!=(s=e.rowIndex)?s:-1},{rowNode:n,currentPos:null!=(a=n.rowIndex)?a:-1}):i(e.parent,n.parent):e.level>n.level?i(e.parent,n):i(e,n.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter((e=>"bottom"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedBottomRow(e.rowIndex))).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),i}}getColumnsToExport(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);const o=this.gos.get("treeData");let r=[];return r=e&&!n?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),t&&!o&&(r=r.filter((e=>e.getColId()!==Ql))),r}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach((e=>{const t=e;t.getChildren&&t.getChildren().forEach((e=>n.push(e)))})),e.length>0&&e[0]instanceof jl&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let o=0;t.forEach((e=>{const t=e;let r;r=i?i(this.gos.addGridCommonParams({columnGroup:t})):this.columnModel.getDisplayNameForColumnGroup(t,"header");const s=t.getLeafColumns().reduce(((e,t,i,n)=>{let o=$d.last(e);return"open"===t.getColumnGroupShow()?o&&null==o[1]||(o=[i],e.push(o)):o&&null==o[1]&&(o[1]=i-1),i===n.length-1&&o&&null==o[1]&&(o[1]=i),e}),[]);n.onColumn(t,r||"",o++,t.getLeafColumns().length-1,s)}))}};BC([qa("displayedGroupCreator")],qC.prototype,"displayedGroupCreator",2),BC([qa("columnModel")],qC.prototype,"columnModel",2),BC([qa("rowModel")],qC.prototype,"rowModel",2),BC([qa("pinnedRowModel")],qC.prototype,"pinnedRowModel",2),BC([qa("selectionService")],qC.prototype,"selectionService",2),BC([qa("rowNodeSorter")],qC.prototype,"rowNodeSorter",2),BC([qa("sortController")],qC.prototype,"sortController",2);var QC={version:"31.3.4",moduleName:"@ag-grid-community/csv-export",beans:[YC,qC=BC([Ya("gridSerializer")],qC)]};function XC(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}var $C=e=>{if(!e.length)return 0;let t=~0,i=0,n=0,o=0;for(let r=0;r<e.length;r++)i=e[r],n=255&(t^i),o=ZC[n],t=t>>>8^o;return~t},JC=e=>e.length?$C("string"===typeof e?(new TextEncoder).encode(e):e):0,ZC=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ey=e=>WC(void 0,null,(function*(){const t=new Blob([e]),{size:i,content:n}=yield(e=>WC(void 0,null,(function*(){let t=0;const i=[],n=new WritableStream({write:e=>{i.push(e),t+=e.length}}),o=new ReadableStream({start:t=>{const i=new FileReader;i.onload=e=>{var i;(null==(i=e.target)?void 0:i.result)&&t.enqueue(e.target.result),t.close()},i.readAsArrayBuffer(e)}}),r=new window.CompressionStream("deflate-raw");return yield o.pipeThrough(r).pipeTo(n),{size:t,content:new Blob(i)}})))(t);return{size:i,content:new Uint8Array(yield n.arrayBuffer())}})),{utf8_encode:ty}=$d,iy=(e,t)=>WC(void 0,null,(function*(){const{content:i}=e,{size:n,content:o}=i?ry(i):{size:0,content:Uint8Array.from([])};let r,s,a=!1;if("file"===e.type&&o&&n>0){const e=yield ey(o);r=e.content,s=e.size,a=!0}const l=oy(e,a,t,n,o,s);return HC(VC({},l),{content:r||o,isCompressed:a})})),ny=(e,t)=>{const{content:i}=e,{content:n}=i?ry(i):{content:Uint8Array.from([])},o=oy(e,!1,t,n.length,n,void 0);return HC(VC({},o),{content:n,isCompressed:!1})},oy=(e,t,i,n,o,r)=>{const{content:s,path:a,created:l}=e,u=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),c=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),d=JC(o),h=void 0!==r?r:n,p=ty(a),g=p!==a;let f="";if(g){const e=XC(1,1)+XC(JC(p),4)+p;f="up"+XC(e.length,2)+e}const m="\x14\0"+(g?"\0\b":"\0\0")+XC(t?8:0,2)+XC(u,2)+XC(c,2)+XC(h?d:0,4)+XC(null!=r?r:n,4)+XC(n,4)+XC(p.length,2)+XC(f.length,2),v="PK\x03\x04"+m+p+f,C="PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+XC(i,4)+p+f;return{localFileHeader:Uint8Array.from(v,(e=>e.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(C,(e=>e.charCodeAt(0)))}},ry=e=>{let t;if("string"===typeof e){t=(e=>{const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t})(atob(e.split(";base64,")[1]))}else t=e;return{size:t.length,content:t}},sy=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static getZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";return WC(this,null,(function*(){const t=yield this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}))}static getUncompressedZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=new Uint8Array(0),i=new Uint8Array(0),n=0,o=0;for(const a of e){const{localFileHeader:e,centralDirectoryHeader:r,content:s}=a,l=new Uint8Array(t.length+e.length);l.set(t),l.set(e,t.length),t=l;const u=new Uint8Array(t.length+s.length);u.set(t),u.set(s,t.length),t=u;const c=new Uint8Array(i.length+r.length);c.set(i),c.set(r,i.length),i=c,n+=e.length+s.length,o+=r.length}const r=((e,t,i)=>{const n="PK\x05\x06\0\0\0\0"+XC(e,2)+XC(e,2)+XC(t,4)+XC(i,4)+"\0\0";return Uint8Array.from(n,(e=>e.charCodeAt(0)))})(e.length,o,n),s=new Uint8Array(t.length+i.length+r.length);return s.set(t),s.set(i,t.length),s.set(r,t.length+i.length),s}static buildCompressedFileStream(){return WC(this,null,(function*(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const e=yield iy(n,i),{localFileHeader:o,content:r}=e;t.push(e),i+=o.length+r.length}return this.packageFiles(t)}))}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const e=ny(n,i),{localFileHeader:o,content:r}=e;t.push(e),i+=o.length+r.length}return this.packageFiles(t)}};sy.folders=[],sy.files=[],Wa.__registerModules([EC,MC,QC],!1,void 0);var ay=i(7950),ly=i.t(ay,2),uy=i(6885),cy=Object.defineProperty,dy=Object.defineProperties,hy=Object.getOwnPropertyDescriptors,py=Object.getOwnPropertySymbols,gy=Object.prototype.hasOwnProperty,fy=Object.prototype.propertyIsEnumerable,my=(e,t,i)=>t in e?cy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,vy=(e,t)=>{for(var i in t||(t={}))gy.call(t,i)&&my(e,i,t[i]);if(py)for(var i of py(t))fy.call(t,i)&&my(e,i,t[i]);return e},Cy=(e,t)=>dy(e,hy(t)),yy=(0,e.createContext)({setMethods:()=>{}}),wy=(0,e.memo)((t=>{const{initialProps:i,addUpdateCallback:n,CustomComponentClass:o,setMethods:r}=t,[s,a]=(0,e.useState)(i);return(0,e.useEffect)((()=>{n((e=>a(e)))}),[]),e.createElement(yy.Provider,{value:{setMethods:r}},e.createElement(o,vy({},s)))})),by=0;function Ey(){return"agPortalKey_".concat(++by)}var Sy=class{constructor(e,t,i,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Ey(),this.portalKey=Ey(),this.instanceCreated=this.isStatelessComponent()?Zd.resolve(!1):new Zd((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&($d.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){$d.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e)))}}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"===typeof Symbol&&Symbol.for}isStateless(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i)return void setTimeout((()=>this.callMethod(e,t)));const n=i[e];return n?n.apply(i,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new Zd((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{var t;this.componentInstance=e,this.addParentContainerStyleAndClasses(),null==(t=this.resolveInstanceCreated)||t.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,Cy(vy({},e),{key:this.key})),this.portal=(0,ay.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(t,i){return(0,e.createElement)(t,i)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,(t=>{e(t)}))}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(t){if(!this.componentType.cellRenderer)return!1;const i=console.error;try{console.error=()=>{};return""===(0,uy.qV)((0,e.createElement)(this.reactComponent,t))}catch(n){}finally{console.error=i}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this["".concat(e,"Component")];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this["".concat(e,"Component")]}};function xy(e,t,i){e.forEach((e=>{const n=t[e];n&&(i[e]=n)}))}var Ry=class extends Sy{constructor(){super(...arguments),this.awaitUpdateCallback=new Zd((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=wy}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new Zd((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,xy(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return Cy(vy({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new Zd((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},Ty=class extends Ry{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Dy=class extends Ry{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function Py(e,t){e.parentFilterInstance((i=>{(i.setModel(t)||Zd.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var Ay=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return Cy(vy({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){xy(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Py(this.floatingFilterParams,e)}},My=class extends Ry{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Py(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},_y=class extends Ry{refresh(e){this.sourceParams=e,this.refreshProps()}},ky=class extends Ry{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Fy=class extends Ry{refresh(e){this.sourceParams=e,this.refreshProps()}},Ly=class extends Ry{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ny=class extends Ry{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},Oy=class e{constructor(t,i,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=i||"div",this.refresher=t,this.maxComponentCreationTimeMs=n||e.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):(console.error("AG Grid: React Component '".concat(e.getReactComponentName(),"' not created within ").concat(this.maxComponentCreationTimeMs,"ms.")),void console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`"));window.setTimeout((()=>{this.waitForInstance(e,t,i)}))}}};Oy.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var Iy=Oy,Gy=e.createContext({}),Vy=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e=>null!=e&&""!==e)).join(" ")},Hy=class e{constructor(){this.classesMap={};for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,i){if(!!this.classesMap[t]==i)return this;const n=new e;return n.classesMap=vy({},this.classesMap),n.classesMap[t]=i,n}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},By=e=>"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),Wy=null!=ay.createRoot&&null!=ay.flushSync,zy=!1;var Uy=(e,t)=>{Wy&&e&&!zy?ay.flushSync(t):t()};function jy(e,t,i){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(i||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const n=[],o=[],r=new Map,s=new Map;for(let a=0;a<t.length;a++){const e=t[a];s.set(e.getInstanceId(),e)}for(let a=0;a<e.length;a++){const t=e[a];r.set(t.getInstanceId(),t),s.has(t.getInstanceId())&&n.push(t)}for(let a=0;a<t.length;a++){const e=t[a],i=e.getInstanceId();r.has(i)||o.push(e)}return n.length===e.length&&0===o.length?e:0===n.length&&o.length===t.length?t:0===n.length?o:0===o.length?n:[...n,...o]}var Ky=(e,t,i,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(!o)return;let r,s,a=!1;return o.then((e=>{a?t.destroyBean(e):(r=e,s=r.getGui(),i.appendChild(s),Yy(n,r))})),()=>{a=!0,r&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(r),n&&Yy(n,void 0))}},Yy=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},qy=(0,e.forwardRef)(((t,i)=>{var n;const o=(0,e.useContext)(Gy).context,r=(0,e.useRef)(null),s=(0,e.useRef)(null),a=(0,e.useRef)(null),l=(0,e.useRef)(null),u=(0,e.useRef)(null),c=(0,e.useRef)(),[d,h]=(0,e.useState)(),[p,g]=(0,e.useState)(),[f,m]=(0,e.useState)(),[v,C]=(0,e.useState)((()=>new Hy)),[y,w]=(0,e.useState)((()=>new Hy("ag-hidden"))),[b,E]=(0,e.useState)((()=>new Hy("ag-hidden"))),[S,x]=(0,e.useState)((()=>new Hy("ag-invisible")));(0,e.useImperativeHandle)(i,(()=>({refresh:()=>!1}))),(0,e.useLayoutEffect)((()=>Ky(d,o,s.current)),[d]);const R=(0,e.useCallback)((e=>{if(r.current=e,!r.current)return o.destroyBean(c.current),void(c.current=null);const i={setInnerRenderer:(e,t)=>{h(e),m(t)},setChildCount:e=>g(e),addOrRemoveCssClass:(e,t)=>C((i=>i.setClass(e,t))),setContractedDisplayed:e=>E((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>w((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>x((t=>t.setClass("ag-invisible",!e)))};c.current=o.createBean(new Dp),c.current.init(i,r.current,a.current,l.current,u.current,qy,t)}),[]),T=(0,e.useMemo)((()=>"ag-cell-wrapper ".concat(v.toString())),[v]),D=(0,e.useMemo)((()=>"ag-group-expanded ".concat(y.toString())),[y]),P=(0,e.useMemo)((()=>"ag-group-contracted ".concat(b.toString())),[b]),A=(0,e.useMemo)((()=>"ag-group-checkbox ".concat(S.toString())),[S]),M=d&&d.componentFromFramework,_=M?d.componentClass:void 0,k=null==d&&null!=f,F=$d.escapeString(f,!0);return e.createElement("span",vy({className:T,ref:R},t.colDef?{}:{role:null==(n=c.current)?void 0:n.getCellAriaRole()}),e.createElement("span",{className:D,ref:l}),e.createElement("span",{className:P,ref:u}),e.createElement("span",{className:A,ref:a}),e.createElement("span",{className:"ag-group-value",ref:s},k&&e.createElement(e.Fragment,null,F),M&&e.createElement(_,vy({},d.params))),e.createElement("span",{className:"ag-group-child-count"},p))})),Qy=qy,Xy=(0,e.memo)((t=>{const{ctrl:i}=t,n=i.isAlive(),{context:o}=(0,e.useContext)(Gy),r=n?i.getColId():void 0,[s,a]=(0,e.useState)(),l=(0,e.useRef)(null),u=(0,e.useRef)(null),c=(0,e.useRef)(null),d=(0,e.useRef)();let h=(0,e.useRef)();n&&!h.current&&(h.current=new eh((()=>l.current)));const p=(0,e.useCallback)((e=>{var t;if(l.current=e,!l.current||!n)return;const o={setWidth:e=>{l.current&&(l.current.style.width=e)},addOrRemoveCssClass:(e,t)=>h.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{l.current&&(e?$d.setAriaSort(l.current,e):$d.removeAriaSort(l.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>d.current||void 0};i.setComp(o,l.current,u.current,c.current);const r=i.getSelectAllGui();null==(t=u.current)||t.insertAdjacentElement("afterend",r)}),[]);(0,e.useLayoutEffect)((()=>Ky(s,o,c.current,d)),[s]),(0,e.useEffect)((()=>{i.setDragSource(l.current)}),[s]);const g=(0,e.useMemo)((()=>!!((null==s?void 0:s.componentFromFramework)&&By(s.componentClass))),[s]),f=s&&s.componentFromFramework,m=s&&s.componentClass;return e.createElement("div",{ref:p,className:"ag-header-cell","col-id":r,role:"columnheader"},e.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),e.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},f&&g&&e.createElement(m,vy({},s.params)),f&&!g&&e.createElement(m,Cy(vy({},s.params),{ref:d}))))})),$y=(0,e.memo)((t=>{const{context:i}=(0,e.useContext)(Gy),{ctrl:n}=t,[o,r]=(0,e.useState)((()=>new Hy)),[s,a]=(0,e.useState)((()=>new Hy)),[l,u]=(0,e.useState)("false"),[c,d]=(0,e.useState)(),[h,p]=(0,e.useState)(),g=(0,e.useMemo)((()=>n.getColId()),[]),f=(0,e.useRef)(null),m=(0,e.useRef)(null),v=(0,e.useRef)(),C=(0,e.useCallback)((e=>{if(f.current=e,!f.current)return;const t={setWidth:e=>{f.current&&(f.current.style.width=e)},addOrRemoveCssClass:(e,t)=>r((i=>i.setClass(e,t))),setUserCompDetails:e=>p(e),setResizableDisplayed:e=>{a((t=>t.setClass("ag-hidden",!e))),u(e?"false":"true")},setAriaExpanded:e=>d(e),getUserCompInstance:()=>v.current||void 0};n.setComp(t,f.current,m.current)}),[]);(0,e.useLayoutEffect)((()=>Ky(h,i,f.current)),[h]),(0,e.useEffect)((()=>{f.current&&n.setDragSource(f.current)}),[h]);const y=(0,e.useMemo)((()=>!!((null==h?void 0:h.componentFromFramework)&&By(h.componentClass))),[h]),w=(0,e.useMemo)((()=>"ag-header-group-cell "+o.toString()),[o]),b=(0,e.useMemo)((()=>"ag-header-cell-resize "+s.toString()),[s]),E=h&&h.componentFromFramework,S=h&&h.componentClass;return e.createElement("div",{ref:C,className:w,"col-id":g,role:"columnheader","aria-expanded":c},E&&y&&e.createElement(S,vy({},h.params)),E&&!y&&e.createElement(S,Cy(vy({},h.params),{ref:v})),e.createElement("div",{ref:m,"aria-hidden":l,className:b}))}));function Jy(){$d.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var Zy=(0,e.memo)((t=>{const{context:i,gos:n}=(0,e.useContext)(Gy),[o,r]=(0,e.useState)((()=>new Hy("ag-header-cell","ag-floating-filter"))),[s,a]=(0,e.useState)((()=>new Hy)),[l,u]=(0,e.useState)((()=>new Hy("ag-floating-filter-button","ag-hidden"))),[c,d]=(0,e.useState)("false"),[h,p]=(0,e.useState)(),[g,f]=(0,e.useState)(1),m=(0,e.useRef)(null),v=(0,e.useRef)(null),C=(0,e.useRef)(null),y=(0,e.useRef)(null),w=(0,e.useRef)(),b=(0,e.useRef)(),E=e=>{null!=e&&w.current&&w.current(e)},{ctrl:S}=t,x=(0,e.useCallback)((e=>{if(m.current=e,!m.current)return;b.current=new Zd((e=>{w.current=e}));const t={addOrRemoveCssClass:(e,t)=>r((i=>i.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>a((i=>i.setClass(e,t))),setButtonWrapperDisplayed:e=>{u((t=>t.setClass("ag-hidden",!e))),d(e?"false":"true")},setWidth:e=>{m.current&&(m.current.style.width=e)},setCompDetails:e=>p(e),getFloatingFilterComp:()=>b.current?b.current:null,setMenuIcon:e=>{var t;return null==(t=y.current)?void 0:t.appendChild(e)}};S.setComp(t,m.current,y.current,v.current)}),[]);(0,e.useLayoutEffect)((()=>Ky(h,i,v.current,E)),[h]);const R=(0,e.useMemo)((()=>o.toString()),[o]),T=(0,e.useMemo)((()=>s.toString()),[s]),D=(0,e.useMemo)((()=>l.toString()),[l]),P=(0,e.useMemo)((()=>!!(h&&h.componentFromFramework&&By(h.componentClass))),[h]),A=(0,e.useMemo)((()=>n.get("reactiveCustomComponents")),[]),M=(0,e.useMemo)((()=>{if(h){if(A){const e=new Ay(h.params,(()=>f((e=>e+1))));return E(e),e}h.componentFromFramework&&Jy()}}),[h]),_=null==M?void 0:M.getProps(),k=h&&h.componentFromFramework,F=h&&h.componentClass;return e.createElement("div",{ref:x,className:R,role:"gridcell"},e.createElement("div",{ref:v,className:T,role:"presentation"},k&&!A&&e.createElement(F,Cy(vy({},h.params),{ref:P?()=>{}:E})),k&&A&&e.createElement(yy.Provider,{value:{setMethods:e=>M.setMethods(e)}},e.createElement(F,vy({},_)))),e.createElement("div",{ref:C,"aria-hidden":c,className:D,role:"presentation"},e.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),ew=(0,e.memo)((t=>{const{ctrl:i}=t,{topOffset:n,rowHeight:o}=(0,e.useMemo)((()=>i.getTopAndHeight()),[]),r=i.getAriaRowIndex(),s=i.getHeaderRowClass(),[a,l]=(0,e.useState)((()=>o+"px")),[u,c]=(0,e.useState)((()=>n+"px")),d=(0,e.useRef)(null),h=(0,e.useRef)(null),[p,g]=(0,e.useState)((()=>i.getHeaderCtrls())),f=(0,e.useRef)(null),m=(0,e.useCallback)((e=>{if(f.current=e,!e)return;const t={setHeight:e=>l(e),setTop:e=>c(e),setHeaderCtrls:(e,t,i)=>{h.current=d.current,d.current=e;const n=jy(h.current,e,t);n!==h.current&&Uy(i,(()=>g(n)))},setWidth:e=>{f.current&&(f.current.style.width=e)}};i.setComp(t,!1)}),[]),v=(0,e.useMemo)((()=>({height:a,top:u})),[a,u]),C=(0,e.useCallback)((t=>{switch(i.getType()){case Df.COLUMN_GROUP:return e.createElement($y,{ctrl:t,key:t.getInstanceId()});case Df.FLOATING_FILTER:return e.createElement(Zy,{ctrl:t,key:t.getInstanceId()});default:return e.createElement(Xy,{ctrl:t,key:t.getInstanceId()})}}),[]);return e.createElement("div",{ref:m,className:s,role:"row",style:v,"aria-rowindex":r},p.map(C))})),tw=(0,e.memo)((t=>{const[i,n]=(0,e.useState)(!0),[o,r]=(0,e.useState)([]),{context:s}=(0,e.useContext)(Gy),a=(0,e.useRef)(null),l=(0,e.useRef)(null),u=(0,e.useRef)(null),c="left"===t.pinned,d="right"===t.pinned,h=!c&&!d,p=(0,e.useCallback)((e=>{if(a.current=e,!a.current)return s.destroyBean(u.current),void(u.current=null);const i={setDisplayed:n,setCtrls:e=>r(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{a.current&&(a.current.scrollLeft=e)},setPinnedContainerWidth:e=>{a.current&&(a.current.style.width=e,a.current.style.minWidth=e,a.current.style.maxWidth=e)}};u.current=s.createBean(new zf(t.pinned)),u.current.setComp(i,a.current)}),[]),g=i?"":"ag-hidden",f=()=>o.map((t=>e.createElement(ew,{ctrl:t,key:t.getInstanceId()})));return e.createElement(e.Fragment,null,c&&e.createElement("div",{ref:p,className:"ag-pinned-left-header "+g,"aria-hidden":!i,role:"rowgroup"},f()),d&&e.createElement("div",{ref:p,className:"ag-pinned-right-header "+g,"aria-hidden":!i,role:"rowgroup"},f()),h&&e.createElement("div",{ref:p,className:"ag-header-viewport "+g,role:"presentation"},e.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},f())))})),iw=(0,e.memo)((()=>{const[t,i]=(0,e.useState)((()=>new Hy)),[n,o]=(0,e.useState)(),{context:r}=(0,e.useContext)(Gy),s=(0,e.useRef)(null),a=(0,e.useRef)(null),l=(0,e.useCallback)((e=>{if(s.current=e,!e)return r.destroyBean(a.current),void(a.current=null);const t={addOrRemoveCssClass:(e,t)=>i((i=>i.setClass(e,t))),setHeightAndMinHeight:e=>o(e)};a.current=r.createBean(new Yf),a.current.setComp(t,s.current,s.current)}),[]),u=(0,e.useMemo)((()=>"ag-header "+t.toString()),[t]),c=(0,e.useMemo)((()=>({height:n,minHeight:n})),[n]);return e.createElement("div",{ref:l,className:u,style:c,role:"presentation"},e.createElement(tw,{pinned:"left"}),e.createElement(tw,{pinned:null}),e.createElement(tw,{pinned:"right"}))})),nw=(t,i)=>{(0,e.useEffect)((()=>{const e=i.current;if(e){const i=e.parentElement;if(i){const n=document.createComment(t);return i.insertBefore(n,e),()=>{i.removeChild(n)}}}}),[t])},ow=(0,e.memo)((t=>{const[i,n]=(0,e.useState)(),{context:o,popupService:r,localeService:s,gos:a}=(0,e.useContext)(Gy);return(t=>{const i=(0,e.useRef)(t),n=(0,e.useRef)(),o=(0,e.useRef)(!1),r=(0,e.useRef)(!1),[,s]=(0,e.useState)(0);o.current&&(r.current=!0),(0,e.useEffect)((()=>(o.current||(n.current=i.current(),o.current=!0),s((e=>e+1)),()=>{r.current&&n.current&&n.current()})),[])})((()=>{const{editDetails:e,cellCtrl:i,eParentCell:l}=t,{compDetails:u}=e,c=a.get("stopEditingWhenCellsLoseFocus"),d=o.createBean(new ff(u.params)),h=d.getGui();if(t.jsChildComp){const e=t.jsChildComp.getGui();e&&h.appendChild(e)}const p={column:i.getColumn(),rowNode:i.getRowNode(),type:"popupCellEditor",eventSource:l,ePopup:h,position:e.popupPosition,keepWithinBounds:!0},g=r.positionPopupByComponent.bind(r,p),f=s.getLocaleTextFunc(),m=r.addPopup({modal:c,eChild:h,closeOnEsc:!0,closedCallback:()=>{i.onPopupEditorClosed()},anchorToElement:l,positionCallback:g,ariaLabel:f("ariaLabelCellEditor","Cell Editor")}),v=m?m.hideFunc:void 0;return n(d),t.jsChildComp&&t.jsChildComp.afterGuiAttached&&t.jsChildComp.afterGuiAttached(),()=>{null!=v&&v(),o.destroyBean(d)}})),e.createElement(e.Fragment,null,i&&t.wrappedContent&&(0,ay.createPortal)(t.wrappedContent,i.getGui()))})),rw=(t,i,n,o,r,s)=>{const{context:a}=(0,e.useContext)(Gy),l=(0,e.useCallback)((()=>{const e=r.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),a.destroyBean(e),r.current=void 0}),[]);(0,e.useEffect)((()=>{const e=null!=t,o=t&&t.compDetails&&!t.compDetails.componentFromFramework;if(!(e&&o&&!(i&&null==n)))return void l();const a=t.compDetails;if(r.current){const e=r.current,i=!!(null!=e.refresh&&0==t.force)&&e.refresh(a.params);if(!0===i||void 0===i)return;l()}const u=a.newAgStackInstance();if(!u)return;const c=u.resolveNow(null,(e=>e));if(!c)return;const d=c.getGui();if(!d)return;(i?n:s.current).appendChild(d),r.current=c}),[t,i,o]),(0,e.useEffect)((()=>l),[])},sw=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Zd((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return Cy(vy({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){xy(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){var t;this.componentInstance=e,null==(t=this.resolveInstanceCreated)||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},aw=(t,i,n)=>{const o=t.compProxy;return e.createElement(e.Fragment,null,!o&&e.createElement(i,Cy(vy({},t.compDetails.params),{ref:n})),o&&((t,i,n)=>{const{compProxy:o}=t;n(o);const r=o.getProps(),s=By(i);return e.createElement(yy.Provider,{value:{setMethods:e=>o.setMethods(e)}},s&&e.createElement(i,vy({},r)),!s&&e.createElement(i,Cy(vy({},r),{ref:e=>o.setRef(e)})))})(t,i,n))},lw=(0,e.memo)((t=>{const{context:i}=(0,e.useContext)(Gy),{cellCtrl:n,printLayout:o,editingRow:r}=t,s=n.getTabIndex(),a=n.getColumnIdSanitised(),l=n.getInstanceId(),[u,c]=(0,e.useState)((()=>n.isCellRenderer()?void 0:{compDetails:void 0,value:n.getValueToDisplay(),force:!1})),[d,h]=(0,e.useState)(),[p,g]=(0,e.useState)(1),[f,m]=(0,e.useState)(),[v,C]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!1),[b,E]=(0,e.useState)(!1),[S,x]=(0,e.useState)(),R=(0,e.useMemo)((()=>n.isForceWrapper()),[n]),T=(0,e.useMemo)((()=>n.getCellAriaRole()),[n]),D=(0,e.useRef)(null),P=(0,e.useRef)(null),A=(0,e.useRef)(),M=(0,e.useRef)(),_=(0,e.useRef)(),k=(0,e.useRef)([]),F=(0,e.useRef)(),[L,N]=(0,e.useState)(0),O=(0,e.useCallback)((e=>{F.current=e,N((e=>e+1))}),[]),I=R||null!=u&&(v||b||y),G=(0,e.useCallback)(((e,t)=>{if(M.current=t,t){((e,t,i)=>{const n=i.getColumn();if(!e&&t.isPopup&&t.isPopup()){const e="AG Grid: Found an issue in column ".concat(n.getColId(),". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.");$d.doOnce((()=>console.warn(e)),"jsEditorComp-isPopup-"+i.getColumn().getColId())}if(e&&t.getPopupPosition&&null!=t.getPopupPosition()){const e="AG Grid: Found an issue in column ".concat(n.getColId(),". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.");$d.doOnce((()=>console.warn(e)),"jsEditorComp-getPopupPosition-"+i.getColumn().getColId())}})(e,t,n);t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout((()=>{n.stopEditing(!0),n.focusCell(!0)}))}}),[n]),V=(0,e.useCallback)((e=>G(!0,e)),[G]),H=(0,e.useCallback)((e=>G(!1,e)),[G]);let B=(0,e.useRef)();B.current||(B.current=new eh((()=>D.current))),rw(u,I,F.current,L,A,D);const W=(0,e.useRef)();(0,e.useLayoutEffect)((()=>{const e=W.current,t=u;if(W.current=u,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const i=e.compDetails,n=t.compDetails;if(i.componentClass!=n.componentClass)return;if(null==P.current||null==P.current.refresh)return;1!=P.current.refresh(n.params)&&g((e=>e+1))}),[u]),(0,e.useLayoutEffect)((()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const e=d.compDetails,t=!0===d.popup,n=(e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,(e=>e))})(e);if(!n)return;const o=n.getGui();if(G(t,n),!t){const e=(R?_:D).current;null==e||e.appendChild(o),n.afterGuiAttached&&n.afterGuiAttached()}return x(n),()=>{i.destroyBean(n),G(t,void 0),x(void 0),o&&o.parentElement&&o.parentElement.removeChild(o)}}),[d]);const z=(0,e.useCallback)((e=>{if(_.current=e,!_.current)return k.current.forEach((e=>e())),void(k.current=[]);const t=e=>{var t;if(e){const n=e.getGui();null==(t=_.current)||t.insertAdjacentElement("afterbegin",n),k.current.push((()=>{i.destroyBean(e),$d.removeFromParent(n)}))}return e};if(v){t(n.createSelectionCheckbox())}b&&t(n.createDndSource()),y&&t(n.createRowDragComp())}),[n,i,b,y,v]),U=(0,e.useCallback)((e=>{if(D.current=e,!D.current)return;if(!n)return;const t={addOrRemoveCssClass:(e,t)=>B.current.addOrRemoveCssClass(e,t),setUserStyles:e=>m(e),getFocusableElement:()=>D.current,setIncludeSelection:e=>C(e),setIncludeRowDrag:e=>w(e),setIncludeDndSource:e=>E(e),getCellEditor:()=>M.current||null,getCellRenderer:()=>P.current?P.current:A.current,getParentOfValue:()=>F.current?F.current:_.current?_.current:D.current,setRenderDetails:(e,t,i)=>{c((n=>(null==n?void 0:n.compDetails)!==e||(null==n?void 0:n.value)!==t||(null==n?void 0:n.force)!==i?{value:t,compDetails:e,force:i}:n))},setEditDetails:(e,t,i,n)=>{if(e){let o;n?o=new sw(e.params,(()=>g((e=>e+1)))):e.componentFromFramework&&Jy(),h({compDetails:e,popup:t,popupPosition:i,compProxy:o}),t||c(void 0)}else h((e=>{(null==e?void 0:e.compProxy)&&(M.current=void 0)}))}},i=_.current||void 0;n.setComp(t,D.current,i,o,r)}),[]),j=(0,e.useMemo)((()=>!!(u&&u.compDetails&&u.compDetails.componentFromFramework&&By(u.compDetails.componentClass))),[u]);(0,e.useLayoutEffect)((()=>{var e;D.current&&(B.current.addOrRemoveCssClass("ag-cell-value",!I),B.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),B.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),B.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),null==(e=n.getRowCtrl())||e.setInlineEditingCss(!!d),n.shouldRestoreFocus()&&!n.isEditing()&&D.current.focus({preventScroll:!0}))}));const K=()=>e.createElement(e.Fragment,null,null!=u&&((t,i,n,o,r,s,a)=>{const{compDetails:l,value:u}=t,c=!l,d=l&&l.componentFromFramework,h=l&&l.componentClass,p=(null==u?void 0:u.toString)?u.toString():u,g=()=>e.createElement(e.Fragment,null,c&&e.createElement(e.Fragment,null,p),d&&!s&&e.createElement(h,Cy(vy({},l.params),{key:i,ref:o})),d&&s&&e.createElement(h,Cy(vy({},l.params),{key:i})));return e.createElement(e.Fragment,null,r?e.createElement("span",{role:"presentation",id:"cell-".concat(n),className:"ag-cell-value",ref:a},g()):g())})(u,p,l,P,I,j,O),null!=d&&((t,i,n,o,r,s)=>{const a=t.compDetails,l=a.componentClass,u=a.componentFromFramework&&!t.popup,c=a.componentFromFramework&&t.popup,d=!a.componentFromFramework&&t.popup;return e.createElement(e.Fragment,null,u&&aw(t,l,i),c&&e.createElement(ow,{editDetails:t,cellCtrl:r,eParentCell:o,wrappedContent:aw(t,l,n)}),d&&s&&e.createElement(ow,{editDetails:t,cellCtrl:r,eParentCell:o,jsChildComp:s}))})(d,H,V,D.current,n,S));return e.createElement("div",{ref:U,style:f,tabIndex:s,role:T,"col-id":a},I?e.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:z},K()):K())})),uw=(0,e.memo)((t=>{const{context:i,gos:n}=(0,e.useContext)(Gy),{rowCtrl:o,containerType:r}=t,s=o.getTabIndex(),a=(0,e.useRef)(o.getDomOrder()),l=o.isFullWidth(),u=o.getRowNode().displayed,[c,d]=(0,e.useState)((()=>u?o.getRowIndex():null)),[h,p]=(0,e.useState)((()=>o.getRowId())),[g,f]=(0,e.useState)((()=>o.getBusinessKey())),[m,v]=(0,e.useState)((()=>o.getRowStyles())),C=(0,e.useRef)(null),y=(0,e.useRef)(null),[w,b]=(0,e.useState)((()=>null)),[E,S]=(0,e.useState)(),[x,R]=(0,e.useState)((()=>u?o.getInitialRowTop(r):void 0)),[T,D]=(0,e.useState)((()=>u?o.getInitialTransform(r):void 0)),P=(0,e.useRef)(null),A=(0,e.useRef)(),M=(0,e.useRef)(!1),[_,k]=(0,e.useState)(0);(0,e.useEffect)((()=>{var e;if(M.current)return;if(!E)return;if(_>10)return;const t=null==(e=P.current)?void 0:e.firstChild;t?(o.setupDetailRowAutoHeight(t),M.current=!0):k((e=>e+1))}),[E,_]);let F=(0,e.useRef)();F.current||(F.current=new eh((()=>P.current)));const L=(0,e.useCallback)((e=>{if(P.current=e,!P.current)return void o.unsetComp(r);if(!o.isAlive())return;const t={setTop:R,setTransform:D,addOrRemoveCssClass:(e,t)=>F.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:d,setRowId:p,setRowBusinessKey:f,setUserStyles:v,setCellCtrls:(e,t)=>{y.current=C.current,C.current=e;const i=jy(y.current,e,a.current);i!==y.current&&Uy(t,(()=>b(i)))},showFullWidth:e=>S(e),getFullWidthCellRenderer:()=>A.current,refreshFullWidth:e=>V.current?(S((t=>Cy(vy({},t),{params:e()}))),!0):!(!A.current||!A.current.refresh)&&A.current.refresh(e())};o.setComp(t,P.current,r)}),[]);(0,e.useLayoutEffect)((()=>Ky(E,i,P.current,A)),[E]);const N=(0,e.useMemo)((()=>{const e={top:x,transform:T};return Object.assign(e,m),e}),[x,T,m]),O=l&&E&&E.componentFromFramework,I=!l&&null!=w,G=(0,e.useMemo)((()=>!!((null==E?void 0:E.componentFromFramework)&&By(E.componentClass))),[E]),V=(0,e.useRef)(!1);(0,e.useEffect)((()=>{V.current=G&&!!E&&!!n.get("reactiveCustomComponents")}),[G,E]);return e.createElement("div",{ref:L,role:"row",style:N,"row-index":c,"row-id":h,"row-business-key":g,tabIndex:s},I&&(null==w?void 0:w.map((t=>e.createElement(lw,{cellCtrl:t,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:t.getInstanceId()})))),O&&(()=>{const t=E.componentClass;return e.createElement(e.Fragment,null,G&&e.createElement(t,vy({},E.params)),!G&&e.createElement(t,Cy(vy({},E.params),{ref:A})))})())})),cw=(0,e.memo)((t=>{const{context:i}=(0,e.useContext)(Gy),{name:n}=t,o=(0,e.useMemo)((()=>of(n)),[n]),r=(0,e.useRef)(null),s=(0,e.useRef)(null),a=(0,e.useRef)([]),l=(0,e.useRef)([]),[u,c]=(0,e.useState)((()=>[])),d=(0,e.useRef)(!1),h=(0,e.useRef)(),p=(0,e.useMemo)((()=>lf.getRowContainerCssClasses(n)),[n]),g=(0,e.useMemo)((()=>Vy(p.viewport)),[p]),f=(0,e.useMemo)((()=>Vy(p.container)),[p]),m=n===nf.CENTER||n===nf.TOP_CENTER||n===nf.BOTTOM_CENTER||n===nf.STICKY_TOP_CENTER||n===nf.STICKY_BOTTOM_CENTER;nw(" AG Row Container "+n+" ",m?r:s);const v=(0,e.useCallback)((()=>m?null!=r.current&&null!=s.current:null!=s.current),[]),C=(0,e.useCallback)((()=>m?null==r.current&&null==s.current:null==s.current),[]),y=(0,e.useCallback)((()=>{if(C()&&(i.destroyBean(h.current),h.current=null),v()){const e=e=>{const t=jy(l.current,a.current,d.current);t!==l.current&&(l.current=t,Uy(e,(()=>c(t))))},t={setViewportHeight:e=>{r.current&&(r.current.style.height=e)},setRowCtrls:t=>{let{rowCtrls:i,useFlushSync:n}=t;const o=!!n&&a.current.length>0&&i.length>0;a.current=i,e(o)},setDomOrder:t=>{d.current!=t&&(d.current=t,e(!1))},setContainerWidth:e=>{s.current&&(s.current.style.width=e)}};h.current=i.createBean(new lf(n)),h.current.setComp(t,s.current,r.current)}}),[v,C]),w=(0,e.useCallback)((e=>{s.current=e,y()}),[y]),b=(0,e.useCallback)((e=>{r.current=e,y()}),[y]),E=()=>e.createElement("div",{className:f,ref:w,role:"rowgroup"},u.map((t=>e.createElement(uw,{rowCtrl:t,containerType:o,key:t.getInstanceId()}))));return e.createElement(e.Fragment,null,m?e.createElement("div",{className:g,ref:b,role:"presentation"},E()):E())})),dw=(0,e.memo)((()=>{const{context:t,agStackComponentsRegistry:i,resizeObserverService:n}=(0,e.useContext)(Gy),[o,r]=(0,e.useState)(""),[s,a]=(0,e.useState)(0),[l,u]=(0,e.useState)(0),[c,d]=(0,e.useState)("0px"),[h,p]=(0,e.useState)("0px"),[g,f]=(0,e.useState)("100%"),[m,v]=(0,e.useState)("0px"),[C,y]=(0,e.useState)("0px"),[w,b]=(0,e.useState)("100%"),[E,S]=(0,e.useState)(""),[x,R]=(0,e.useState)(""),[T,D]=(0,e.useState)(null),[P,A]=(0,e.useState)(""),[M,_]=(0,e.useState)(null),[k,F]=(0,e.useState)("ag-layout-normal");let L=(0,e.useRef)();L.current||(L.current=new eh((()=>N.current)));const N=(0,e.useRef)(null),O=(0,e.useRef)(null),I=(0,e.useRef)(null),G=(0,e.useRef)(null),V=(0,e.useRef)(null),H=(0,e.useRef)(null),B=(0,e.useRef)(null),W=(0,e.useRef)([]),z=(0,e.useRef)([]);nw(" AG Grid Body ",N),nw(" AG Pinned Top ",O),nw(" AG Sticky Top ",I),nw(" AG Middle ",H),nw(" AG Pinned Bottom ",B);const U=(0,e.useCallback)((e=>{if(N.current=e,!N.current)return t.destroyBeans(W.current),z.current.forEach((e=>e())),W.current=[],void(z.current=[]);if(!t)return;const o=e=>{const n=i.getComponentClass(e),o=t.createBean(new n);return W.current.push(o),o},s=(e,t)=>{e.appendChild(t),z.current.push((()=>e.removeChild(t)))};s(N.current,document.createComment(" AG Fake Horizontal Scroll ")),s(N.current,o("AG-FAKE-HORIZONTAL-SCROLL").getGui()),s(N.current,document.createComment(" AG Overlay Wrapper ")),s(N.current,o("AG-OVERLAY-WRAPPER").getGui()),V.current&&(s(V.current,document.createComment(" AG Fake Vertical Scroll ")),s(V.current,o("AG-FAKE-VERTICAL-SCROLL").getGui()));const l={setRowAnimationCssOnBodyViewport:r,setColumnCount:e=>{N.current&&$d.setAriaColCount(N.current,e)},setRowCount:e=>{N.current&&$d.setAriaRowCount(N.current,e)},setTopHeight:a,setBottomHeight:u,setStickyTopHeight:d,setStickyTopTop:p,setStickyTopWidth:f,setTopDisplay:S,setBottomDisplay:R,setColumnMovingCss:(e,t)=>L.current.addOrRemoveCssClass(e,t),updateLayoutClasses:F,setAlwaysVerticalScrollClass:D,setPinnedTopBottomOverflowY:A,setCellSelectableCss:(e,t)=>_(t?e:null),setBodyViewportWidth:e=>{H.current&&(H.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(H.current){const t=n.observeResize(H.current,e);z.current.push((()=>t()))}},setStickyBottomHeight:v,setStickyBottomBottom:y,setStickyBottomWidth:b},c=t.createBean(new Fg);W.current.push(c),c.setComp(l,N.current,H.current,O.current,B.current,I.current,G.current)}),[]),j=(0,e.useMemo)((()=>Vy("ag-root","ag-unselectable",k)),[k]),K=(0,e.useMemo)((()=>Vy("ag-body-viewport",o,k,T,M)),[o,k,T,M]),Y=(0,e.useMemo)((()=>Vy("ag-body",k)),[k]),q=(0,e.useMemo)((()=>Vy("ag-floating-top",M)),[M]),Q=(0,e.useMemo)((()=>Vy("ag-sticky-top",M)),[M]),X=(0,e.useMemo)((()=>Vy("ag-sticky-bottom",M)),[M]),$=(0,e.useMemo)((()=>Vy("ag-floating-bottom",M)),[M]),J=(0,e.useMemo)((()=>({height:s,minHeight:s,display:E,overflowY:P})),[s,E,P]),Z=(0,e.useMemo)((()=>({height:c,top:h,width:g})),[c,h,g]),ee=(0,e.useMemo)((()=>({height:m,bottom:C,width:w})),[m,C,w]),te=(0,e.useMemo)((()=>({height:l,minHeight:l,display:x,overflowY:P})),[l,x,P]),ie=t=>e.createElement(cw,{name:t,key:"".concat(t,"-container")}),ne=t=>{let{section:i,children:n,className:o,style:r}=t;return e.createElement("div",{ref:i,className:o,role:"presentation",style:r},n.map(ie))};return e.createElement("div",{ref:U,className:j,role:"treegrid"},e.createElement(iw,null),ne({section:O,className:q,style:J,children:[nf.TOP_LEFT,nf.TOP_CENTER,nf.TOP_RIGHT,nf.TOP_FULL_WIDTH]}),e.createElement("div",{className:Y,ref:V,role:"presentation"},ne({section:H,className:K,children:[nf.LEFT,nf.CENTER,nf.RIGHT,nf.FULL_WIDTH]})),ne({section:I,className:Q,style:Z,children:[nf.STICKY_TOP_LEFT,nf.STICKY_TOP_CENTER,nf.STICKY_TOP_RIGHT,nf.STICKY_TOP_FULL_WIDTH]}),ne({section:G,className:X,style:ee,children:[nf.STICKY_BOTTOM_LEFT,nf.STICKY_BOTTOM_CENTER,nf.STICKY_BOTTOM_RIGHT,nf.STICKY_BOTTOM_FULL_WIDTH]}),ne({section:B,className:$,style:te,children:[nf.BOTTOM_LEFT,nf.BOTTOM_CENTER,nf.BOTTOM_RIGHT,nf.BOTTOM_FULL_WIDTH]}))})),hw=(0,e.forwardRef)(((t,i)=>{const{children:n,eFocusableElement:o,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a}=t,{context:l}=(0,e.useContext)(Gy),u=(0,e.useRef)(null),c=(0,e.useRef)(null),d=(0,e.useRef)(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[u,c].forEach((e=>{var i,n;void 0===t?null==(i=e.current)||i.removeAttribute("tabindex"):null==(n=e.current)||n.setAttribute("tabindex",t)}))};(0,e.useImperativeHandle)(i,(()=>({forceFocusOutOfContainer(e){var t;null==(t=d.current)||t.forceFocusOutOfContainer(e)}})));const p=(0,e.useCallback)((()=>{if(!u.current&&!c.current)return l.destroyBean(d.current),void(d.current=null);if(u.current&&c.current){const e={setTabIndex:h};d.current=l.createBean(new Zf({comp:e,eTopGuard:u.current,eBottomGuard:c.current,eFocusableElement:o,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:e=>s.focusInnerElement(e)}))}}),[]),g=(0,e.useCallback)((e=>{u.current=e,p()}),[p]),f=(0,e.useCallback)((e=>{c.current=e,p()}),[p]),m=t=>{const i="top"===t?Jf.TAB_GUARD_TOP:Jf.TAB_GUARD_BOTTOM;return e.createElement("div",{className:"".concat(Jf.TAB_GUARD," ").concat(i),role:"presentation",ref:"top"===t?g:f})};return e.createElement(e.Fragment,null,m("top"),n,m("bottom"))})),pw=(0,e.memo)(hw),gw=(0,e.memo)((t=>{let{context:i}=t;const[n,o]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[u,c]=(0,e.useState)(null),[d,h]=(0,e.useState)(null),[p,g]=(0,e.useState)(!1),[f,m]=(0,e.useState)(),v=(0,e.useRef)(null),C=(0,e.useRef)(null),y=(0,e.useRef)(),[w,b]=(0,e.useState)(null),E=(0,e.useRef)((()=>{})),S=(0,e.useCallback)((()=>{}),[]),x=(0,e.useMemo)((()=>i.isDestroyed()?null:i.getBean("beans")),[i]);nw(" AG Grid ",C);const R=(0,e.useCallback)((e=>{if(C.current=e,!C.current)return i.destroyBean(v.current),void(v.current=null);if(i.isDestroyed())return;v.current=i.createBean(new ov);const t=v.current;E.current=t.focusInnerElement.bind(t);const n={destroyGridUi:()=>{},setRtlClass:o,forceFocusOutOfContainer:e=>{var t;null==(t=y.current)||t.forceFocusOutOfContainer(e)},updateLayoutClasses:l,getFocusableContainers:()=>{var e,t;const i=[],n=null==(e=C.current)?void 0:e.querySelector(".ag-root"),o=null==(t=C.current)?void 0:t.querySelector(".ag-side-bar:not(.ag-hidden)");return n&&i.push(n),o&&i.push(o),i},setCursor:c,setUserSelect:h};t.setComp(n,C.current,C.current),g(!0)}),[]);(0,e.useEffect)((()=>{if(!f||!x||!v.current||!w||!C.current)return;const e=v.current,t=[],{agStackComponentsRegistry:n}=x,o=n.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),r=n.getComponentClass("AG-SIDE-BAR"),s=n.getComponentClass("AG-STATUS-BAR"),a=n.getComponentClass("AG-WATERMARK"),l=n.getComponentClass("AG-PAGINATION"),u=[],c=C.current;if(e.showDropZones()&&o){const e=i.createBean(new o),n=e.getGui();c.insertAdjacentElement("afterbegin",n),u.push(n),t.push(e)}if(e.showSideBar()&&r){const e=i.createBean(new r),n=e.getGui(),o=w.querySelector(".ag-tab-guard-bottom");o&&(o.insertAdjacentElement("beforebegin",n),u.push(n)),t.push(e)}if(e.showStatusBar()&&s){const e=i.createBean(new s),n=e.getGui();c.insertAdjacentElement("beforeend",n),u.push(n),t.push(e)}if(l){const e=i.createBean(new l),n=e.getGui();c.insertAdjacentElement("beforeend",n),u.push(n),t.push(e)}if(e.showWatermark()&&a){const e=i.createBean(new a),n=e.getGui();c.insertAdjacentElement("beforeend",n),u.push(n),t.push(e)}return()=>{i.destroyBeans(t),u.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)}))}}),[f,w,x]);const T=(0,e.useMemo)((()=>Vy("ag-root-wrapper",n,r,a)),[n,r,a]),D=(0,e.useMemo)((()=>Vy("ag-root-wrapper-body","ag-focus-managed",a)),[a]),P=(0,e.useMemo)((()=>({userSelect:null!=d?d:"",WebkitUserSelect:null!=d?d:"",cursor:null!=u?u:""})),[d,u]),A=(0,e.useCallback)((e=>{y.current=e,m(null!==e)}),[]);return e.createElement("div",{ref:R,className:T,style:P,role:"presentation"},e.createElement("div",{className:D,ref:b,role:"presentation"},p&&w&&x&&e.createElement(Gy.Provider,{value:x},e.createElement(pw,{ref:A,eFocusableElement:w,onTabKeyDown:S,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},e.createElement(dw,null)))))})),fw=t=>{var i,n;const o=(0,e.useRef)(),r=(0,e.useRef)(null),s=(0,e.useRef)(null),a=(0,e.useRef)([]),l=(0,e.useRef)([]),u=(0,e.useRef)(t),c=(0,e.useRef)(!1),[d,h]=(0,e.useState)(void 0),[,p]=(0,e.useState)(0),g=(0,e.useCallback)((e=>{if(r.current=e,!r.current)return a.current.forEach((e=>e())),void(a.current.length=0);const i=t.modules||[];s.current||(s.current=new Iy((()=>p((e=>e+1))),t.componentWrappingElement,t.maxComponentCreationTimeMs),a.current.push((()=>{var e;null==(e=s.current)||e.destroy(),s.current=null})));const n=vu.combineAttributesAndGridOptions(t.gridOptions,t),u={providedBeanInstances:{frameworkComponentWrapper:new mw(s.current,!!n.reactiveCustomComponents)},modules:i,frameworkOverrides:new Cw},d=new uC;o.current=d.create(r.current,n,(e=>{h(e),a.current.push((()=>{e.destroy()}));e.getBean(Lv.NAME).whenReady((()=>{if(e.isDestroyed())return;const i=o.current;i&&t.setGridApi&&t.setGridApi(i,new Zm(i))}))}),(e=>{e.getBean(Lv.NAME).whenReady((()=>{l.current.forEach((e=>e())),l.current.length=0,c.current=!0}))}),u)}),[]),f=(0,e.useMemo)((()=>vy({height:"100%"},t.containerStyle||{})),[t.containerStyle]),m=(0,e.useCallback)((e=>{c.current?e():l.current.push(e)}),[]);return(0,e.useEffect)((()=>{const e=function(e,t){const i={};return Object.keys(t).forEach((n=>{const o=t[n];e[n]!==o&&(i[n]=o)})),i}(u.current,t);u.current=t,m((()=>{o.current&&vu.processOnChange(e,o.current)}))}),[t]),e.createElement("div",{style:f,className:t.className,ref:g},d&&!d.isDestroyed()?e.createElement(gw,{context:d}):null,null!=(n=null==(i=s.current)?void 0:i.getPortals())?n:null)};var mw=class extends cC{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(e=>{switch(e){case"filter":return Dy;case"floatingFilterComponent":return My;case"dateComponent":return Ty;case"loadingOverlayComponent":return _y;case"noRowsOverlayComponent":return Fy;case"statusPanel":return Ly;case"toolPanel":return Ny;case"menuItem":return ky}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":Jy()}const i=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new Sy(e,this.parent,t,i)}},vw=(0,e.forwardRef)(((t,i)=>{const{ctrlsFactory:n,context:o,gos:r,resizeObserverService:s,clientSideRowModel:a,serverSideRowModel:l}=(0,e.useContext)(Gy),[u,c]=(0,e.useState)((()=>new Hy)),[d,h]=(0,e.useState)((()=>new Hy)),[p,g]=(0,e.useState)(),[f,m]=(0,e.useState)(),v=(0,e.useRef)(),C=(0,e.useRef)(null),y=(0,e.useRef)(),w=(0,e.useMemo)((()=>Wa.__getGridRegisteredModules(t.api.getGridId())),[t]),b=(0,e.useMemo)((()=>u.toString()+" ag-details-row"),[u]),E=(0,e.useMemo)((()=>d.toString()+" ag-details-grid"),[d]);i&&(0,e.useImperativeHandle)(i,(()=>({refresh(){var e,t;return null!=(t=null==(e=v.current)?void 0:e.refresh())&&t}}))),t.template&&$d.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const S=(0,e.useCallback)((e=>{if(C.current=e,!C.current)return o.destroyBean(v.current),void(y.current&&y.current());const i={addOrRemoveCssClass:(e,t)=>c((i=>i.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>h((i=>i.setClass(e,t))),setDetailGrid:e=>g(e),setRowData:e=>m(e),getGui:()=>C.current},u=n.getInstance("detailCellRenderer");if(u&&(o.createBean(u),u.init(i,t),v.current=u,r.get("detailRowAutoHeight"))){const e=()=>{if(null==C.current)return;const e=C.current.clientHeight;if(null!=e&&e>0){setTimeout((()=>{t.node.setRowHeight(e),a?a.onRowHeightChanged():l&&l.onRowHeightChanged()}),0)}};y.current=s.observeResize(C.current,e),e()}}),[]),x=(0,e.useCallback)(((e,t)=>{var i;null==(i=v.current)||i.registerDetailWithMaster(e,t)}),[]);return e.createElement("div",{className:b,ref:S},p&&e.createElement(fw,Cy(vy({className:E},p),{modules:w,rowData:f,setGridApi:x})))})),Cw=class extends Qm{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Qy,agGroupRowRenderer:Qy,agDetailCellRenderer:vw},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(i=e,zy||setTimeout((()=>zy=!1),0),zy=!0,i()):e();var i},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}},yw=class extends e.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return e.createElement(fw,Cy(vy({},this.props),{setGridApi:this.setGridApi}))}};var ww=i(9904),bw=i.n(ww);function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ew.apply(null,arguments)}function Sw(e,t){return t||(t=e.slice(0)),e.raw=t,e}function xw(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}var Rw=i(5173),Tw=i.n(Rw);function Dw(e){return e&&e.ownerDocument||document}function Pw(e){return e===(null===e||void 0===e?void 0:e.window)?e:9===(null===e||void 0===e?void 0:e.nodeType)?(null===e||void 0===e?void 0:e.defaultView)||(null===e||void 0===e?void 0:e.parentWindow):null}const Aw=!("undefined"===typeof window||!window.document||!window.document.createElement);var Mw=function(e,t){if(!t)return!1;do{if(t===e)return!0}while(t.parentNode&&(t=t.parentNode));return!1};const _w=Aw?function(e,t){return!!t&&(e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):Mw(e,t))}:Mw;function kw(e){var t=Dw(e),i=Pw(t),n=t&&t.documentElement,o={top:0,left:0,height:0,width:0};return t?_w(n,e)?(void 0!==(null===e||void 0===e?void 0:e.getBoundingClientRect)&&(o=e.getBoundingClientRect()),(o.width||o.height)&&n&&i&&(o={top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:(null===o.width?e.offsetWidth:o.width)||0,height:(null===o.height?e.offsetHeight:o.height)||0}),o):o:null}function Fw(e,t,i,n){return void 0===n&&(n=!1),e.addEventListener(t,i,n),{off:function(){e.removeEventListener(t,i,n)}}}function Lw(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Nw(e){Lw(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ow(e){if(Lw(1,arguments),!function(e){return Lw(1,arguments),e instanceof Date||"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Nw(e);return!isNaN(Number(t))}function Iw(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Gw(e,t){return Lw(2,arguments),function(e,t){Lw(2,arguments);var i=Nw(e).getTime(),n=Iw(t);return new Date(i+n)}(e,-Iw(t))}function Vw(e){Lw(1,arguments);var t=Nw(e),i=t.getUTCDay(),n=(i<1?7:0)+i-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function Hw(e){Lw(1,arguments);var t=Nw(e),i=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(i+1,0,4),n.setUTCHours(0,0,0,0);var o=Vw(n),r=new Date(0);r.setUTCFullYear(i,0,4),r.setUTCHours(0,0,0,0);var s=Vw(r);return t.getTime()>=o.getTime()?i+1:t.getTime()>=s.getTime()?i:i-1}var Bw=6048e5;function Ww(e){Lw(1,arguments);var t=Nw(e),i=Vw(t).getTime()-function(e){Lw(1,arguments);var t=Hw(e),i=new Date(0);return i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0),Vw(i)}(t).getTime();return Math.round(i/Bw)+1}var zw={};function Uw(){return zw}function jw(e,t){var i,n,o,r,s,a,l,u;Lw(1,arguments);var c=Uw(),d=Iw(null!==(i=null!==(n=null!==(o=null!==(r=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==r?r:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==n?n:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==i?i:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Nw(e),p=h.getUTCDay(),g=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function Kw(e,t){var i,n,o,r,s,a,l,u;Lw(1,arguments);var c=Nw(e),d=c.getUTCFullYear(),h=Uw(),p=Iw(null!==(i=null!==(n=null!==(o=null!==(r=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==n?n:null===(l=h.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var f=jw(g,t),m=new Date(0);m.setUTCFullYear(d,0,p),m.setUTCHours(0,0,0,0);var v=jw(m,t);return c.getTime()>=f.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}var Yw=6048e5;function qw(e,t){Lw(1,arguments);var i=Nw(e),n=jw(i,t).getTime()-function(e,t){var i,n,o,r,s,a,l,u;Lw(1,arguments);var c=Uw(),d=Iw(null!==(i=null!==(n=null!==(o=null!==(r=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:c.firstWeekContainsDate)&&void 0!==n?n:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1),h=Kw(e,t),p=new Date(0);return p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0),jw(p,t)}(i,t).getTime();return Math.round(n/Yw)+1}function Qw(e,t){for(var i=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return i+n}const Xw={y:function(e,t){var i=e.getUTCFullYear(),n=i>0?i:1-i;return Qw("yy"===t?n%100:n,t.length)},M:function(e,t){var i=e.getUTCMonth();return"M"===t?String(i+1):Qw(i+1,2)},d:function(e,t){return Qw(e.getUTCDate(),t.length)},a:function(e,t){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return"am"===i?"a.m.":"p.m."}},h:function(e,t){return Qw(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Qw(e.getUTCHours(),t.length)},m:function(e,t){return Qw(e.getUTCMinutes(),t.length)},s:function(e,t){return Qw(e.getUTCSeconds(),t.length)},S:function(e,t){var i=t.length,n=e.getUTCMilliseconds();return Qw(Math.floor(n*Math.pow(10,i-3)),t.length)}};var $w="midnight",Jw="noon",Zw="morning",eb="afternoon",tb="evening",ib="night",nb={G:function(e,t,i){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});default:return i.era(n,{width:"wide"})}},y:function(e,t,i){if("yo"===t){var n=e.getUTCFullYear(),o=n>0?n:1-n;return i.ordinalNumber(o,{unit:"year"})}return Xw.y(e,t)},Y:function(e,t,i,n){var o=Kw(e,n),r=o>0?o:1-o;return"YY"===t?Qw(r%100,2):"Yo"===t?i.ordinalNumber(r,{unit:"year"}):Qw(r,t.length)},R:function(e,t){return Qw(Hw(e),t.length)},u:function(e,t){return Qw(e.getUTCFullYear(),t.length)},Q:function(e,t,i){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qw(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,i){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qw(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,i){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Xw.M(e,t);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,i){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return Qw(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,i,n){var o=qw(e,n);return"wo"===t?i.ordinalNumber(o,{unit:"week"}):Qw(o,t.length)},I:function(e,t,i){var n=Ww(e);return"Io"===t?i.ordinalNumber(n,{unit:"week"}):Qw(n,t.length)},d:function(e,t,i){return"do"===t?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xw.d(e,t)},D:function(e,t,i){var n=function(e){Lw(1,arguments);var t=Nw(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=i-t.getTime();return Math.floor(n/864e5)+1}(e);return"Do"===t?i.ordinalNumber(n,{unit:"dayOfYear"}):Qw(n,t.length)},E:function(e,t,i){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,i,n){var o=e.getUTCDay(),r=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Qw(r,2);case"eo":return i.ordinalNumber(r,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,i,n){var o=e.getUTCDay(),r=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Qw(r,t.length);case"co":return i.ordinalNumber(r,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,i){var n=e.getUTCDay(),o=0===n?7:n;switch(t){case"i":return String(o);case"ii":return Qw(o,t.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,i){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,i){var n,o=e.getUTCHours();switch(n=12===o?Jw:0===o?$w:o/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,i){var n,o=e.getUTCHours();switch(n=o>=17?tb:o>=12?eb:o>=4?Zw:ib,t){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,i){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return Xw.h(e,t)},H:function(e,t,i){return"Ho"===t?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xw.H(e,t)},K:function(e,t,i){var n=e.getUTCHours()%12;return"Ko"===t?i.ordinalNumber(n,{unit:"hour"}):Qw(n,t.length)},k:function(e,t,i){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?i.ordinalNumber(n,{unit:"hour"}):Qw(n,t.length)},m:function(e,t,i){return"mo"===t?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xw.m(e,t)},s:function(e,t,i){return"so"===t?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xw.s(e,t)},S:function(e,t){return Xw.S(e,t)},X:function(e,t,i,n){var o=(n._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return rb(o);case"XXXX":case"XX":return sb(o);default:return sb(o,":")}},x:function(e,t,i,n){var o=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return rb(o);case"xxxx":case"xx":return sb(o);default:return sb(o,":")}},O:function(e,t,i,n){var o=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ob(o,":");default:return"GMT"+sb(o,":")}},z:function(e,t,i,n){var o=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ob(o,":");default:return"GMT"+sb(o,":")}},t:function(e,t,i,n){var o=n._originalDate||e;return Qw(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,i,n){return Qw((n._originalDate||e).getTime(),t.length)}};function ob(e,t){var i=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),r=n%60;if(0===r)return i+String(o);var s=t||"";return i+String(o)+s+Qw(r,2)}function rb(e,t){return e%60===0?(e>0?"-":"+")+Qw(Math.abs(e)/60,2):sb(e,t)}function sb(e,t){var i=t||"",n=e>0?"-":"+",o=Math.abs(e);return n+Qw(Math.floor(o/60),2)+i+Qw(o%60,2)}const ab=nb;var lb=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ub=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},cb={p:ub,P:function(e,t){var i,n=e.match(/(P+)(p+)?/)||[],o=n[1],r=n[2];if(!r)return lb(e,t);switch(o){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",lb(o,t)).replace("{{time}}",ub(r,t))}};const db=cb;function hb(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var pb=["D","DD"],gb=["YY","YYYY"];function fb(e){return-1!==pb.indexOf(e)}function mb(e){return-1!==gb.indexOf(e)}function vb(e,t,i){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Cb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const yb=function(e,t,i){var n,o=Cb[e];return n="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==i&&void 0!==i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+n:n+" ago":n};function wb(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.width?String(t.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}const bb={date:wb({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:wb({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:wb({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Eb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Sb=function(e,t,i,n){return Eb[e]};function xb(e){return function(t,i){var n;if("formatting"===(null!==i&&void 0!==i&&i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,r=null!==i&&void 0!==i&&i.width?String(i.width):o;n=e.formattingValues[r]||e.formattingValues[o]}else{var s=e.defaultWidth,a=null!==i&&void 0!==i&&i.width?String(i.width):e.defaultWidth;n=e.values[a]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const Rb={ordinalNumber:function(e,t){var i=Number(e),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:xb({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xb({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xb({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xb({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xb({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Tb(e){return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],r=t.match(o);if(!r)return null;var s,a=r[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i;return}(l,(function(e){return e.test(a)})):function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(u):u,{value:s=i.valueCallback?i.valueCallback(s):s,rest:t.slice(a.length)}}}var Db,Pb={ordinalNumber:(Db={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.match(Db.matchPattern);if(!i)return null;var n=i[0],o=e.match(Db.parsePattern);if(!o)return null;var r=Db.valueCallback?Db.valueCallback(o[0]):o[0];return{value:r=t.valueCallback?t.valueCallback(r):r,rest:e.slice(n.length)}}),era:Tb({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Tb({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Tb({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Tb({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Tb({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Ab=Pb;const Mb={code:"en-US",formatDistance:yb,formatLong:bb,formatRelative:Sb,localize:Rb,match:Ab,options:{weekStartsOn:0,firstWeekContainsDate:1}};var _b=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fb=/^'([^]*?)'?$/,Lb=/''/g,Nb=/[a-zA-Z]/;function Ob(e,t,i){var n,o,r,s,a,l,u,c,d,h,p,g,f,m,v,C,y,w;Lw(2,arguments);var b=String(t),E=Uw(),S=null!==(n=null!==(o=null===i||void 0===i?void 0:i.locale)&&void 0!==o?o:E.locale)&&void 0!==n?n:Mb,x=Iw(null!==(r=null!==(s=null!==(a=null!==(l=null===i||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==l?l:null===i||void 0===i||null===(u=i.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:E.firstWeekContainsDate)&&void 0!==s?s:null===(d=E.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==r?r:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Iw(null!==(p=null!==(g=null!==(f=null!==(m=null===i||void 0===i?void 0:i.weekStartsOn)&&void 0!==m?m:null===i||void 0===i||null===(v=i.locale)||void 0===v||null===(C=v.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==f?f:E.weekStartsOn)&&void 0!==g?g:null===(y=E.locale)||void 0===y||null===(w=y.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==p?p:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var T=Nw(e);if(!Ow(T))throw new RangeError("Invalid time value");var D=Gw(T,hb(T)),P={firstWeekContainsDate:x,weekStartsOn:R,locale:S,_originalDate:T};return b.match(kb).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,db[t])(e,S.formatLong):e})).join("").match(_b).map((function(n){if("''"===n)return"'";var o=n[0];if("'"===o)return function(e){var t=e.match(Fb);if(!t)return e;return t[1].replace(Lb,"'")}(n);var r=ab[o];if(r)return null!==i&&void 0!==i&&i.useAdditionalWeekYearTokens||!mb(n)||vb(n,t,String(e)),null!==i&&void 0!==i&&i.useAdditionalDayOfYearTokens||!fb(n)||vb(n,t,String(e)),r(D,n,S.localize,P);if(o.match(Nb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return n})).join("")}function Ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function Gb(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return Ib(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ib(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function Vb(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function Hb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bb(e,t){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bb(e,t)}function Wb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zb(e)}function Ub(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ub=function(){return!!e})()}function jb(e){var t=Ub();return function(){var i,n=zb(e);if(t){var o=zb(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hb(e)}(this,i)}}function Kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function qb(e,t,i){return t&&Yb(e.prototype,t),i&&Yb(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var Qb=function(){function e(){Kb(this,e),u(this,"priority",void 0),u(this,"subPriority",0)}return qb(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),Xb=function(e){Wb(i,e);var t=jb(i);function i(e,n,o,r,s){var a;return Kb(this,i),(a=t.call(this)).value=e,a.validateValue=n,a.setValue=o,a.priority=r,s&&(a.subPriority=s),a}return qb(i,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,i){return this.setValue(e,t,this.value,i)}}]),i}(Qb),$b=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",10),u(Hb(e),"subPriority",-1),e}return qb(i,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var i=new Date(0);return i.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),i.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),i}}]),i}(Qb),Jb=function(){function e(){Kb(this,e),u(this,"incompatibleTokens",void 0),u(this,"priority",void 0),u(this,"subPriority",void 0)}return qb(e,[{key:"run",value:function(e,t,i,n){var o=this.parse(e,t,i,n);return o?{setter:new Xb(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,t,i){return!0}}]),e}(),Zb=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",140),u(Hb(e),"incompatibleTokens",["R","u","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,i){return t.era=i,e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),eE=(Math.pow(10,8),/^(1[0-2]|0?\d)/),tE=/^(3[0-1]|[0-2]?\d)/,iE=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,nE=/^(5[0-3]|[0-4]?\d)/,oE=/^(2[0-3]|[0-1]?\d)/,rE=/^(2[0-4]|[0-1]?\d)/,sE=/^(1[0-1]|0?\d)/,aE=/^(1[0-2]|0?\d)/,lE=/^[0-5]?\d/,uE=/^[0-5]?\d/,cE=/^\d/,dE=/^\d{1,2}/,hE=/^\d{1,3}/,pE=/^\d{1,4}/,gE=/^-?\d+/,fE=/^-?\d/,mE=/^-?\d{1,2}/,vE=/^-?\d{1,3}/,CE=/^-?\d{1,4}/,yE=/^([+-])(\d{2})(\d{2})?|Z/,wE=/^([+-])(\d{2})(\d{2})|Z/,bE=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,EE=/^([+-])(\d{2}):(\d{2})|Z/,SE=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function xE(e,t){return e?{value:t(e.value),rest:e.rest}:e}function RE(e,t){var i=t.match(e);return i?{value:parseInt(i[0],10),rest:t.slice(i[0].length)}:null}function TE(e,t){var i=t.match(e);return i?"Z"===i[0]?{value:0,rest:t.slice(1)}:{value:("+"===i[1]?1:-1)*(36e5*(i[2]?parseInt(i[2],10):0)+6e4*(i[3]?parseInt(i[3],10):0)+1e3*(i[5]?parseInt(i[5],10):0)),rest:t.slice(i[0].length)}:null}function DE(e){return RE(gE,e)}function PE(e,t){switch(e){case 1:return RE(cE,t);case 2:return RE(dE,t);case 3:return RE(hE,t);case 4:return RE(pE,t);default:return RE(new RegExp("^\\d{1,"+e+"}"),t)}}function AE(e,t){switch(e){case 1:return RE(fE,t);case 2:return RE(mE,t);case 3:return RE(vE,t);case 4:return RE(CE,t);default:return RE(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ME(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function _E(e,t){var i,n=t>0,o=n?t:1-t;if(o<=50)i=e||100;else{var r=o+50;i=e+100*Math.floor(r/100)-(e>=r%100?100:0)}return n?i:1-i}function kE(e){return e%400===0||e%4===0&&e%100!==0}var FE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",130),u(Hb(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){var n=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return xE(PE(4,e),n);case"yo":return xE(i.ordinalNumber(e,{unit:"year"}),n);default:return xE(PE(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,i){var n=e.getUTCFullYear();if(i.isTwoDigitYear){var o=_E(i.year,n);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var r="era"in t&&1!==t.era?1-i.year:i.year;return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),LE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",130),u(Hb(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){var n=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return xE(PE(4,e),n);case"Yo":return xE(i.ordinalNumber(e,{unit:"year"}),n);default:return xE(PE(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,i,n){var o=Kw(e,n);if(i.isTwoDigitYear){var r=_E(i.year,o);return e.setUTCFullYear(r,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),jw(e,n)}var s="era"in t&&1!==t.era?1-i.year:i.year;return e.setUTCFullYear(s,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),jw(e,n)}}]),i}(Jb),NE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",130),u(Hb(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t){return AE("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,i){var n=new Date(0);return n.setUTCFullYear(i,0,4),n.setUTCHours(0,0,0,0),Vw(n)}}]),i}(Jb),OE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",130),u(Hb(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t){return AE("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,i){return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),IE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",120),u(Hb(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"Q":case"QQ":return PE(t.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,i){return e.setUTCMonth(3*(i-1),1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),GE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",120),u(Hb(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"q":case"qq":return PE(t.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,i){return e.setUTCMonth(3*(i-1),1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),VE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),u(Hb(e),"priority",110),e}return qb(i,[{key:"parse",value:function(e,t,i){var n=function(e){return e-1};switch(t){case"M":return xE(RE(eE,e),n);case"MM":return xE(PE(2,e),n);case"Mo":return xE(i.ordinalNumber(e,{unit:"month"}),n);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,i){return e.setUTCMonth(i,1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),HE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",110),u(Hb(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){var n=function(e){return e-1};switch(t){case"L":return xE(RE(eE,e),n);case"LL":return xE(PE(2,e),n);case"Lo":return xE(i.ordinalNumber(e,{unit:"month"}),n);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,i){return e.setUTCMonth(i,1),e.setUTCHours(0,0,0,0),e}}]),i}(Jb);var BE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",100),u(Hb(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"w":return RE(nE,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,i,n){return jw(function(e,t,i){Lw(2,arguments);var n=Nw(e),o=Iw(t),r=qw(n,i)-o;return n.setUTCDate(n.getUTCDate()-7*r),n}(e,i,n),n)}}]),i}(Jb);var WE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",100),u(Hb(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"I":return RE(nE,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,i){return Vw(function(e,t){Lw(2,arguments);var i=Nw(e),n=Iw(t),o=Ww(i)-n;return i.setUTCDate(i.getUTCDate()-7*o),i}(e,i))}}]),i}(Jb),zE=[31,28,31,30,31,30,31,31,30,31,30,31],UE=[31,29,31,30,31,30,31,31,30,31,30,31],jE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",90),u(Hb(e),"subPriority",1),u(Hb(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"d":return RE(tE,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){var i=kE(e.getUTCFullYear()),n=e.getUTCMonth();return i?t>=1&&t<=UE[n]:t>=1&&t<=zE[n]}},{key:"set",value:function(e,t,i){return e.setUTCDate(i),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),KE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",90),u(Hb(e),"subpriority",1),u(Hb(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"D":case"DD":return RE(iE,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return kE(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,i){return e.setUTCMonth(0,i),e.setUTCHours(0,0,0,0),e}}]),i}(Jb);function YE(e,t,i){var n,o,r,s,a,l,u,c;Lw(2,arguments);var d=Uw(),h=Iw(null!==(n=null!==(o=null!==(r=null!==(s=null===i||void 0===i?void 0:i.weekStartsOn)&&void 0!==s?s:null===i||void 0===i||null===(a=i.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:d.weekStartsOn)&&void 0!==o?o:null===(u=d.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Nw(e),g=Iw(t),f=((g%7+7)%7<h?7:0)+g-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+f),p}var qE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",90),u(Hb(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,i,n){return(e=YE(e,i,n)).setUTCHours(0,0,0,0),e}}]),i}(Jb),QE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",90),u(Hb(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i,n){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return xE(PE(t.length,e),o);case"eo":return xE(i.ordinalNumber(e,{unit:"day"}),o);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,i,n){return(e=YE(e,i,n)).setUTCHours(0,0,0,0),e}}]),i}(Jb),XE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",90),u(Hb(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i,n){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return xE(PE(t.length,e),o);case"co":return xE(i.ordinalNumber(e,{unit:"day"}),o);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,i,n){return(e=YE(e,i,n)).setUTCHours(0,0,0,0),e}}]),i}(Jb);var $E=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",90),u(Hb(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){var n=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return PE(t.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return xE(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return xE(i.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return xE(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),n);default:return xE(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),n)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,i){return e=function(e,t){Lw(2,arguments);var i=Iw(t);i%7===0&&(i-=7);var n=Nw(e),o=((i%7+7)%7<1?7:0)+i-n.getUTCDay();return n.setUTCDate(n.getUTCDate()+o),n}(e,i),e.setUTCHours(0,0,0,0),e}}]),i}(Jb),JE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",80),u(Hb(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,i){return e.setUTCHours(ME(i),0,0,0),e}}]),i}(Jb),ZE=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",80),u(Hb(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,i){return e.setUTCHours(ME(i),0,0,0),e}}]),i}(Jb),eS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",80),u(Hb(e),"incompatibleTokens",["a","b","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,i){return e.setUTCHours(ME(i),0,0,0),e}}]),i}(Jb),tS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",70),u(Hb(e),"incompatibleTokens",["H","K","k","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"h":return RE(aE,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,i){var n=e.getUTCHours()>=12;return n&&i<12?e.setUTCHours(i+12,0,0,0):n||12!==i?e.setUTCHours(i,0,0,0):e.setUTCHours(0,0,0,0),e}}]),i}(Jb),iS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",70),u(Hb(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"H":return RE(oE,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,i){return e.setUTCHours(i,0,0,0),e}}]),i}(Jb),nS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",70),u(Hb(e),"incompatibleTokens",["h","H","k","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"K":return RE(sE,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,i){return e.getUTCHours()>=12&&i<12?e.setUTCHours(i+12,0,0,0):e.setUTCHours(i,0,0,0),e}}]),i}(Jb),oS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",70),u(Hb(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"k":return RE(rE,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,i){var n=i<=24?i%24:i;return e.setUTCHours(n,0,0,0),e}}]),i}(Jb),rS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",60),u(Hb(e),"incompatibleTokens",["t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"m":return RE(lE,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,i){return e.setUTCMinutes(i,0,0),e}}]),i}(Jb),sS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",50),u(Hb(e),"incompatibleTokens",["t","T"]),e}return qb(i,[{key:"parse",value:function(e,t,i){switch(t){case"s":return RE(uE,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return PE(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,i){return e.setUTCSeconds(i,0),e}}]),i}(Jb),aS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",30),u(Hb(e),"incompatibleTokens",["t","T"]),e}return qb(i,[{key:"parse",value:function(e,t){return xE(PE(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,i){return e.setUTCMilliseconds(i),e}}]),i}(Jb),lS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",10),u(Hb(e),"incompatibleTokens",["t","T","x"]),e}return qb(i,[{key:"parse",value:function(e,t){switch(t){case"X":return TE(yE,e);case"XX":return TE(wE,e);case"XXXX":return TE(bE,e);case"XXXXX":return TE(SE,e);default:return TE(EE,e)}}},{key:"set",value:function(e,t,i){return t.timestampIsSet?e:new Date(e.getTime()-i)}}]),i}(Jb),uS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",10),u(Hb(e),"incompatibleTokens",["t","T","X"]),e}return qb(i,[{key:"parse",value:function(e,t){switch(t){case"x":return TE(yE,e);case"xx":return TE(wE,e);case"xxxx":return TE(bE,e);case"xxxxx":return TE(SE,e);default:return TE(EE,e)}}},{key:"set",value:function(e,t,i){return t.timestampIsSet?e:new Date(e.getTime()-i)}}]),i}(Jb),cS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",40),u(Hb(e),"incompatibleTokens","*"),e}return qb(i,[{key:"parse",value:function(e){return DE(e)}},{key:"set",value:function(e,t,i){return[new Date(1e3*i),{timestampIsSet:!0}]}}]),i}(Jb),dS=function(e){Wb(i,e);var t=jb(i);function i(){var e;Kb(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(Hb(e=t.call.apply(t,[this].concat(o))),"priority",20),u(Hb(e),"incompatibleTokens","*"),e}return qb(i,[{key:"parse",value:function(e){return DE(e)}},{key:"set",value:function(e,t,i){return[new Date(i),{timestampIsSet:!0}]}}]),i}(Jb),hS={G:new Zb,y:new FE,Y:new LE,R:new NE,u:new OE,Q:new IE,q:new GE,M:new VE,L:new HE,w:new BE,I:new WE,d:new jE,D:new KE,E:new qE,e:new QE,c:new XE,i:new $E,a:new JE,b:new ZE,B:new eS,h:new tS,H:new iS,K:new nS,k:new oS,m:new rS,s:new sS,S:new aS,X:new lS,x:new uS,t:new cS,T:new dS},pS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fS=/^'([^]*?)'?$/,mS=/''/g,vS=/\S/,CS=/[a-zA-Z]/;function yS(e,t,i,n){var o,r,s,l,u,c,d,h,p,g,f,m,v,C,y,w,b,E;Lw(3,arguments);var S=String(e),x=String(t),R=Uw(),T=null!==(o=null!==(r=null===n||void 0===n?void 0:n.locale)&&void 0!==r?r:R.locale)&&void 0!==o?o:Mb;if(!T.match)throw new RangeError("locale must contain match property");var D=Iw(null!==(s=null!==(l=null!==(u=null!==(c=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null===n||void 0===n||null===(d=n.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==u?u:R.firstWeekContainsDate)&&void 0!==l?l:null===(p=R.locale)||void 0===p||null===(g=p.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==s?s:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Iw(null!==(f=null!==(m=null!==(v=null!==(C=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==C?C:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(w=y.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==v?v:R.weekStartsOn)&&void 0!==m?m:null===(b=R.locale)||void 0===b||null===(E=b.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==f?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===x)return""===S?Nw(i):new Date(NaN);var A,M={firstWeekContainsDate:D,weekStartsOn:P,locale:T},_=[new $b],k=x.match(gS).map((function(e){var t=e[0];return t in db?(0,db[t])(e,T.formatLong):e})).join("").match(pS),F=[],L=Gb(k);try{var N=function(){var t=A.value;null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!mb(t)||vb(t,x,e),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!fb(t)||vb(t,x,e);var i=t[0],o=hS[i];if(o){var r=o.incompatibleTokens;if(Array.isArray(r)){var s=F.find((function(e){return r.includes(e.token)||e.token===i}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===o.incompatibleTokens&&F.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));F.push({token:i,fullToken:t});var a=o.run(S,t,T.match,M);if(!a)return{v:new Date(NaN)};_.push(a.setter),S=a.rest}else{if(i.match(CS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===t?t="'":"'"===i&&(t=t.match(fS)[1].replace(mS,"'")),0!==S.indexOf(t))return{v:new Date(NaN)};S=S.slice(t.length)}};for(L.s();!(A=L.n()).done;){var O=N();if("object"===a(O))return O.v}}catch(j){L.e(j)}finally{L.f()}if(S.length>0&&vS.test(S))return new Date(NaN);var I=_.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,i){return i.indexOf(e)===t})).map((function(e){return _.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),G=Nw(i);if(isNaN(G.getTime()))return new Date(NaN);var V,H=Gw(G,hb(G)),B={},W=Gb(I);try{for(W.s();!(V=W.n()).done;){var z=V.value;if(!z.validate(H,M))return new Date(NaN);var U=z.set(H,B,M);Array.isArray(U)?(H=U[0],Vb(B,U[1])):H=U}}catch(j){W.e(j)}finally{W.f()}return H}var wS={sunday:"Su",monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",ok:"OK",today:"Today",yesterday:"Yesterday",hours:"Hours",minutes:"Minutes",seconds:"Seconds",formattedMonthPattern:"MMM yyyy",formattedDayPattern:"dd MMM yyyy",dateLocale:{code:"en-GB",formatDistance:yb,formatLong:{date:wb({formats:{full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:wb({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:wb({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:Sb,localize:Rb,match:Ab,options:{weekStartsOn:1,firstWeekContainsDate:4}}};const bS={common:{loading:"Loading...",emptyMessage:"No data found",remove:"Remove",clear:"Clear"},Plaintext:{unfilled:"Unfilled",notSelected:"Not selected",notUploaded:"Not uploaded"},Pagination:{more:"More",prev:"Previous",next:"Next",first:"First",last:"Last",limit:"{0} / page",total:"Total Rows: {0}",skip:"Go to{0}"},Calendar:wS,DatePicker:Ew({},wS),DateRangePicker:Ew({},wS,{last7Days:"Last 7 Days"}),Picker:{noResultsText:"No results found",placeholder:"Select",searchPlaceholder:"Search",checkAll:"All"},InputPicker:{newItem:"New item",createOption:'Create option "{0}"'},Uploader:{inited:"Initial",progress:"Uploading",error:"Error",complete:"Finished",emptyFile:"Empty",upload:"Upload",removeFile:"Remove file"},CloseButton:{closeLabel:"Close"},Breadcrumb:{expandText:"Show path"},Toggle:{on:"Open",off:"Close"}};var ES=e.createContext({});var SS=function(e){return e.reduce((function(e,t){return e=Ew({},e,t)}),{})};function xS(t,i){var n,o,r=(0,e.useContext)(ES),s=r.locale,a=void 0===s?bS:s,l=r.rtl,u=void 0===l?"undefined"!==typeof window&&"rtl"===(document.body.getAttribute("dir")||document.dir):l,c=r.formatDate,d=r.parseDate,h=r.toasters,p=r.disableRipple,g=Ew({},null===a||void 0===a?void 0:a.common,"string"===typeof t?null===a||void 0===a?void 0:a[t]:"object"===typeof t?SS(t.map((function(e){return null===a||void 0===a?void 0:a[e]}))):{});i&&(g=SS([g,i]));var f=(0,e.useCallback)((function(e,t){var i;return Ob(Ow(e)?e:new Date,t,{locale:null===a||void 0===a||null===(i=a.Calendar)||void 0===i?void 0:i.dateLocale})}),[null===(n=a.Calendar)||void 0===n?void 0:n.dateLocale]),m=(0,e.useCallback)((function(e,t){var i;return yS(e,t,new Date,{locale:null===a||void 0===a||null===(i=a.Calendar)||void 0===i?void 0:i.dateLocale})}),[null===(o=a.Calendar)||void 0===o?void 0:o.dateLocale]);return{locale:g,rtl:u,toasters:h,disableRipple:p,formatDate:c||f,parseDate:d||m}}var RS=i(8139),TS=i.n(RS),DS=i(4430);function PS(e,t){return e&&t?Array.isArray(t)?TS()(t.filter((function(e){return!!e})).map((function(t){return e+"-"+t}))):"-"===e[e.length-1]?""+e+t:e+"-"+t:""}i.n(DS)()(PS);function AS(t){var i=((0,e.useContext)(ES)||{}).classPrefix,n=void 0===i?"rs":i,o=PS(n,t),r=(0,e.useCallback)((function(){return(arguments.length?TS().apply(void 0,arguments).split(" ").map((function(e){return PS(o,e)})):[]).filter((function(e){return e})).join(" ")}),[o]),s=(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=r(t);return n?o+" "+n:o}),[o,r]);return{withClassPrefix:s,merge:TS(),prefix:r,rootPrefix:function(){return(arguments.length?TS().apply(void 0,arguments).split(" ").map((function(e){return PS(n,e)})):[]).filter((function(e){return e})).join(" ")}}}const MS=function(){if(!Aw)return{};for(var e,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(t),n=document.createElement("div").style,o="",r=0;r<i.length;r+=1){var s=i[r];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=t[s]("TransitionEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend"),n=null;var a=function(e){return o+"-"+e};return{end:e,backfaceVisibility:a("backface-visibility"),transform:a("transform"),property:a("transition-property"),timing:a("transition-timing-function"),delay:a("transition-delay"),duration:a("transition-duration")}};var _S=i(1629),kS=i.n(_S),FS=i(1488),LS=i.n(FS);function NS(e){var t,i,n=(null===e||void 0===e?void 0:e.root)||(null===e||void 0===e?void 0:e.child)||(t=e)&&("current"in t?t.current:t);return null!==n&&void 0!==n&&n.nodeType&&"string"===typeof(null===n||void 0===n?void 0:n.nodeName)?n:(i=n)&&"setState"in i?ay.findDOMNode(i):null!==i&&void 0!==i?i:null}var OS={onEnter:Tw().func,onEntering:Tw().func,onEntered:Tw().func,onExit:Tw().func,onExiting:Tw().func,onExited:Tw().func},IS=["children","className","exitedClassName","enteringClassName","enteredClassName","exitingClassName"],GS=function(e){return e[e.UNMOUNTED=0]="UNMOUNTED",e[e.EXITED=1]="EXITED",e[e.ENTERING=2]="ENTERING",e[e.ENTERED=3]="ENTERED",e[e.EXITING=4]="EXITING",e}({}),VS=Ew({},OS,{animation:Tw().bool,children:Tw().oneOfType([Tw().node,Tw().func]),className:Tw().string,in:Tw().bool,unmountOnExit:Tw().bool,transitionAppear:Tw().bool,timeout:Tw().number,exitedClassName:Tw().string,exitingClassName:Tw().string,enteredClassName:Tw().string,enteringClassName:Tw().string}),HS=function(t){function i(i){var n,o;return(n=t.call(this,i)||this).animationEventListener=null,n.instanceElement=null,n.nextCallback=null,n.needsUpdate=null,n.childRef=void 0,o=i.in?i.transitionAppear?GS.EXITED:GS.ENTERED:i.unmountOnExit?GS.UNMOUNTED:GS.EXITED,n.state={status:o},n.nextCallback=null,n.childRef=e.createRef(),n}var n,o;o=t,(n=i).prototype=Object.create(o.prototype),n.prototype.constructor=n,Bb(n,o),i.getDerivedStateFromProps=function(e,t){return e.in&&e.unmountOnExit&&t.status===GS.UNMOUNTED?{status:GS.EXITED}:null};var r=i.prototype;return r.getSnapshotBeforeUpdate=function(){return this.props.in&&this.props.unmountOnExit||(this.needsUpdate=!0),null},r.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},r.componentDidUpdate=function(){var e=this.state.status;this.props.unmountOnExit&&e===GS.EXITED?this.props.in?this.performEnter(this.props):this.instanceElement&&this.setState({status:GS.UNMOUNTED}):this.needsUpdate&&(this.needsUpdate=!1,this.props.in?e!==GS.EXITING&&e!==GS.EXITED||this.performEnter(this.props):e!==GS.ENTERING&&e!==GS.ENTERED||this.performExit(this.props))},r.componentWillUnmount=function(){this.cancelNextCallback(),this.instanceElement=null},r.onTransitionEnd=function(e,t){var i;if(this.setNextCallback(t),null===(i=this.animationEventListener)||void 0===i||i.off(),this.nextCallback)if(e){var n=this.props,o=n.timeout,r=n.animation;this.animationEventListener=Fw(e,r?"webkitAnimation"in document.createElement("div").style?"webkitAnimationEnd":"animationend":MS().end,this.nextCallback),null!==o&&setTimeout(this.nextCallback,o)}else setTimeout(this.nextCallback,0)},r.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(n?t.instanceElement===n.target&&(e(n),i=!1,t.nextCallback=null):(e(n),i=!1,t.nextCallback=null))},this.nextCallback&&(this.nextCallback.cancel=function(){i=!1}),this.nextCallback},r.getChildElement=function(){return this.childRef.current?NS(this.childRef.current):NS(this)},r.performEnter=function(e){var t=this,i=e||this.props,n=i.onEnter,o=i.onEntering,r=i.onEntered;this.cancelNextCallback();var s=this.getChildElement();this.instanceElement=s,null===n||void 0===n||n(s),this.safeSetState({status:GS.ENTERING},(function(){null===o||void 0===o||o(s),t.onTransitionEnd(s,(function(){t.safeSetState({status:GS.ENTERED},(function(){null===r||void 0===r||r(s)}))}))}))},r.performExit=function(e){var t=this,i=e||this.props,n=i.onExit,o=i.onExiting,r=i.onExited;this.cancelNextCallback();var s=this.getChildElement();this.instanceElement=s,null===n||void 0===n||n(s),this.safeSetState({status:GS.EXITING},(function(){null===o||void 0===o||o(s),t.onTransitionEnd(s,(function(){t.safeSetState({status:GS.EXITED},(function(){null===r||void 0===r||r(s)}))}))}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){if(this.instanceElement){var i=this.setNextCallback(t);this.setState(e,(function(){return null===i||void 0===i?void 0:i()}))}},r.render=function(){var t,i=this.state.status;if(i===GS.UNMOUNTED)return null;var n,o=this.props,r=o.children,s=o.className,a=o.exitedClassName,l=o.enteringClassName,u=o.enteredClassName,c=o.exitingClassName,d=xw(o,IS),h=LS()(d,Object.keys(VS));if(i===GS.EXITED?n=a:i===GS.ENTERING?n=l:i===GS.ENTERED?n=u:i===GS.EXITING&&(n=c),kS()(r))return h.className=TS()(s,n),r(h,this.childRef);var p=e.Children.only(r);return e.cloneElement(p,Ew({},h,{ref:this.childRef,className:TS()(s,null===(t=p.props)||void 0===t?void 0:t.className,n)}))},i}(e.Component);HS.propTypes=VS,HS.displayName="Transition",HS.defaultProps={timeout:1e3};const BS=HS;var WS=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};function zS(e,t){var i=WS(e),n=WS(t);return function(e){"function"===typeof i&&i(e),"function"===typeof n&&n(e)}}var US=["as","className","classPrefix","onMouseDown"],jS=["className"],KS=e.forwardRef((function(t,i){var n=xS().disableRipple,o=t.as,r=void 0===o?"span":o,s=t.className,a=t.classPrefix,l=void 0===a?"ripple":a,u=t.onMouseDown,c=xw(t,US),d=AS(l),h=d.merge,p=d.prefix,g=d.withClassPrefix,f=h(s,p("pond")),m=(0,e.useRef)(null),v=(0,e.useState)(!1),C=v[0],y=v[1],w=(0,e.useState)(),b=w[0],E=w[1],S=(0,e.useCallback)((function(e){if(m.current){var t=function(e,t){var i=kw(e),n=(t.pageX||0)-i.left,o=(t.pageY||0)-i.top,r=Math.max(i.width-n,n),s=Math.max(i.height-o,o),a=Math.sqrt(Math.pow(r,2)+Math.pow(s,2));return{width:2*a,height:2*a,left:n-a,top:o-a}}(m.current,e);y(!0),E(t),null===u||void 0===u||u(t,e)}}),[u]);return(0,e.useEffect)((function(){var e,t=null===(e=m.current)||void 0===e?void 0:e.parentNode;if(t){var i=Fw(t,"mousedown",S);return function(){null===i||void 0===i||i.off()}}}),[S]),n?null:e.createElement(r,Ew({},c,{className:f,ref:zS(m,i)}),e.createElement(BS,{in:C,enteringClassName:p("rippling"),onEntered:function(){y(!1)}},(function(t,i){var n=t.className,o=xw(t,jS);return e.createElement("span",Ew({},o,{ref:i,className:h(g(),n),style:b}))})))}));KS.displayName="Ripple",KS.propTypes={classPrefix:Tw().string,className:Tw().string,onMouseDown:Tw().func};const YS=KS;const qS=function(e){var t=Tw().oneOf(e);return t._argType_={type:"oneOf",value:e},t};const QS=e.createContext(null);var XS=["as","href","disabled","onClick"];function $S(e){return!e||"#"===e.trim()}var JS=e.forwardRef((function(t,i){var n=t.as,o=void 0===n?"a":n,r=t.href,s=t.disabled,a=t.onClick,l=xw(t,XS),u=(0,e.useCallback)((function(e){(s||$S(r))&&e.preventDefault(),s?e.stopPropagation():null===a||void 0===a||a(e)}),[s,r,a]),c=$S(r)?{role:"button",href:"#"}:null;return s&&(l.tabIndex=-1,l["aria-disabled"]=!0),e.createElement(o,Ew({ref:i,href:r},c,l,{onClick:u}))}));JS.displayName="SafeAnchor",JS.propTypes={href:Tw().string,disabled:Tw().bool,as:Tw().elementType};const ZS=JS;function ex(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var tx,ix,nx,ox=["as","active","appearance","block","className","children","classPrefix","color","disabled","loading","ripple","size","startIcon","endIcon","type"],rx=e.forwardRef((function(t,i){var n=t.as,o=t.active,r=t.appearance,s=void 0===r?"default":r,a=t.block,l=t.className,u=t.children,c=t.classPrefix,d=void 0===c?"btn":c,h=t.color,p=t.disabled,g=t.loading,f=t.ripple,m=void 0===f||f,v=t.size,C=t.startIcon,y=t.endIcon,w=t.type,b=xw(t,ox),E=(0,e.useContext)(QS),S=null!==v&&void 0!==v?v:null===E||void 0===E?void 0:E.size,x=AS(d),R=x.withClassPrefix,T=x.prefix,D=(0,x.merge)(l,R(s,h,S,{active:o,disabled:p,loading:g,block:a})),P=(0,e.useCallback)((function(){var t=e.createElement("span",{className:T(tx||(tx=Sw(["spin"])))}),i=m&&!ex(s,["link","ghost"])?e.createElement(YS,null):null;return e.createElement(e.Fragment,null,g&&t,C?e.createElement("span",{className:T(ix||(ix=Sw(["start-icon"])))},C):null,u,y?e.createElement("span",{className:T(nx||(nx=Sw(["end-icon"])))},y):null,i)}),[s,u,y,g,T,m,C]);if(b.href)return e.createElement(ZS,Ew({},b,{as:n,ref:i,"aria-disabled":p,disabled:p,className:D}),P());var A=n||"button",M=w||("button"===A?"button":void 0),_=b.role||("button"!==A?"button":void 0);return e.createElement(A,Ew({},b,{role:_,type:M,ref:i,disabled:p,"aria-disabled":p,className:D}),P())}));rx.displayName="Button",rx.propTypes={as:Tw().elementType,active:Tw().bool,appearance:qS(["default","primary","link","subtle","ghost"]),block:Tw().bool,children:Tw().node,color:qS(["red","orange","yellow","green","cyan","blue","violet"]),disabled:Tw().bool,href:Tw().string,loading:Tw().bool,ripple:Tw().bool,size:qS(["lg","md","sm","xs"]),type:qS(["button","reset","submit"])};const sx=rx;var ax=["timeout","placement"],lx=e.forwardRef((function(t,i){var n=t.timeout,o=void 0===n?300:n,r=t.placement,s=void 0===r?"right":r,a=xw(t,ax),l=AS("anim").prefix,u=l("slide-in",s),c=l("slide-out",s);return e.createElement(BS,Ew({},a,{ref:i,animation:!0,timeout:o,enteringClassName:u,enteredClassName:u,exitingClassName:c,exitedClassName:c}))}));lx.displayName="Slide";const ux=lx;var cx=i(2616),dx=i.n(cx),hx={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};const px=function(){if(Aw){var e,t=document.createElement("div").style;for(e in hx)if(void 0!==t[e])return hx[e]}};[].concat(["top","bottom","right","left"],["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"],["auto","autoVertical","autoVerticalStart","autoVerticalEnd","autoHorizontal","autoHorizontalStart","autoHorizontalEnd"]);var gx="Escape",fx=e.memo((function(t){var i=t.children,n=t.container,o=(0,e.useState)(!1),r=o[0],s=o[1];return(0,e.useEffect)((function(){return s(!0)}),[]),n&&r?(0,ay.createPortal)(i,n):null}));function mx(t){void 0===t&&(t={});var i=t,n=i.container,o=i.waitMount,r=void 0!==o&&o,s="function"===typeof n?n():n,a=(0,e.useMemo)((function(){return Aw?s||document.body:null}),[s]),l=(0,e.useCallback)((function(e){var t=e.children;return null!=a?(0,ay.createPortal)(t,a):null}),[a]),u=(0,e.useCallback)((function(t){return e.createElement(fx,Ew({container:a},t))}),[a]);return{target:a,Portal:r?u:l}}function vx(t){var i=(0,e.useRef)(t);return(0,e.useEffect)((function(){i.current=t})),(0,e.useCallback)((function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return null===(e=i.current)||void 0===e?void 0:e.call.apply(e,[i].concat(n))}),[])}const Cx=function(t){var i=(0,e.useRef)(t);return i.current=t,i};function yx(t){var i=Cx(t);(0,e.useEffect)((function(){return function(){return i.current()}}),[])}function wx(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((function(e){return null!==e&&"undefined"!==typeof e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return void 0===e?t:function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}}),void 0)}function bx(e,t){return t&&(e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}(e,t)||(e.className=e.className+" "+t)),e}function Ex(e,t){return t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")),e}var Sx=/^ms-/;const xx=function(e){return function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(e).replace(Sx,"-ms-")};function Rx(e,t){var i,n;null===(i=e.style)||void 0===i||null===(n=i.removeProperty)||void 0===n||n.call(i,t)}function Tx(e,t){"string"===typeof t?Rx(e,t):Array.isArray(t)&&t.forEach((function(t){return Rx(e,t)}))}const Dx=function(e,t,i){var n="",o=t;if("string"===typeof t){if(void 0===i)throw new Error("value is undefined");(o={})[t]=i}if("object"===typeof o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(o[r]||0===o[r]?n+=xx(r)+":"+o[r]+";":Tx(e,xx(r)));e.style.cssText+=";"+n};var Px=/^-ms-/;const Ax=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):null};function Mx(e,t){if(t){var i=e.style[(o=t,o.replace(Px,"ms-").replace(/\-(\w)/g,(function(e){return e.slice(1).toUpperCase()})))];if(i)return i;var n=Ax(e);if(n)return n.getPropertyValue(xx(t))}var o;return e.style||Ax(e)}var _x;function kx(e){var t=Pw(e),i=e&&"body"===e.tagName.toLowerCase();return t||i?function(e){var t=Dw(e),i=Pw(t).innerWidth;return!!t.body&&t.body.clientWidth<i}(e):e.scrollHeight>e.clientHeight}var Fx=function(){function e(){this.modals=[],this.containers=[],this.data=[]}var t=e.prototype;return t.add=function(e,t,i){var n=this.modals.indexOf(e),o=this.containers.indexOf(t);if(-1!==n)return n;if(n=this.modals.length,this.modals.push(e),-1!==o)return this.data[o].modals.push(e),n;var r={modals:[e],classes:i?i.split(/\s+/):[],style:{overflow:t.style.overflow,paddingRight:t.style.paddingRight},overflowing:kx(t)};if(r.overflowing){var s=parseInt(Mx(t,"paddingRight")||0,10),a=function(e){if((void 0===_x||e)&&Aw){var t=document.createElement("div"),i=document.body;t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",i.appendChild(t),_x=t.offsetWidth-t.clientWidth,i.removeChild(t)}return _x}();Dx(t,{paddingRight:(a?s+a:s)+"px"})}return r.classes.forEach(bx.bind(null,t)),this.containers.push(t),this.data.push(r),n},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var i=function(e,t){return function(e,t){var i=-1;return e.some((function(e,n){return!!t(e,n)&&(i=n,!0)})),i}(e,(function(e){return-1!==e.modals.indexOf(t)}))}(this.data,e),n=this.data[i],o=this.containers[i];n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(t,1),0===n.modals.length&&(Object.keys(n.style).forEach((function(e){return o.style[e]=n.style[e]})),n.classes.forEach(Ex.bind(null,o)),this.containers.splice(i,1),this.data.splice(i,1))}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();const Lx=Fx;var Nx=["timeout","className"],Ox=e.forwardRef((function(t,i){var n=t.timeout,o=void 0===n?300:n,r=t.className,s=xw(t,Nx),a=AS("anim"),l=a.prefix,u=a.merge;return e.createElement(BS,Ew({},s,{ref:i,timeout:o,className:u(r,l("fade")),enteredClassName:l("in"),enteringClassName:l("in")}))}));Ox.displayName="Fade";const Ix=Ox;var Gx=e.createContext({});Gx.displayName="OverlayContext";const Vx=Gx;var Hx,Bx=["as","children","transition","dialogTransitionTimeout","style","className","container","animationProps","containerClassName","keyboard","enforceFocus","backdrop","backdropTransitionTimeout","backdropStyle","backdropClassName","open","autoFocus","onEsc","onExit","onExiting","onExited","onEnter","onEntering","onEntered","onClose","onOpen"],Wx=["className"];var zx=function(){var t=(Hx||(Hx=new Lx),Hx),i=(0,e.useRef)({dialog:null,backdrop:null});return{get dialog(){var e;return null===(e=i.current)||void 0===e?void 0:e.dialog},add:function(e,n){return t.add(i.current,e,n)},remove:function(){return t.remove(i.current)},isTopModal:function(){return t.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])}},Ux=e.forwardRef((function(t,i){var n=t.as,o=void 0===n?"div":n,r=t.children,s=t.transition,a=t.dialogTransitionTimeout,l=t.style,u=t.className,c=t.container,d=t.animationProps,h=t.containerClassName,p=t.keyboard,g=void 0===p||p,f=t.enforceFocus,m=void 0===f||f,v=t.backdrop,C=void 0===v||v,y=t.backdropTransitionTimeout,w=t.backdropStyle,b=t.backdropClassName,E=t.open,S=t.autoFocus,x=void 0===S||S,R=t.onEsc,T=t.onExit,D=t.onExiting,P=t.onExited,A=t.onEnter,M=t.onEntering,_=t.onEntered,k=t.onClose,F=t.onOpen,L=xw(t,Bx),N=(0,e.useState)(!E),O=N[0],I=N[1],G=mx({container:c}),V=G.Portal,H=G.target,B=zx();E?O&&I(!1):s||O||I(!0);var W=E||s&&!O,z=(0,e.useRef)(null),U=vx((function(e){g&&e.key===gx&&B.isTopModal()&&(null===R||void 0===R||R(e),null===k||void 0===k||k(e))})),j=(0,e.useCallback)((function(){var e,t;z.current&&(null===(e=(t=z.current).focus)||void 0===e||e.call(t),z.current=null)}),[]),K=vx((function(e){var t=document.activeElement,i=B.dialog;i&&t&&!_w(i,t)&&(null===e||void 0===e||e(),i.focus())})),Y=vx((function(){m&&B.isTopModal()&&K()})),q=(0,e.useRef)(),Q=(0,e.useRef)(),X=vx((function(){H&&B.add(H,h),q.current||(q.current=Fw(document,"keydown",U)),Q.current||(Q.current=Fw(document,"focus",Y,!0)),x&&K((function(){z.current=document.activeElement})),null===F||void 0===F||F()})),$=vx((function(){var e,t;B.remove(),null===(e=q.current)||void 0===e||e.off(),q.current=null,null===(t=Q.current)||void 0===t||t.off(),Q.current=null,j()}));(0,e.useEffect)((function(){E&&X()}),[E,X]),(0,e.useEffect)((function(){O&&$()}),[O,$]),yx((function(){$()}));var J=(0,e.useCallback)((function(){I(!0)}),[]),Z=(0,e.useMemo)((function(){return{overlayContainer:function(){return B.dialog}}}),[B.dialog]);if(!W)return null;var ee=s?e.createElement(s,Ew({},d,{transitionAppear:!0,unmountOnExit:!0,in:E,timeout:a,onExit:T,onExiting:D,onExited:wx(J,P),onEnter:A,onEntering:M,onEntered:_}),r):r;return e.createElement(Vx.Provider,{value:Z},e.createElement(V,null,C&&(s?e.createElement(Ix,{transitionAppear:!0,in:E,timeout:y},(function(t,i){var n=t.className,o=xw(t,Wx);return e.createElement("div",Ew({"aria-hidden":!0,"data-testid":"backdrop"},o,{style:w,ref:zS(B.setBackdropRef,i),className:TS()(b,n)}))})):e.createElement("div",{"aria-hidden":!0,style:w,className:b})),e.createElement(o,Ew({},L,{ref:zS(B.setDialogRef,i),style:l,className:u,tabIndex:-1}),ee)))})),jx={as:Tw().elementType,className:Tw().string,backdropClassName:Tw().string,style:Tw().object,backdropStyle:Tw().object,open:Tw().bool,backdrop:Tw().oneOfType([Tw().bool,Tw().string]),keyboard:Tw().bool,autoFocus:Tw().bool,enforceFocus:Tw().bool,animationProps:Tw().object,onOpen:Tw().func,onClose:Tw().func};Ux.displayName="OverlayModal",Ux.propTypes=Ew({},OS,jx,{children:Tw().func,container:Tw().any,containerClassName:Tw().string,dialogTransitionTimeout:Tw().number,backdropTransitionTimeout:Tw().number,transition:Tw().any,onEsc:Tw().func});const Kx=Ux;var Yx=["timeout"],qx=e.forwardRef((function(t,i){var n=t.timeout,o=void 0===n?300:n,r=xw(t,Yx),s=AS("anim").prefix;return e.createElement(BS,Ew({},r,{ref:i,animation:!0,timeout:o,enteringClassName:s("bounce-in"),enteredClassName:s("bounce-in"),exitingClassName:s("bounce-out"),exitedClassName:s("bounce-out")}))}));qx.displayName="Bounce";const Qx=qx;var Xx=i(111),$x=i.n(Xx),Jx=t["useId".toString()];function Zx(t,i){var n=e.useRef();return void 0!==Jx?null!==i&&void 0!==i?i:""+t+Jx():(n.current||(n.current=$x()(t)),null!==i&&void 0!==i?i:n.current)}var eR,tR=["as","style","children","dialogClassName","dialogStyle","classPrefix","className","size"],iR={size:qS(["lg","md","sm","xs"]),className:Tw().string,classPrefix:Tw().string,dialogClassName:Tw().string,style:Tw().object,dialogStyle:Tw().object,children:Tw().node},nR=e.forwardRef((function(t,i){var n=t.as,o=void 0===n?"div":n,r=t.style,s=t.children,a=t.dialogClassName,l=t.dialogStyle,u=t.classPrefix,c=void 0===u?"modal":u,d=t.className,h=t.size,p=xw(t,tR),g=Ew({display:"block"},r),f=AS(c),m=f.merge,v=f.withClassPrefix,C=f.prefix,y=m(d,v(h)),w=m(a,C("dialog"));return e.createElement(o,Ew({role:"dialog","aria-modal":!0},p,{ref:i,className:y,style:g}),e.createElement("div",{role:"document",className:w,style:l},e.createElement("div",{className:C(eR||(eR=Sw(["content"])))},s)))}));nR.displayName="ModalDialog",nR.propTypes=iR;const oR=nR;var rR=e.createContext(null),sR=["icon","placement","children","circle","classPrefix","className"],aR=e.forwardRef((function(t,i){var n=t.icon,o=t.placement,r=void 0===o?"left":o,s=t.children,a=t.circle,l=t.classPrefix,u=void 0===l?"btn-icon":l,c=t.className,d=xw(t,sR),h=AS(u),p=(0,h.merge)(c,(0,h.withClassPrefix)("placement-"+r,{circle:a,"with-text":"undefined"!==typeof s}));return e.createElement(sx,Ew({},d,{ref:i,className:p}),n,s)}));aR.displayName="IconButton",aR.propTypes={className:Tw().string,icon:Tw().any,classPrefix:Tw().string,circle:Tw().bool,children:Tw().node,placement:qS(["left","right"])};const lR=aR;var uR=i(4411);const cR=e.createContext(null);var dR=["as","classPrefix","className","style","children"],hR=e.forwardRef((function(t,i){var n,o,r=t.as,s=void 0===r?"div":r,a=t.classPrefix,l=void 0===a?"modal-body":a,u=t.className,c=t.style,d=t.children,h=xw(t,dR),p=AS(l),g=p.withClassPrefix,f=p.merge,m=p.prefix,v=f(u,g()),C=(0,e.useContext)(rR),y=null===C||void 0===C||null===(n=C.getBodyStyles)||void 0===n?void 0:n.call(C),w=null===(o=(0,e.useContext)(cR))||void 0===o?void 0:o.closeButton,b=null;return w&&(b="boolean"===typeof w?e.createElement(lR,{icon:e.createElement(uR.A,null),appearance:"subtle",size:"sm",className:m("close"),onClick:null===C||void 0===C?void 0:C.onModalClose}):w),e.createElement(s,Ew({},h,{ref:i,style:Ew({},y,c),className:v}),b,d)}));hR.displayName="ModalBody",hR.propTypes={as:Tw().elementType,classPrefix:Tw().string,className:Tw().string};const pR=hR;var gR=["as","classPrefix","className","locale"],fR=e.forwardRef((function(t,i){var n=t.as,o=void 0===n?"button":n,r=t.classPrefix,s=void 0===r?"btn-close":r,a=t.className,l=t.locale,u=xw(t,gR),c=AS(s),d=c.withClassPrefix,h=c.merge,p=xS("CloseButton",l).locale,g=h(a,d());return e.createElement(o,Ew({type:"button",ref:i,className:g,"aria-label":null===p||void 0===p?void 0:p.closeLabel},u),e.createElement(uR.A,null))}));fR.displayName="CloseButton";const mR=fR;var vR=["as","classPrefix","className","closeButton","children","onClose"],CR=e.forwardRef((function(t,i){var n,o,r=t.as,s=void 0===r?"div":r,a=t.classPrefix,l=void 0===a?"modal-header":a,u=t.className,c=t.closeButton,d=void 0===c||c,h=t.children,p=t.onClose,g=xw(t,vR),f=AS(l),m=f.merge,v=f.withClassPrefix,C=f.prefix,y=m(u,v()),w=null===(n=(0,e.useContext)(rR))||void 0===n?void 0:n.onModalClose,b=(null===(o=(0,e.useContext)(cR))||void 0===o?void 0:o.isDrawer)?e.createElement(lR,{icon:e.createElement(uR.A,null),appearance:"subtle",size:"sm",className:C("close"),onClick:wx(p,w)}):e.createElement(mR,{className:C("close"),onClick:wx(p,w)});return e.createElement(s,Ew({},g,{ref:i,className:y}),d&&b,h)}));CR.displayName="ModalHeader",CR.propTypes={as:Tw().elementType,classPrefix:Tw().string,className:Tw().string,closeButton:Tw().bool,children:Tw().node};const yR=CR;var wR=["as","classPrefix","className","role"],bR=e.forwardRef((function(t,i){var n=t.as,o=void 0===n?"h4":n,r=t.classPrefix,s=void 0===r?"modal-title":r,a=t.className,l=t.role,u=xw(t,wR),c=AS(s),d=c.withClassPrefix,h=(0,c.merge)(a,d()),p=(0,e.useContext)(rR);return e.createElement(o,Ew({id:p?p.dialogId+"-title":void 0},u,{role:l,ref:i,className:h}))}));bR.displayName="Modal.Title",bR.propTypes={as:Tw().elementType,className:Tw().string,classPrefix:Tw().string,children:Tw().node};const ER=bR;var SR=i(940),xR=i.n(SR),RR=["name","componentAs","componentClassPrefix"],TR=["as","classPrefix","className","role"];function DR(t){var i=t.name,n=t.componentAs,o=t.componentClassPrefix,r=xw(t,RR),s=e.forwardRef((function(t,s){var a=t.as,l=void 0===a?n||"div":a,u=t.classPrefix,c=void 0===u?o||xR()(i):u,d=t.className,h=t.role,p=xw(t,TR),g=AS(c),f=g.withClassPrefix,m=(0,g.merge)(d,f());return e.createElement(l,Ew({},r,p,{role:h,ref:s,className:m}))}));return s.displayName=i,s.propTypes={as:Tw().elementType,className:Tw().string,classPrefix:Tw().string,children:Tw().node},s}const PR=DR({name:"ModalFooter"});function AR(e,t){var i=Pw(e);return i?i.innerHeight:t?e.clientHeight:kw(e).height}var MR,_R=[],kR="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(MR||(MR={}));var FR,LR=function(e){return Object.freeze(e)},NR=function(e,t){this.inlineSize=e,this.blockSize=t,LR(this)},OR=function(){function e(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,LR(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),IR=function(e){return e instanceof SVGElement&&"getBBox"in e},GR=function(e){if(IR(e)){var t=e.getBBox(),i=t.width,n=t.height;return!i&&!n}var o=e,r=o.offsetWidth,s=o.offsetHeight;return!(r||s||e.getClientRects().length)},VR=function(e){var t;if(e instanceof Element)return!0;var i=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(i&&e instanceof i.Element)},HR="undefined"!==typeof window?window:{},BR=new WeakMap,WR=/auto|scroll/,zR=/^tb|vertical/,UR=/msie|trident/i.test(HR.navigator&&HR.navigator.userAgent),jR=function(e){return parseFloat(e||"0")},KR=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!1),new NR((i?t:e)||0,(i?e:t)||0)},YR=LR({devicePixelContentBoxSize:KR(),borderBoxSize:KR(),contentBoxSize:KR(),contentRect:new OR(0,0,0,0)}),qR=function(e,t){if(void 0===t&&(t=!1),BR.has(e)&&!t)return BR.get(e);if(GR(e))return BR.set(e,YR),YR;var i=getComputedStyle(e),n=IR(e)&&e.ownerSVGElement&&e.getBBox(),o=!UR&&"border-box"===i.boxSizing,r=zR.test(i.writingMode||""),s=!n&&WR.test(i.overflowY||""),a=!n&&WR.test(i.overflowX||""),l=n?0:jR(i.paddingTop),u=n?0:jR(i.paddingRight),c=n?0:jR(i.paddingBottom),d=n?0:jR(i.paddingLeft),h=n?0:jR(i.borderTopWidth),p=n?0:jR(i.borderRightWidth),g=n?0:jR(i.borderBottomWidth),f=d+u,m=l+c,v=(n?0:jR(i.borderLeftWidth))+p,C=h+g,y=a?e.offsetHeight-C-e.clientHeight:0,w=s?e.offsetWidth-v-e.clientWidth:0,b=o?f+v:0,E=o?m+C:0,S=n?n.width:jR(i.width)-b-w,x=n?n.height:jR(i.height)-E-y,R=S+f+w+v,T=x+m+y+C,D=LR({devicePixelContentBoxSize:KR(Math.round(S*devicePixelRatio),Math.round(x*devicePixelRatio),r),borderBoxSize:KR(R,T,r),contentBoxSize:KR(S,x,r),contentRect:new OR(d,l,S,x)});return BR.set(e,D),D},QR=function(e,t,i){var n=qR(e,i),o=n.borderBoxSize,r=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case MR.DEVICE_PIXEL_CONTENT_BOX:return s;case MR.BORDER_BOX:return o;default:return r}},XR=function(e){var t=qR(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=LR([t.borderBoxSize]),this.contentBoxSize=LR([t.contentBoxSize]),this.devicePixelContentBoxSize=LR([t.devicePixelContentBoxSize])},$R=function(e){if(GR(e))return 1/0;for(var t=0,i=e.parentNode;i;)t+=1,i=i.parentNode;return t},JR=function(){var e=1/0,t=[];_R.forEach((function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach((function(t){var i=new XR(t.target),o=$R(t.target);n.push(i),t.lastReportedSize=QR(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){i.callback.call(i.observer,n,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,n=t;i<n.length;i++){(0,n[i])()}return e},ZR=function(e){_R.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(i){i.isActive()&&($R(i.target)>e?t.activeTargets.push(i):t.skippedTargets.push(i))}))}))},eT=function(){var e=0;for(ZR(e);_R.some((function(e){return e.activeTargets.length>0}));)e=JR(),ZR(e);return _R.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:kR}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=kR),window.dispatchEvent(e)}(),e>0},tT=[],iT=function(e){if(!FR){var t=0,i=document.createTextNode("");new MutationObserver((function(){return tT.splice(0).forEach((function(e){return e()}))})).observe(i,{characterData:!0}),FR=function(){i.textContent="".concat(t?t--:t++)}}tT.push(e),FR()},nT=0,oT={attributes:!0,characterData:!0,childList:!0,subtree:!0},rT=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],sT=function(e){return void 0===e&&(e=0),Date.now()+e},aT=!1,lT=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!aT){aT=!0;var i,n=sT(e);i=function(){var i=!1;try{i=eT()}finally{if(aT=!1,e=n-sT(),!nT)return;i?t.run(1e3):e>0?t.run(e):t.start()}},iT((function(){requestAnimationFrame(i)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,oT)};document.body?t():HR.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),rT.forEach((function(t){return HR.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),rT.forEach((function(t){return HR.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),uT=new lT,cT=function(e){!nT&&e>0&&uT.start(),!(nT+=e)&&uT.stop()},dT=function(){function e(e,t){this.target=e,this.observedBox=t||MR.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=QR(this.target,this.observedBox,!0);return e=this.target,IR(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),hT=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},pT=new WeakMap,gT=function(e,t){for(var i=0;i<e.length;i+=1)if(e[i].target===t)return i;return-1},fT=function(){function e(){}return e.connect=function(e,t){var i=new hT(e,t);pT.set(e,i)},e.observe=function(e,t,i){var n=pT.get(e),o=0===n.observationTargets.length;gT(n.observationTargets,t)<0&&(o&&_R.push(n),n.observationTargets.push(new dT(t,i&&i.box)),cT(1),uT.schedule())},e.unobserve=function(e,t){var i=pT.get(e),n=gT(i.observationTargets,t),o=1===i.observationTargets.length;n>=0&&(o&&_R.splice(_R.indexOf(i),1),i.observationTargets.splice(n,1),cT(-1))},e.disconnect=function(e){var t=this,i=pT.get(e);i.observationTargets.slice().forEach((function(i){return t.unobserve(e,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},e}(),mT=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");fT.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!VR(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");fT.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!VR(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");fT.unobserve(this,e)},e.prototype.disconnect=function(){fT.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),vT={};function CT(e){vT[e]||(console.warn(e),vT[e]=!0)}CT._resetWarned=function(){for(var e in vT)delete vT[e]};const yT=CT;var wT,bT,ET,ST,xT,RT=["animation","animationProps","animationTimeout","aria-labelledby","aria-describedby","backdropClassName","backdrop","className","children","classPrefix","dialogClassName","dialogStyle","dialogAs","enforceFocus","full","overflow","open","onClose","onEntered","onEntering","onExited","role","size","id"],TT=["className"],DT=["xs","sm","md","lg","full"],PT=e.forwardRef((function(t,i){var n,o,r=t.animation,s=void 0===r?Qx:r,a=t.animationProps,l=t.animationTimeout,u=void 0===l?300:l,c=t["aria-labelledby"],d=t["aria-describedby"],h=t.backdropClassName,p=t.backdrop,g=void 0===p||p,f=t.className,m=t.children,v=t.classPrefix,C=void 0===v?"modal":v,y=t.dialogClassName,w=t.dialogStyle,b=t.dialogAs,E=void 0===b?oR:b,S=t.enforceFocus,x=t.full,R=t.overflow,T=void 0===R||R,D=t.open,P=t.onClose,A=t.onEntered,M=t.onEntering,_=t.onExited,k=t.role,F=void 0===k?"dialog":k,L=t.size,N=void 0===L?"sm":L,O=t.id,I=xw(t,RT),G={in:D&&!s},V=AS(C),H=V.merge,B=V.prefix,W=(0,e.useState)(!1),z=W[0],U=W[1],j=H(f,B(((n={full:x})[N]=DT.includes(N),n))),K=(0,e.useRef)(null),Y=(0,e.useRef)(),q=((0,e.useContext)(cR)||{}).isDrawer,Q=void 0!==q&&q,X=function(t,i){var n=(0,e.useState)({}),o=n[0],r=n[1],s=i.overflow,a=i.prefix,l=i.size,u=(0,e.useRef)(),c=(0,e.useRef)(null),d=(0,e.useRef)(),h=(0,e.useCallback)((function(e,i){var n=t.current,o=n?n.scrollHeight:0,s={overflow:"auto"};if(n){var l=46,u=46,c=n.querySelector("."+a("header")),d=n.querySelector("."+a("footer")),h=(l=c?AR(c)+l:l)+(u=d?AR(d)+u:u)+(i?70:60),p=AR(window)-h,g=o>=p?p:o;s.maxHeight=g}r(s)}),[a,t]),p=(0,e.useCallback)((function(){var e,t,i;null===(e=u.current)||void 0===e||null===(t=e.off)||void 0===t||t.call(e),null===(i=d.current)||void 0===i||i.disconnect(),u.current=null,d.current=null}),[]),g=(0,e.useCallback)((function(e){s&&"full"!==l?t.current&&(h(void 0,e),c.current=t.current.querySelector("."+a("content")),u.current||(u.current=Fw(window,"resize",h)),c.current&&!d.current&&(d.current=new mT((function(){return h()})),d.current.observe(c.current))):r(null)}),[s,a,t,l,h]);return(0,e.useEffect)((function(){return p}),[]),[s?o:null,g,p]}(K,{overflow:T,prefix:B,size:N}),$=X[0],J=X[1],Z=X[2],ee=Zx("dialog-",O),te=(0,e.useMemo)((function(){return{dialogId:ee,onModalClose:P,getBodyStyles:function(){return $}}}),[ee,P,$]),ie=(0,e.useCallback)((function(e){var t;null===_||void 0===_||_(e),Z(),null===(t=Y.current)||void 0===t||t.off(),Y.current=null}),[Z,_]),ne=(0,e.useCallback)((function(e){null===A||void 0===A||A(e),J()}),[J,A]),oe=(0,e.useCallback)((function(e){null===M||void 0===M||M(e),J(!0)}),[J,M]),re=e.useRef(),se=(0,e.useCallback)((function(e){re.current=e.target===e.currentTarget}),[]),ae=(0,e.useCallback)((function(e){if(re.current&&e.target!==K.current&&e.target===e.currentTarget)return"static"===g?(U(!0),void(!Y.current&&K.current&&(Y.current=Fw(K.current,px(),(function(){U(!1)}))))):void(null===P||void 0===P||P(e))}),[g,P]);yx((function(){var e;null===(e=Y.current)||void 0===e||e.off()}));var le="width";if(Q){var ue=(a||{}).placement;le="top"===ue||"bottom"===ue?"height":"width"}var ce=(0,e.useMemo)((function(){return"boolean"===typeof S?S:(!Q||!1!==g)&&void 0}),[g,S,Q]),de=H(B(wT||(wT=Sw(["wrapper"]))),((o={})[B(bT||(bT=Sw(["no-backdrop"])))]=!1===g,o));return e.createElement(rR.Provider,{value:te},e.createElement(Kx,Ew({"data-testid":Q?"drawer-wrapper":"modal-wrapper"},I,{ref:i,backdrop:g,enforceFocus:ce,open:D,onClose:P,className:de,onEntered:ne,onEntering:oe,onExited:ie,backdropClassName:H(B(ET||(ET=Sw(["backdrop"]))),h,G),containerClassName:B({open:D,"has-backdrop":g}),transition:s||void 0,animationProps:a,dialogTransitionTimeout:u,backdropTransitionTimeout:150,onClick:g?ae:void 0,onMouseDown:se}),(function(t,i){var n,o=t.className,r=xw(t,TT);return e.createElement(E,Ew({role:F,id:ee,"aria-labelledby":null!==c&&void 0!==c?c:ee+"-title","aria-describedby":d,style:(n={},n[le]=DT.includes(N)?void 0:N,n)},r,dx()(I,Object.keys(iR)),{ref:zS(K,i),classPrefix:C,className:H(j,o,B({shake:z})),dialogClassName:y,dialogStyle:w}),m)})))}));PT.Body=pR,PT.Header=yR,PT.Title=ER,PT.Footer=PR,PT.Dialog=oR,PT.displayName="Modal",PT.propTypes=Ew({},jx,{animation:Tw().any,animationTimeout:Tw().number,classPrefix:Tw().string,dialogClassName:Tw().string,size:Tw().oneOfType([qS(DT),Tw().number,Tw().string]),dialogStyle:Tw().object,dialogAs:Tw().elementType,full:(ST=Tw().bool,xT='Use size="full" instead.',function(e,t,i){null!=e[t]&&CT('"'+t+'" property of "'+i+'" has been deprecated.\n'+xT);for(var n=arguments.length,o=new Array(n>3?n-3:0),r=3;r<n;r++)o[r-3]=arguments[r];return ST.apply(void 0,[e,t,i].concat(o))}),overflow:Tw().bool});const AT=PT;function MT(t,i){var n,o=null!==(n=t.displayName)&&void 0!==n?n:t.name,r=e.forwardRef((function(n,o){return yT(i),e.createElement(t,Ew({ref:o},n))}));return r.displayName="deprecated("+o+")",r}const _T=e.forwardRef((function(t,i){return e.createElement(pR,Ew({classPrefix:"drawer-body"},t,{ref:i}))}));const kT=e.forwardRef((function(t,i){return e.createElement(yR,Ew({classPrefix:"drawer-header"},t,{ref:i}))}));const FT=DR({name:"DrawerActions"});const LT=e.forwardRef((function(t,i){return e.createElement(PR,Ew({classPrefix:"drawer-footer"},t,{ref:i}))}));const NT=e.forwardRef((function(t,i){return e.createElement(ER,Ew({classPrefix:"drawer-title"},t,{ref:i}))}));var OT=["className","placement","classPrefix","animation","closeButton"],IT=e.forwardRef((function(t,i){var n=t.className,o=t.placement,r=void 0===o?"right":o,s=t.classPrefix,a=void 0===s?"drawer":s,l=t.animation,u=void 0===l?ux:l,c=t.closeButton,d=void 0===c||c,h=xw(t,OT),p=AS(a),g=(0,p.merge)(n,(0,p.prefix)(r)),f={placement:r},m=(0,e.useMemo)((function(){return{closeButton:d,isDrawer:!0}}),[d]);return e.createElement(cR.Provider,{value:m},e.createElement(AT,Ew({},h,{ref:i,classPrefix:a,className:g,animation:u,animationProps:f})))}));_T.displayName="DrawerBody",kT.displayName="DrawerHeader",FT.displayName="DrawerActions",LT.displayName="DrawerFooter",NT.displayName="DrawerTitle",IT.Body=_T,IT.Header=kT,IT.Actions=FT,IT.Footer=MT(LT,"<Drawer.Footer> has been deprecated, use <Drawer.Actions> instead."),IT.Title=NT,IT.displayName="Drawer",IT.propTypes=Ew({},AT.propTypes,{classPrefix:Tw().string,placement:qS(["top","right","bottom","left"]),children:Tw().node,className:Tw().string});const GT=IT;function VT(e){if(0===Object.keys(e).length)return[];let t=[];for(const i in e)t.push({value:i,label:i,children:VT(e[i])});return t}function HT(e,t,i){let n=i>.5?t:e;i=(i=i>1?1:i)>.5?i-.5:.5-i;let o="#";for(let r=0;r<3;++r){let e=Math.round(i*n[r]+255*(1-i)).toString(16);o+=1===e.length?"0"+e:e}return o}function BT(e){const t={"Productive Min.":e=>HT([255,0,0],[0,255,0],e/1e3),"Carbs (g)":e=>HT([0,255,0],[255,0,0],e/100),"Protien (g)":e=>HT([255,0,0],[0,255,0],e/200),"Fat (g)":e=>HT([0,255,0],[255,0,0],e/100)};let i=e.data.label;return null==e.value||0===e.value?{backgroundColor:"#000000"}:i in t?{backgroundColor:t[e.data.label](e.value)}:{}}class WT extends e.Component{constructor(e){super(e),this.state={drawerOpen:!0,data:null,checked:["Resting HR (bpm)","Calories Consumed (kcal)","Productive Min."],expanded:[],nodes:[]}}async componentDidMount(){let e=await fetch("data.json").then((e=>e.json())),t=await fetch("menu_nodes.json").then((e=>e.json()));this.setState({data:e});let i=VT(t);this.setState({nodes:i})}render(){let e=[],t=[],i=[{field:"label",pinned:"left",headerName:"",cellStyle:{"background-color":"#cfcfcf"}}];for(const n in this.state.data)i.push({field:n,cellStyle:e=>BT(e)}),t.push(n);if(null!=this.state.data){let i=Object.keys(this.state.data[Object.keys(this.state.data)[0]]);for(const n in i){let o=i[n];if(this.state.checked.includes(o)){let i={label:o};for(const e in t)i[t[e]]=this.state.data[t[e]][o];e.push(i)}}}return i.push({field:"7 Day Avg.",pinned:"right"}),i.push({field:"30 Day Avg.",pinned:"right"}),i.push({field:"365 Day Avg.",pinned:"right"}),(0,o.jsxs)("div",{children:[(0,o.jsx)(sx,{onClick:()=>this.setState({drawerOpen:!0}),children:"Available Values"}),(0,o.jsx)("div",{className:"ag-theme-quartz",style:{height:500},children:(0,o.jsx)(yw,{rowData:e,columnDefs:i,gridOptions:{autoSizeStrategy:{type:"fitCellContents"}}})}),(0,o.jsx)(GT,{size:"25rem",placement:"top",open:this.state.drawerOpen,onClose:()=>this.setState({drawerOpen:!1}),children:(0,o.jsx)(GT.Body,{children:(0,o.jsx)(bw(),{nodes:this.state.nodes,checked:this.state.checked,expanded:this.state.expanded,onCheck:e=>this.setState({checked:e}),onExpand:e=>this.setState({expanded:e})})})})]})}}function zT(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function UT(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?zT(Object(i),!0).forEach((function(t){YT(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zT(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function jT(e){return jT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(e)}function KT(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YT(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||XT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QT(e){return function(e){if(Array.isArray(e))return $T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||XT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XT(e,t){if(e){if("string"===typeof e)return $T(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$T(e,t):void 0}}function $T(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var JT=function(){},ZT={},eD={},tD=null,iD={mark:JT,measure:JT};try{"undefined"!==typeof window&&(ZT=window),"undefined"!==typeof document&&(eD=document),"undefined"!==typeof MutationObserver&&(tD=MutationObserver),"undefined"!==typeof performance&&(iD=performance)}catch(Bk){}var nD,oD,rD,sD,aD,lD=(ZT.navigator||{}).userAgent,uD=void 0===lD?"":lD,cD=ZT,dD=eD,hD=tD,pD=iD,gD=(cD.document,!!dD.documentElement&&!!dD.head&&"function"===typeof dD.addEventListener&&"function"===typeof dD.createElement),fD=~uD.indexOf("MSIE")||~uD.indexOf("Trident/"),mD="___FONT_AWESOME___",vD=16,CD="fa",yD="svg-inline--fa",wD="data-fa-i2svg",bD="data-fa-pseudo-element",ED="data-fa-pseudo-element-pending",SD="data-prefix",xD="data-icon",RD="fontawesome-i2svg",TD="async",DD=["HTML","HEAD","STYLE","SCRIPT"],PD=function(){try{return!0}catch(Bk){return!1}}(),AD="classic",MD="sharp",_D=[AD,MD];function kD(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[AD]}})}var FD=kD((YT(nD={},AD,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),YT(nD,MD,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),nD)),LD=kD((YT(oD={},AD,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),YT(oD,MD,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),oD)),ND=kD((YT(rD={},AD,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),YT(rD,MD,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),rD)),OD=kD((YT(sD={},AD,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),YT(sD,MD,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),sD)),ID=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,GD="fa-layers-text",VD=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,HD=kD((YT(aD={},AD,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),YT(aD,MD,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),aD)),BD=[1,2,3,4,5,6,7,8,9,10],WD=BD.concat([11,12,13,14,15,16,17,18,19,20]),zD=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],UD={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},jD=new Set;Object.keys(LD[AD]).map(jD.add.bind(jD)),Object.keys(LD[MD]).map(jD.add.bind(jD));var KD=[].concat(_D,QT(jD),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",UD.GROUP,UD.SWAP_OPACITY,UD.PRIMARY,UD.SECONDARY]).concat(BD.map((function(e){return"".concat(e,"x")}))).concat(WD.map((function(e){return"w-".concat(e)}))),YD=cD.FontAwesomeConfig||{};if(dD&&"function"===typeof dD.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=qT(e,2),i=t[0],n=t[1],o=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=dD.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(i));void 0!==o&&null!==o&&(YD[n]=o)}))}var qD={styleDefault:"solid",familyDefault:"classic",cssPrefix:CD,replacementClass:yD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};YD.familyPrefix&&(YD.cssPrefix=YD.familyPrefix);var QD=UT(UT({},qD),YD);QD.autoReplaceSvg||(QD.observeMutations=!1);var XD={};Object.keys(qD).forEach((function(e){Object.defineProperty(XD,e,{enumerable:!0,set:function(t){QD[e]=t,$D.forEach((function(e){return e(XD)}))},get:function(){return QD[e]}})})),Object.defineProperty(XD,"familyPrefix",{enumerable:!0,set:function(e){QD.cssPrefix=e,$D.forEach((function(e){return e(XD)}))},get:function(){return QD.cssPrefix}}),cD.FontAwesomeConfig=XD;var $D=[];var JD=vD,ZD={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var eP="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function tP(){for(var e=12,t="";e-- >0;)t+=eP[62*Math.random()|0];return t}function iP(e){for(var t=[],i=(e||[]).length>>>0;i--;)t[i]=e[i];return t}function nP(e){return e.classList?iP(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function oP(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rP(e){return Object.keys(e||{}).reduce((function(t,i){return t+"".concat(i,": ").concat(e[i].trim(),";")}),"")}function sP(e){return e.size!==ZD.size||e.x!==ZD.x||e.y!==ZD.y||e.rotate!==ZD.rotate||e.flipX||e.flipY}var aP=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, 0));\n          transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function lP(){var e=CD,t=yD,i=XD.cssPrefix,n=XD.replacementClass,o=aP;if(i!==e||n!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");o=o.replace(r,".".concat(i,"-")).replace(s,"--".concat(i,"-")).replace(a,".".concat(n))}return o}var uP=!1;function cP(){XD.autoAddCss&&!uP&&(!function(e){if(e&&gD){var t=dD.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var i=dD.head.childNodes,n=null,o=i.length-1;o>-1;o--){var r=i[o],s=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(n=r)}dD.head.insertBefore(t,n)}}(lP()),uP=!0)}var dP={mixout:function(){return{dom:{css:lP,insertCss:cP}}},hooks:function(){return{beforeDOMElementCreation:function(){cP()},beforeI2svg:function(){cP()}}}},hP=cD||{};hP[mD]||(hP[mD]={}),hP[mD].styles||(hP[mD].styles={}),hP[mD].hooks||(hP[mD].hooks={}),hP[mD].shims||(hP[mD].shims=[]);var pP=hP[mD],gP=[],fP=!1;function mP(e){var t=e.tag,i=e.attributes,n=void 0===i?{}:i,o=e.children,r=void 0===o?[]:o;return"string"===typeof e?oP(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,i){return t+"".concat(i,'="').concat(oP(e[i]),'" ')}),"").trim()}(n),">").concat(r.map(mP).join(""),"</").concat(t,">")}function vP(e,t,i){if(e&&e[t]&&e[t][i])return{prefix:t,iconName:i,icon:e[t][i]}}gD&&((fP=(dD.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(dD.readyState))||dD.addEventListener("DOMContentLoaded",(function e(){dD.removeEventListener("DOMContentLoaded",e),fP=1,gP.map((function(e){return e()}))})));var CP=function(e,t,i,n){var o,r,s,a=Object.keys(e),l=a.length,u=void 0!==n?function(e,t){return function(i,n,o,r){return e.call(t,i,n,o,r)}}(t,n):t;for(void 0===i?(o=1,s=e[a[0]]):(o=0,s=i);o<l;o++)s=u(s,e[r=a[o]],r,e);return s};function yP(e){var t=function(e){for(var t=[],i=0,n=e.length;i<n;){var o=e.charCodeAt(i++);if(o>=55296&&o<=56319&&i<n){var r=e.charCodeAt(i++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),i--)}else t.push(o)}return t}(e);return 1===t.length?t[0].toString(16):null}function wP(e){return Object.keys(e).reduce((function(t,i){var n=e[i];return!!n.icon?t[n.iconName]=n.icon:t[i]=n,t}),{})}function bP(e,t){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,n=void 0!==i&&i,o=wP(t);"function"!==typeof pP.hooks.addPack||n?pP.styles[e]=UT(UT({},pP.styles[e]||{}),o):pP.hooks.addPack(e,wP(t)),"fas"===e&&bP("fa",t)}var EP,SP,xP,RP=pP.styles,TP=pP.shims,DP=(YT(EP={},AD,Object.values(ND[AD])),YT(EP,MD,Object.values(ND[MD])),EP),PP=null,AP={},MP={},_P={},kP={},FP={},LP=(YT(SP={},AD,Object.keys(FD[AD])),YT(SP,MD,Object.keys(FD[MD])),SP);function NP(e,t){var i,n=t.split("-"),o=n[0],r=n.slice(1).join("-");return o!==e||""===r||(i=r,~KD.indexOf(i))?null:r}var OP,IP=function(){var e=function(e){return CP(RP,(function(t,i,n){return t[n]=CP(i,e,{}),t}),{})};AP=e((function(e,t,i){(t[3]&&(e[t[3]]=i),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=i}));return e})),MP=e((function(e,t,i){(e[i]=i,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=i}));return e})),FP=e((function(e,t,i){var n=t[2];return e[i]=i,n.forEach((function(t){e[t]=i})),e}));var t="far"in RP||XD.autoFetchSvg,i=CP(TP,(function(e,i){var n=i[0],o=i[1],r=i[2];return"far"!==o||t||(o="fas"),"string"===typeof n&&(e.names[n]={prefix:o,iconName:r}),"number"===typeof n&&(e.unicodes[n.toString(16)]={prefix:o,iconName:r}),e}),{names:{},unicodes:{}});_P=i.names,kP=i.unicodes,PP=zP(XD.styleDefault,{family:XD.familyDefault})};function GP(e,t){return(AP[e]||{})[t]}function VP(e,t){return(FP[e]||{})[t]}function HP(e){return _P[e]||{prefix:null,iconName:null}}function BP(){return PP}OP=function(e){PP=zP(e.styleDefault,{family:XD.familyDefault})},$D.push(OP),IP();var WP=function(){return{prefix:null,iconName:null,rest:[]}};function zP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===t?AD:t,n=FD[i][e],o=LD[i][e]||LD[i][n],r=e in pP.styles?e:null;return o||r||null}var UP=(YT(xP={},AD,Object.keys(ND[AD])),YT(xP,MD,Object.keys(ND[MD])),xP);function jP(e){var t,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,n=void 0!==i&&i,o=(YT(t={},AD,"".concat(XD.cssPrefix,"-").concat(AD)),YT(t,MD,"".concat(XD.cssPrefix,"-").concat(MD)),t),r=null,s=AD;(e.includes(o[AD])||e.some((function(e){return UP[AD].includes(e)})))&&(s=AD),(e.includes(o[MD])||e.some((function(e){return UP[MD].includes(e)})))&&(s=MD);var a=e.reduce((function(e,t){var i=NP(XD.cssPrefix,t);if(RP[t]?(t=DP[s].includes(t)?OD[s][t]:t,r=t,e.prefix=t):LP[s].indexOf(t)>-1?(r=t,e.prefix=zP(t,{family:s})):i?e.iconName=i:t!==XD.replacementClass&&t!==o[AD]&&t!==o[MD]&&e.rest.push(t),!n&&e.prefix&&e.iconName){var a="fa"===r?HP(e.iconName):{},l=VP(e.prefix,e.iconName);a.prefix&&(r=null),e.iconName=a.iconName||l||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||RP.far||!RP.fas||XD.autoFetchSvg||(e.prefix="fas")}return e}),WP());return(e.includes("fa-brands")||e.includes("fab"))&&(a.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(a.prefix="fad"),a.prefix||s!==MD||!RP.fass&&!XD.autoFetchSvg||(a.prefix="fass",a.iconName=VP(a.prefix,a.iconName)||a.iconName),"fa"!==a.prefix&&"fa"!==r||(a.prefix=BP()||"fas"),a}var KP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,i,n;return t=e,i=[{key:"add",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(t){e.definitions[t]=UT(UT({},e.definitions[t]||{}),o[t]),bP(t,o[t]);var i=ND[AD][t];i&&bP(i,o[t]),IP()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map((function(t){var n=i[t],o=n.prefix,r=n.iconName,s=n.icon,a=s[2];e[o]||(e[o]={}),a.length>0&&a.forEach((function(t){"string"===typeof t&&(e[o][t]=s)})),e[o][r]=s})),e}}],i&&KT(t.prototype,i),n&&KT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),YP=[],qP={},QP={},XP=Object.keys(QP);function $P(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return(qP[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(n))})),t}function JP(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];(qP[e]||[]).forEach((function(e){e.apply(null,i)}))}function ZP(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return QP[e]?QP[e].apply(null,t):void 0}function eA(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,i=e.prefix||BP();if(t)return t=VP(i,t)||t,vP(tA.definitions,i,t)||vP(pP.styles,i,t)}var tA=new KP,iA={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gD?(JP("beforeI2svg",e),ZP("pseudoElements2svg",e),ZP("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.autoReplaceSvgRoot;!1===XD.autoReplaceSvg&&(XD.autoReplaceSvg=!0),XD.observeMutations=!0,e=function(){oA({autoReplaceSvgRoot:i}),JP("watch",t)},gD&&(fP?setTimeout(e,0):gP.push(e))}},nA={noAuto:function(){XD.autoReplaceSvg=!1,XD.observeMutations=!1,JP("noAuto")},config:XD,dom:iA,parse:{icon:function(e){if(null===e)return null;if("object"===jT(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:VP(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=zP(e[0]);return{prefix:i,iconName:VP(i,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(XD.cssPrefix,"-"))>-1||e.match(ID))){var n=jP(e.split(" "),{skipLookups:!0});return{prefix:n.prefix||BP(),iconName:VP(n.prefix,n.iconName)||n.iconName}}if("string"===typeof e){var o=BP();return{prefix:o,iconName:VP(o,e)||e}}}},library:tA,findIconDefinition:eA,toHtml:mP},oA=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?dD:e;(Object.keys(pP.styles).length>0||XD.autoFetchSvg)&&gD&&XD.autoReplaceSvg&&nA.dom.i2svg({node:t})};function rA(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return mP(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(gD){var t=dD.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function sA(e){var t=e.icons,i=t.main,n=t.mask,o=e.prefix,r=e.iconName,s=e.transform,a=e.symbol,l=e.title,u=e.maskId,c=e.titleId,d=e.extra,h=e.watchable,p=void 0!==h&&h,g=n.found?n:i,f=g.width,m=g.height,v="fak"===o,C=[XD.replacementClass,r?"".concat(XD.cssPrefix,"-").concat(r):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),y={children:[],attributes:UT(UT({},d.attributes),{},{"data-prefix":o,"data-icon":r,class:C,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(m)})},w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(f/m*16*.0625,"em")}:{};p&&(y.attributes[wD]=""),l&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(c||tP())},children:[l]}),delete y.attributes.title);var b=UT(UT({},y),{},{prefix:o,iconName:r,main:i,mask:n,maskId:u,transform:s,symbol:a,styles:UT(UT({},w),d.styles)}),E=n.found&&i.found?ZP("generateAbstractMask",b)||{children:[],attributes:{}}:ZP("generateAbstractIcon",b)||{children:[],attributes:{}},S=E.children,x=E.attributes;return b.children=S,b.attributes=x,a?function(e){var t=e.prefix,i=e.iconName,n=e.children,o=e.attributes,r=e.symbol,s=!0===r?"".concat(t,"-").concat(XD.cssPrefix,"-").concat(i):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:UT(UT({},o),{},{id:s}),children:n}]}]}(b):function(e){var t=e.children,i=e.main,n=e.mask,o=e.attributes,r=e.styles,s=e.transform;if(sP(s)&&i.found&&!n.found){var a={x:i.width/i.height/2,y:.5};o.style=rP(UT(UT({},r),{},{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}(b)}function aA(e){var t=e.content,i=e.width,n=e.height,o=e.transform,r=e.title,s=e.extra,a=e.watchable,l=void 0!==a&&a,u=UT(UT(UT({},s.attributes),r?{title:r}:{}),{},{class:s.classes.join(" ")});l&&(u[wD]="");var c=UT({},s.styles);sP(o)&&(c.transform=function(e){var t=e.transform,i=e.width,n=void 0===i?vD:i,o=e.height,r=void 0===o?vD:o,s=e.startCentered,a=void 0!==s&&s,l="";return l+=a&&fD?"translate(".concat(t.x/JD-n/2,"em, ").concat(t.y/JD-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/JD,"em), calc(-50% + ").concat(t.y/JD,"em)) "):"translate(".concat(t.x/JD,"em, ").concat(t.y/JD,"em) "),l+="scale(".concat(t.size/JD*(t.flipX?-1:1),", ").concat(t.size/JD*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:o,startCentered:!0,width:i,height:n}),c["-webkit-transform"]=c.transform);var d=rP(c);d.length>0&&(u.style=d);var h=[];return h.push({tag:"span",attributes:u,children:[t]}),r&&h.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),h}var lA=pP.styles;function uA(e){var t=e[0],i=e[1],n=qT(e.slice(4),1)[0];return{found:!0,width:t,height:i,icon:Array.isArray(n)?{tag:"g",attributes:{class:"".concat(XD.cssPrefix,"-").concat(UD.GROUP)},children:[{tag:"path",attributes:{class:"".concat(XD.cssPrefix,"-").concat(UD.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(XD.cssPrefix,"-").concat(UD.PRIMARY),fill:"currentColor",d:n[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:n}}}}var cA={found:!1,width:512,height:512};function dA(e,t){var i=t;return"fa"===t&&null!==XD.styleDefault&&(t=BP()),new Promise((function(n,o){ZP("missingIconAbstract");if("fa"===i){var r=HP(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&lA[t]&&lA[t][e])return n(uA(lA[t][e]));!function(e,t){PD||XD.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),n(UT(UT({},cA),{},{icon:XD.showMissingIcons&&e&&ZP("missingIconAbstract")||{}}))}))}var hA=function(){},pA=XD.measurePerformance&&pD&&pD.mark&&pD.measure?pD:{mark:hA,measure:hA},gA='FA "6.5.2"',fA=function(e){pA.mark("".concat(gA," ").concat(e," ends")),pA.measure("".concat(gA," ").concat(e),"".concat(gA," ").concat(e," begins"),"".concat(gA," ").concat(e," ends"))},mA={begin:function(e){return pA.mark("".concat(gA," ").concat(e," begins")),function(){return fA(e)}},end:fA},vA=function(){};function CA(e){return"string"===typeof(e.getAttribute?e.getAttribute(wD):null)}function yA(e){return dD.createElementNS("http://www.w3.org/2000/svg",e)}function wA(e){return dD.createElement(e)}function bA(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===t?"svg"===e.tag?yA:wA:t;if("string"===typeof e)return dD.createTextNode(e);var n=i(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){n.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){n.appendChild(bA(e,{ceFn:i}))})),n}var EA={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(bA(e),t)})),null===t.getAttribute(wD)&&XD.keepOriginalSource){var i=dD.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~nP(t).indexOf(XD.replacementClass))return EA.replace(e);var n=new RegExp("".concat(XD.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var o=i[0].attributes.class.split(" ").reduce((function(e,t){return t===XD.replacementClass||t.match(n)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});i[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}var r=i.map((function(e){return mP(e)})).join("\n");t.setAttribute(wD,""),t.innerHTML=r}};function SA(e){e()}function xA(e,t){var i="function"===typeof t?t:vA;if(0===e.length)i();else{var n=SA;XD.mutateApproach===TD&&(n=cD.requestAnimationFrame||SA),n((function(){var t=!0===XD.autoReplaceSvg?EA.replace:EA[XD.autoReplaceSvg]||EA.replace,n=mA.begin("mutate");e.map(t),n(),i()}))}}var RA=!1;function TA(){RA=!0}function DA(){RA=!1}var PA=null;function AA(e){if(hD&&XD.observeMutations){var t=e.treeCallback,i=void 0===t?vA:t,n=e.nodeCallback,o=void 0===n?vA:n,r=e.pseudoElementsCallback,s=void 0===r?vA:r,a=e.observeMutationsRoot,l=void 0===a?dD:a;PA=new hD((function(e){if(!RA){var t=BP();iP(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!CA(e.addedNodes[0])&&(XD.searchPseudoElements&&s(e.target),i(e.target)),"attributes"===e.type&&e.target.parentNode&&XD.searchPseudoElements&&s(e.target.parentNode),"attributes"===e.type&&CA(e.target)&&~zD.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(SD):null,i=e.getAttribute?e.getAttribute(xD):null;return t&&i}(e.target)){var n=jP(nP(e.target)),r=n.prefix,a=n.iconName;e.target.setAttribute(SD,r||t),a&&e.target.setAttribute(xD,a)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(XD.replacementClass)&&o(e.target);var l}))}})),gD&&PA.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function MA(e){var t=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),n=void 0!==e.innerText?e.innerText.trim():"",o=jP(nP(e));return o.prefix||(o.prefix=BP()),t&&i&&(o.prefix=t,o.iconName=i),o.iconName&&o.prefix||(o.prefix&&n.length>0&&(o.iconName=function(e,t){return(MP[e]||{})[t]}(o.prefix,e.innerText)||GP(o.prefix,yP(e.innerText))),!o.iconName&&XD.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data)),o}function _A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},i=MA(e),n=i.iconName,o=i.prefix,r=i.rest,s=function(e){var t=iP(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),i=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return XD.autoA11y&&(i?t["aria-labelledby"]="".concat(XD.replacementClass,"-title-").concat(n||tP()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),a=$P("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),i=[];return t&&(i=t.split(";").reduce((function(e,t){var i=t.split(":"),n=i[0],o=i.slice(1);return n&&o.length>0&&(e[n]=o.join(":").trim()),e}),{})),i}(e):[];return UT({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:o,transform:ZD,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:s}},a)}var kA=pP.styles;function FA(e){var t="nest"===XD.autoReplaceSvg?_A(e,{styleParser:!1}):_A(e);return~t.extra.classes.indexOf(GD)?ZP("generateLayersText",e,t):ZP("generateSvgReplacementMutation",e,t)}var LA=new Set;function NA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!gD)return Promise.resolve();var i=dD.documentElement.classList,n=function(e){return i.add("".concat(RD,"-").concat(e))},o=function(e){return i.remove("".concat(RD,"-").concat(e))},r=XD.autoFetchSvg?LA:_D.map((function(e){return"fa-".concat(e)})).concat(Object.keys(kA));r.includes("fa")||r.push("fa");var s=[".".concat(GD,":not([").concat(wD,"])")].concat(r.map((function(e){return".".concat(e,":not([").concat(wD,"])")}))).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=iP(e.querySelectorAll(s))}catch(Bk){}if(!(a.length>0))return Promise.resolve();n("pending"),o("complete");var l=mA.begin("onTree"),u=a.reduce((function(e,t){try{var i=FA(t);i&&e.push(i)}catch(Bk){PD||"MissingIcon"===Bk.name&&console.error(Bk)}return e}),[]);return new Promise((function(e,i){Promise.all(u).then((function(i){xA(i,(function(){n("active"),n("complete"),o("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),i(e)}))}))}function OA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;FA(e).then((function(e){e&&xA([e],t)}))}_D.map((function(e){LA.add("fa-".concat(e))})),Object.keys(FD[AD]).map(LA.add.bind(LA)),Object.keys(FD[MD]).map(LA.add.bind(LA)),LA=QT(LA);var IA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,n=void 0===i?ZD:i,o=t.symbol,r=void 0!==o&&o,s=t.mask,a=void 0===s?null:s,l=t.maskId,u=void 0===l?null:l,c=t.title,d=void 0===c?null:c,h=t.titleId,p=void 0===h?null:h,g=t.classes,f=void 0===g?[]:g,m=t.attributes,v=void 0===m?{}:m,C=t.styles,y=void 0===C?{}:C;if(e){var w=e.prefix,b=e.iconName,E=e.icon;return rA(UT({type:"icon"},e),(function(){return JP("beforeDOMElementCreation",{iconDefinition:e,params:t}),XD.autoA11y&&(d?v["aria-labelledby"]="".concat(XD.replacementClass,"-title-").concat(p||tP()):(v["aria-hidden"]="true",v.focusable="false")),sA({icons:{main:uA(E),mask:a?uA(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:b,transform:UT(UT({},ZD),n),symbol:r,title:d,maskId:u,titleId:p,extra:{attributes:v,styles:y,classes:f}})}))}},GA={mixout:function(){return{icon:(e=IA,function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:eA(t||{}),o=i.mask;return o&&(o=(o||{}).icon?o:eA(o||{})),e(n,UT(UT({},i),{},{mask:o}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=NA,e.nodeCallback=OA,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,i=void 0===t?dD:t,n=e.callback;return NA(i,void 0===n?function(){}:n)},e.generateSvgReplacementMutation=function(e,t){var i=t.iconName,n=t.title,o=t.titleId,r=t.prefix,s=t.transform,a=t.symbol,l=t.mask,u=t.maskId,c=t.extra;return new Promise((function(t,d){Promise.all([dA(i,r),l.iconName?dA(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var d=qT(l,2),h=d[0],p=d[1];t([e,sA({icons:{main:h,mask:p},prefix:r,iconName:i,transform:s,symbol:a,maskId:u,title:n,titleId:o,extra:c,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,i=e.children,n=e.attributes,o=e.main,r=e.transform,s=rP(e.styles);return s.length>0&&(n.style=s),sP(r)&&(t=ZP("generateAbstractTransformGrouping",{main:o,transform:r,containerWidth:o.width,iconWidth:o.width})),i.push(t||o.icon),{children:i,attributes:n}}}},VA={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.classes,n=void 0===i?[]:i;return rA({type:"layer"},(function(){JP("beforeDOMElementCreation",{assembler:e,params:t});var i=[];return e((function(e){Array.isArray(e)?e.map((function(e){i=i.concat(e.abstract)})):i=i.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(XD.cssPrefix,"-layers")].concat(QT(n)).join(" ")},children:i}]}))}}}},HA={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.title,n=void 0===i?null:i,o=t.classes,r=void 0===o?[]:o,s=t.attributes,a=void 0===s?{}:s,l=t.styles,u=void 0===l?{}:l;return rA({type:"counter",content:e},(function(){return JP("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,i=e.title,n=e.extra,o=UT(UT(UT({},n.attributes),i?{title:i}:{}),{},{class:n.classes.join(" ")}),r=rP(n.styles);r.length>0&&(o.style=r);var s=[];return s.push({tag:"span",attributes:o,children:[t]}),i&&s.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),s}({content:e.toString(),title:n,extra:{attributes:a,styles:u,classes:["".concat(XD.cssPrefix,"-layers-counter")].concat(QT(r))}})}))}}}},BA={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,n=void 0===i?ZD:i,o=t.title,r=void 0===o?null:o,s=t.classes,a=void 0===s?[]:s,l=t.attributes,u=void 0===l?{}:l,c=t.styles,d=void 0===c?{}:c;return rA({type:"text",content:e},(function(){return JP("beforeDOMElementCreation",{content:e,params:t}),aA({content:e,transform:UT(UT({},ZD),n),title:r,extra:{attributes:u,styles:d,classes:["".concat(XD.cssPrefix,"-layers-text")].concat(QT(a))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var i=t.title,n=t.transform,o=t.extra,r=null,s=null;if(fD){var a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();r=l.width/a,s=l.height/a}return XD.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,aA({content:e.innerHTML,width:r,height:s,transform:n,title:i,extra:o,watchable:!0})])}}},WA=new RegExp('"',"ug"),zA=[1105920,1112319];function UA(e,t){var i="".concat(ED).concat(t.replace(":","-"));return new Promise((function(n,o){if(null!==e.getAttribute(i))return n();var r=iP(e.children).filter((function(e){return e.getAttribute(bD)===t}))[0],s=cD.getComputedStyle(e,t),a=s.getPropertyValue("font-family").match(VD),l=s.getPropertyValue("font-weight"),u=s.getPropertyValue("content");if(r&&!a)return e.removeChild(r),n();if(a&&"none"!==u&&""!==u){var c=s.getPropertyValue("content"),d=~["Sharp"].indexOf(a[2])?MD:AD,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(a[2])?LD[d][a[2].toLowerCase()]:HD[d][l],p=function(e){var t=e.replace(WA,""),i=function(e,t){var i,n=e.length,o=e.charCodeAt(t);return o>=55296&&o<=56319&&n>t+1&&(i=e.charCodeAt(t+1))>=56320&&i<=57343?1024*(o-55296)+i-56320+65536:o}(t,0),n=i>=zA[0]&&i<=zA[1],o=2===t.length&&t[0]===t[1];return{value:yP(o?t[0]:t),isSecondary:n||o}}(c),g=p.value,f=p.isSecondary,m=a[0].startsWith("FontAwesome"),v=GP(h,g),C=v;if(m){var y=function(e){var t=kP[e],i=GP("fas",e);return t||(i?{prefix:"fas",iconName:i}:null)||{prefix:null,iconName:null}}(g);y.iconName&&y.prefix&&(v=y.iconName,h=y.prefix)}if(!v||f||r&&r.getAttribute(SD)===h&&r.getAttribute(xD)===C)n();else{e.setAttribute(i,C),r&&e.removeChild(r);var w={iconName:null,title:null,titleId:null,prefix:null,transform:ZD,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=w.extra;b.attributes[bD]=t,dA(v,h).then((function(o){var r=sA(UT(UT({},w),{},{icons:{main:o,mask:WP()},prefix:h,iconName:C,extra:b,watchable:!0})),s=dD.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(s,e.firstChild):e.appendChild(s),s.outerHTML=r.map((function(e){return mP(e)})).join("\n"),e.removeAttribute(i),n()})).catch(o)}}else n()}))}function jA(e){return Promise.all([UA(e,"::before"),UA(e,"::after")])}function KA(e){return e.parentNode!==document.head&&!~DD.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(bD)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function YA(e){if(gD)return new Promise((function(t,i){var n=iP(e.querySelectorAll("*")).filter(KA).map(jA),o=mA.begin("searchPseudoElements");TA(),Promise.all(n).then((function(){o(),DA(),t()})).catch((function(){o(),DA(),i()}))}))}var qA=!1,QA=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var i=t.toLowerCase().split("-"),n=i[0],o=i.slice(1).join("-");if(n&&"h"===o)return e.flipX=!0,e;if(n&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(n){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},XA={mixout:function(){return{parse:{transform:function(e){return QA(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var i=t.getAttribute("data-fa-transform");return i&&(e.transform=QA(i)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,i=e.transform,n=e.containerWidth,o=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*i.x,", ").concat(32*i.y,") "),a="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),u={outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(l)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:UT({},u.outer),children:[{tag:"g",attributes:UT({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:UT(UT({},t.icon.attributes),u.path)}]}]}}}},$A={x:0,y:0,width:"100%",height:"100%"};function JA(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var ZA={hooks:function(){return{parseNodeAttributes:function(e,t){var i=t.getAttribute("data-fa-mask"),n=i?jP(i.split(" ").map((function(e){return e.trim()}))):WP();return n.prefix||(n.prefix=BP()),e.mask=n,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,i=e.children,n=e.attributes,o=e.main,r=e.mask,s=e.maskId,a=e.transform,l=o.width,u=o.icon,c=r.width,d=r.icon,h=function(e){var t=e.transform,i=e.containerWidth,n=e.iconWidth,o={transform:"translate(".concat(i/2," 256)")},r="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(r," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}({transform:a,containerWidth:c,iconWidth:l}),p={tag:"rect",attributes:UT(UT({},$A),{},{fill:"white"})},g=u.children?{children:u.children.map(JA)}:{},f={tag:"g",attributes:UT({},h.inner),children:[JA(UT({tag:u.tag,attributes:UT(UT({},u.attributes),h.path)},g))]},m={tag:"g",attributes:UT({},h.outer),children:[f]},v="mask-".concat(s||tP()),C="clip-".concat(s||tP()),y={tag:"mask",attributes:UT(UT({},$A),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:(t=d,"g"===t.tag?t.children:[t])},y]};return i.push(w,{tag:"rect",attributes:UT({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(v,")")},$A)}),{children:i,attributes:n}}}},eM={provides:function(e){var t=!1;cD.matchMedia&&(t=cD.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],i={fill:"currentColor"},n={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:UT(UT({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=UT(UT({},n),{},{attributeName:"opacity"}),r={tag:"circle",attributes:UT(UT({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||r.children.push({tag:"animate",attributes:UT(UT({},n),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:UT(UT({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(r),e.push({tag:"path",attributes:UT(UT({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:UT(UT({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:UT(UT({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:UT(UT({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var i=t.mixoutsTo;YP=e,qP={},Object.keys(QP).forEach((function(e){-1===XP.indexOf(e)&&delete QP[e]})),YP.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(i[e]=t[e]),"object"===jT(t[e])&&Object.keys(t[e]).forEach((function(n){i[e]||(i[e]={}),i[e][n]=t[e][n]}))})),e.hooks){var n=e.hooks();Object.keys(n).forEach((function(e){qP[e]||(qP[e]=[]),qP[e].push(n[e])}))}e.provides&&e.provides(QP)}))}([dP,GA,VA,HA,BA,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=YA,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,i=void 0===t?dD:t;XD.searchPseudoElements&&YA(i)}}},{mixout:function(){return{dom:{unwatch:function(){TA(),qA=!0}}}},hooks:function(){return{bootstrap:function(){AA($P("mutationObserverCallbacks",{}))},noAuto:function(){PA&&PA.disconnect()},watch:function(e){var t=e.observeMutationsRoot;qA?DA():AA($P("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},XA,ZA,eM,{hooks:function(){return{parseNodeAttributes:function(e,t){var i=t.getAttribute("data-fa-symbol"),n=null!==i&&(""===i||i);return e.symbol=n,e}}}}],{mixoutsTo:nA});var tM=nA.parse,iM=nA.icon;function nM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function oM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nM(Object(i),!0).forEach((function(t){sM(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function rM(e){return rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rM(e)}function sM(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function aM(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function lM(e){return function(e){if(Array.isArray(e))return uM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return uM(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return uM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uM(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function cM(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var dM=["style"];var hM=!1;try{hM=!0}catch(Bk){}function pM(e){return e&&"object"===rM(e)&&e.prefix&&e.iconName&&e.icon?e:tM.icon?tM.icon(e):null===e?null:e&&"object"===rM(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function gM(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?sM({},e,t):{}}var fM={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},mM=e.forwardRef((function(e,t){var i=oM(oM({},fM),e),n=i.icon,o=i.mask,r=i.symbol,s=i.className,a=i.title,l=i.titleId,u=i.maskId,c=pM(n),d=gM("classes",[].concat(lM(function(e){var t,i=e.beat,n=e.fade,o=e.beatFade,r=e.bounce,s=e.shake,a=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,d=e.pulse,h=e.fixedWidth,p=e.inverse,g=e.border,f=e.listItem,m=e.flip,v=e.size,C=e.rotation,y=e.pull,w=(sM(t={"fa-beat":i,"fa-fade":n,"fa-beat-fade":o,"fa-bounce":r,"fa-shake":s,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":h,"fa-inverse":p,"fa-border":g,"fa-li":f,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(v),"undefined"!==typeof v&&null!==v),sM(t,"fa-rotate-".concat(C),"undefined"!==typeof C&&null!==C&&0!==C),sM(t,"fa-pull-".concat(y),"undefined"!==typeof y&&null!==y),sM(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(i)),lM((s||"").split(" ")))),h=gM("transform","string"===typeof i.transform?tM.transform(i.transform):i.transform),p=gM("mask",pM(o)),g=iM(c,oM(oM(oM(oM({},d),h),p),{},{symbol:r,title:a,titleId:l,maskId:u}));if(!g)return function(){var e;!hM&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var f=g.abstract,m={ref:t};return Object.keys(i).forEach((function(e){fM.hasOwnProperty(e)||(m[e]=i[e])})),CM(f[0],m)}));mM.displayName="FontAwesomeIcon",mM.propTypes={beat:Tw().bool,border:Tw().bool,beatFade:Tw().bool,bounce:Tw().bool,className:Tw().string,fade:Tw().bool,flash:Tw().bool,mask:Tw().oneOfType([Tw().object,Tw().array,Tw().string]),maskId:Tw().string,fixedWidth:Tw().bool,inverse:Tw().bool,flip:Tw().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Tw().oneOfType([Tw().object,Tw().array,Tw().string]),listItem:Tw().bool,pull:Tw().oneOf(["right","left"]),pulse:Tw().bool,rotation:Tw().oneOf([0,90,180,270]),shake:Tw().bool,size:Tw().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Tw().bool,spinPulse:Tw().bool,spinReverse:Tw().bool,symbol:Tw().oneOfType([Tw().bool,Tw().string]),title:Tw().string,titleId:Tw().string,transform:Tw().oneOfType([Tw().string,Tw().object]),swapOpacity:Tw().bool};var vM,CM=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof i)return i;var o=(i.children||[]).map((function(i){return e(t,i)})),r=Object.keys(i.attributes||{}).reduce((function(e,t){var n=i.attributes[t];switch(t){case"class":e.attrs.className=n,delete i.attributes.class;break;case"style":e.attrs.style=n.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var i,n=t.indexOf(":"),o=cM(t.slice(0,n)),r=t.slice(n+1).trim();return o.startsWith("webkit")?e[(i=o,i.charAt(0).toUpperCase()+i.slice(1))]=r:e[o]=r,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=n:e.attrs[cM(t)]=n}return e}),{attrs:{}}),s=n.style,a=void 0===s?{}:s,l=aM(n,dM);return r.attrs.style=oM(oM({},r.attrs.style),a),t.apply(void 0,[i.tag,oM(oM({},r.attrs),l)].concat(lM(o)))}.bind(null,e.createElement);e.Component;class yM extends e.Component{render(){return(0,o.jsx)("div",{children:(0,o.jsx)(WT,{})})}}function wM(){return wM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wM.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(vM||(vM={}));const bM="popstate";function EM(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function SM(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Bk){}}}function xM(e,t){return{usr:e.state,key:e.key,idx:t}}function RM(e,t,i,n){return void 0===i&&(i=null),wM({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?DM(t):t,{state:i,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function TM(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&"?"!==i&&(t+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function DM(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function PM(e,t,i,n){void 0===n&&(n={});let{window:o=document.defaultView,v5Compat:r=!1}=n,s=o.history,a=vM.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function d(){a=vM.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:p.location,delta:t})}function h(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,i="string"===typeof e?e:TM(e);return i=i.replace(/ $/,"%20"),EM(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}null==u&&(u=0,s.replaceState(wM({},s.state,{idx:u}),""));let p={get action(){return a},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(bM,d),l=e,()=>{o.removeEventListener(bM,d),l=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=vM.Push;let n=RM(p.location,e,t);i&&i(n,e),u=c()+1;let d=xM(n,u),h=p.createHref(n);try{s.pushState(d,"",h)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;o.location.assign(h)}r&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=vM.Replace;let n=RM(p.location,e,t);i&&i(n,e),u=c();let o=xM(n,u),d=p.createHref(n);s.replaceState(o,"",d),r&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}var AM;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(AM||(AM={}));const MM=new Set(["lazy","caseSensitive","path","id","index","children"]);function _M(e,t,i,n){return void 0===i&&(i=[]),void 0===n&&(n={}),e.map(((e,o)=>{let r=[...i,String(o)],s="string"===typeof e.id?e.id:r.join("-");if(EM(!0!==e.index||!e.children,"Cannot specify children on an index route"),EM(!n[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let i=wM({},e,t(e),{id:s});return n[s]=i,i}{let i=wM({},e,t(e),{id:s,children:void 0});return n[s]=i,e.children&&(i.children=_M(e.children,t,r,n)),i}}))}function kM(e,t,i){return void 0===i&&(i="/"),FM(e,t,i,!1)}function FM(e,t,i,n){let o=YM(("string"===typeof t?DM(t):t).pathname||"/",i);if(null==o)return null;let r=LM(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let i=e.length===t.length&&e.slice(0,-1).every(((e,i)=>e===t[i]));return i?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let e=KM(o);s=UM(r[a],e,n)}return s}function LM(e,t,i,n){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===n&&(n="");let o=(e,o,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(EM(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let a=$M([n,s.relativePath]),l=i.concat(s);e.children&&e.children.length>0&&(EM(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),LM(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:zM(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var i;if(""!==e.path&&null!=(i=e.path)&&i.includes("?"))for(let n of NM(e.path))o(e,t,n);else o(e,t)})),t}function NM(e){let t=e.split("/");if(0===t.length)return[];let[i,...n]=t,o=i.endsWith("?"),r=i.replace(/\?$/,"");if(0===n.length)return o?[r,""]:[r];let s=NM(n.join("/")),a=[];return a.push(...s.map((e=>""===e?r:[r,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const OM=/^:[\w-]+$/,IM=3,GM=2,VM=1,HM=10,BM=-2,WM=e=>"*"===e;function zM(e,t){let i=e.split("/"),n=i.length;return i.some(WM)&&(n+=BM),t&&(n+=GM),i.filter((e=>!WM(e))).reduce(((e,t)=>e+(OM.test(t)?IM:""===t?VM:HM)),n)}function UM(e,t,i){void 0===i&&(i=!1);let{routesMeta:n}=e,o={},r="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],l=a===n.length-1,u="/"===r?t:t.slice(r.length)||"/",c=jM({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&i&&!n[n.length-1].route.index&&(c=jM({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),s.push({params:o,pathname:$M([r,c.pathname]),pathnameBase:JM($M([r,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(r=$M([r,c.pathnameBase]))}return s}function jM(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=!0);SM("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,i)=>(n.push({paramName:t,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let r=new RegExp(o,t?void 0:"i");return[r,n]}(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=n.reduce(((e,t,i)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=a[i]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[i];return e[n]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:r,pathnameBase:s,pattern:e}}function KM(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return SM(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function YM(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&"/"!==n?null:e.slice(i)||"/"}function qM(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function QM(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function XM(e,t,i,n){let o;void 0===n&&(n=!1),"string"===typeof e?o=DM(e):(o=wM({},e),EM(!o.pathname||!o.pathname.includes("?"),qM("?","pathname","search",o)),EM(!o.pathname||!o.pathname.includes("#"),qM("#","pathname","hash",o)),EM(!o.search||!o.search.includes("#"),qM("#","search","hash",o)));let r,s=""===e||""===o.pathname,a=s?"/":o.pathname;if(null==a)r=i;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:i,search:n="",hash:o=""}="string"===typeof e?DM(e):e,r=i?i.startsWith("/")?i:function(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?i.length>1&&i.pop():"."!==e&&i.push(e)})),i.length>1?i.join("/"):"/"}(i,t):t;return{pathname:r,search:ZM(n),hash:e_(o)}}(o,r),u=a&&"/"!==a&&a.endsWith("/"),c=(s||"."===a)&&i.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const $M=e=>e.join("/").replace(/\/\/+/g,"/"),JM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZM=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",e_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class t_{constructor(e,t,i,n){void 0===n&&(n=!1),this.status=e,this.statusText=t||"",this.internal=n,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function i_(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const n_=["post","put","patch","delete"],o_=new Set(n_),r_=["get",...n_],s_=new Set(r_),a_=new Set([301,302,303,307,308]),l_=new Set([307,308]),u_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},d_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p_=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),g_="remix-router-transitions";function f_(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,i="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,n=!i;let o;if(EM(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=p_;let r,s,a,l={},u=_M(e.routes,o,void 0,l),c=e.basename||"/",d=e.unstable_dataStrategy||R_,h=e.unstable_patchRoutesOnMiss,p=wM({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),g=null,f=new Set,m=null,v=null,C=null,y=null!=e.hydrationData,w=kM(u,e.history.location,c),b=null;if(null==w&&!h){let t=V_(404,{pathname:e.history.location.pathname}),{matches:i,route:n}=G_(u);w=i,b={[n.id]:t}}if(w&&!e.hydrationData){fe(w,u,e.history.location.pathname).active&&(w=null)}if(w)if(w.some((e=>e.route.lazy)))s=!1;else if(w.some((e=>e.route.loader)))if(p.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,i=e.hydrationData?e.hydrationData.errors:null,n=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||i&&void 0!==i[e.route.id]);if(i){let e=w.findIndex((e=>void 0!==i[e.route.id]));s=w.slice(0,e+1).every(n)}else s=w.every(n)}else s=null!=e.hydrationData;else s=!0;else if(s=!1,w=[],p.v7_partialHydration){let t=fe(null,u,e.history.location.pathname);t.active&&t.matches&&(w=t.matches)}let E,S={historyAction:e.history.action,location:e.history.location,matches:w,initialized:s,navigation:u_,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},x=vM.Pop,R=!1,T=!1,D=new Map,P=null,A=!1,M=!1,_=[],k=new Set,F=new Map,L=0,N=-1,O=new Map,I=new Set,G=new Map,V=new Map,H=new Set,B=new Map,W=new Map,z=new Map,U=!1;function j(e,t){void 0===t&&(t={}),S=wM({},S,e);let i=[],n=[];p.v7_fetcherPersist&&S.fetchers.forEach(((e,t)=>{"idle"===e.state&&(H.has(t)?n.push(t):i.push(t))})),[...f].forEach((e=>e(S,{deletedFetchers:n,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),p.v7_fetcherPersist&&(i.forEach((e=>S.fetchers.delete(e))),n.forEach((e=>ie(e))))}function K(t,i,n){var o,s;let a,{flushSync:l}=void 0===n?{}:n,c=null!=S.actionData&&null!=S.navigation.formMethod&&Q_(S.navigation.formMethod)&&"loading"===S.navigation.state&&!0!==(null==(o=t.state)?void 0:o._isRedirect);a=i.actionData?Object.keys(i.actionData).length>0?i.actionData:null:c?S.actionData:null;let d=i.loaderData?N_(S.loaderData,i.loaderData,i.matches||[],i.errors):S.loaderData,h=S.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,d_))));let p,g=!0===R||null!=S.navigation.formMethod&&Q_(S.navigation.formMethod)&&!0!==(null==(s=t.state)?void 0:s._isRedirect);if(r&&(u=r,r=void 0),A||x===vM.Pop||(x===vM.Push?e.history.push(t,t.state):x===vM.Replace&&e.history.replace(t,t.state)),x===vM.Pop){let e=D.get(S.location.pathname);e&&e.has(t.pathname)?p={currentLocation:S.location,nextLocation:t}:D.has(t.pathname)&&(p={currentLocation:t,nextLocation:S.location})}else if(T){let e=D.get(S.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),D.set(S.location.pathname,e)),p={currentLocation:S.location,nextLocation:t}}j(wM({},i,{actionData:a,loaderData:d,historyAction:x,location:t,initialized:!0,navigation:u_,revalidation:"idle",restoreScrollPosition:ge(t,i.matches||S.matches),preventScrollReset:g,blockers:h}),{viewTransitionOpts:p,flushSync:!0===l}),x=vM.Pop,R=!1,T=!1,A=!1,M=!1,_=[]}async function Y(t,i,n){E&&E.abort(),E=null,x=t,A=!0===(n&&n.startUninterruptedRevalidation),function(e,t){if(m&&C){let i=pe(e,t);m[i]=C()}}(S.location,S.matches),R=!0===(n&&n.preventScrollReset),T=!0===(n&&n.enableViewTransition);let o=r||u,s=n&&n.overrideNavigation,a=kM(o,i,c),l=!0===(n&&n.flushSync),d=fe(a,o,i.pathname);if(d.active&&d.matches&&(a=d.matches),!a){let{error:e,notFoundMatches:t,route:n}=ce(i.pathname);return void K(i,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:l})}if(S.initialized&&!M&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(S.location,i)&&!(n&&n.submission&&Q_(n.submission.formMethod)))return void K(i,{matches:a},{flushSync:l});E=new AbortController;let h,g=M_(e.history,i,E.signal,n&&n.submission);if(n&&n.pendingError)h=[I_(a).route.id,{type:AM.error,error:n.pendingError}];else if(n&&n.submission&&Q_(n.submission.formMethod)){let t=await async function(e,t,i,n,o,r){void 0===r&&(r={});J();let s,a=function(e,t){let i={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return i}(t,i);if(j({navigation:a},{flushSync:!0===r.flushSync}),o){let i=await me(n,t.pathname,e.signal);if("aborted"===i.type)return{shortCircuited:!0};if("error"===i.type){let{boundaryId:e,error:n}=de(t.pathname,i);return{matches:i.partialMatches,pendingActionResult:[e,{type:AM.error,error:n}]}}if(!i.matches){let{notFoundMatches:e,error:i,route:n}=ce(t.pathname);return{matches:e,pendingActionResult:[n.id,{type:AM.error,error:i}]}}n=i.matches}let l=Z_(n,t);if(l.route.action||l.route.lazy){if(s=(await X("action",e,[l],n))[0],e.signal.aborted)return{shortCircuited:!0}}else s={type:AM.error,error:V_(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(j_(s)){let t;if(r&&null!=r.replace)t=r.replace;else{t=A_(s.response.headers.get("Location"),new URL(e.url),c)===S.location.pathname+S.location.search}return await Q(e,s,{submission:i,replace:t}),{shortCircuited:!0}}if(z_(s))throw V_(400,{type:"defer-action"});if(U_(s)){let e=I_(n,l.route.id);return!0!==(r&&r.replace)&&(x=vM.Push),{matches:n,pendingActionResult:[e.route.id,s]}}return{matches:n,pendingActionResult:[l.route.id,s]}}(g,i,n.submission,a,d.active,{replace:n.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,n]=t.pendingActionResult;if(U_(n)&&i_(n.error)&&404===n.error.status)return E=null,void K(i,{matches:t.matches,loaderData:{},errors:{[e]:n.error}})}a=t.matches||a,h=t.pendingActionResult,s=tk(i,n.submission),l=!1,d.active=!1,g=M_(e.history,g.url,g.signal)}let{shortCircuited:f,matches:v,loaderData:y,errors:w}=await async function(t,i,n,o,s,a,l,d,h,g,f){let m=s||tk(i,a),v=a||l||ek(m),C=!A&&(!p.v7_partialHydration||!h);if(o){if(C){let e=q(f);j(wM({navigation:m},void 0!==e?{actionData:e}:{}),{flushSync:g})}let e=await me(n,i.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{boundaryId:t,error:n}=de(i.pathname,e);return{matches:e.partialMatches,loaderData:{},errors:{[t]:n}}}if(!e.matches){let{error:e,notFoundMatches:t,route:n}=ce(i.pathname);return{matches:t,loaderData:{},errors:{[n.id]:e}}}n=e.matches}let y=r||u,[w,b]=y_(e.history,S,n,v,i,p.v7_partialHydration&&!0===h,p.v7_skipActionErrorRevalidation,M,_,k,H,G,I,y,c,f);if(he((e=>!(n&&n.some((t=>t.route.id===e)))||w&&w.some((t=>t.route.id===e)))),N=++L,0===w.length&&0===b.length){let e=re();return K(i,wM({matches:n,loaderData:{},errors:f&&U_(f[1])?{[f[0]]:f[1].error}:null},O_(f),e?{fetchers:new Map(S.fetchers)}:{}),{flushSync:g}),{shortCircuited:!0}}if(C){let e={};if(!o){e.navigation=m;let t=q(f);void 0!==t&&(e.actionData=t)}b.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=S.fetchers.get(e.key),i=ik(void 0,t?t.data:void 0);S.fetchers.set(e.key,i)})),new Map(S.fetchers)}(b)),j(e,{flushSync:g})}b.forEach((e=>{F.has(e.key)&&ne(e.key),e.controller&&F.set(e.key,e.controller)}));let x=()=>b.forEach((e=>ne(e.key)));E&&E.signal.addEventListener("abort",x);let{loaderResults:R,fetcherResults:T}=await $(S.matches,n,w,b,t);if(t.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",x);b.forEach((e=>F.delete(e.key)));let D=H_([...R,...T]);if(D){if(D.idx>=w.length){let e=b[D.idx-w.length].key;I.add(e)}return await Q(t,D.result,{replace:d}),{shortCircuited:!0}}let{loaderData:P,errors:O}=L_(S,n,w,R,f,b,T,B);B.forEach(((e,t)=>{e.subscribe((i=>{(i||e.done)&&B.delete(t)}))})),p.v7_partialHydration&&h&&S.errors&&Object.entries(S.errors).filter((e=>{let[t]=e;return!w.some((e=>e.route.id===t))})).forEach((e=>{let[t,i]=e;O=Object.assign(O||{},{[t]:i})}));let V=re(),W=se(N),z=V||W||b.length>0;return wM({matches:n,loaderData:P,errors:O},z?{fetchers:new Map(S.fetchers)}:{})}(g,i,a,d.active,s,n&&n.submission,n&&n.fetcherSubmission,n&&n.replace,n&&!0===n.initialHydration,l,h);f||(E=null,K(i,wM({matches:v||a},O_(h),{loaderData:y,errors:w})))}function q(e){return e&&!U_(e[1])?{[e[0]]:e[1].data}:S.actionData?0===Object.keys(S.actionData).length?null:S.actionData:void 0}async function Q(n,o,r){let{submission:s,fetcherSubmission:a,replace:l}=void 0===r?{}:r;o.response.headers.has("X-Remix-Revalidate")&&(M=!0);let u=o.response.headers.get("Location");EM(u,"Expected a Location header on the redirect Response"),u=A_(u,new URL(n.url),c);let d=RM(S.location,u,{_isRedirect:!0});if(i){let i=!1;if(o.response.headers.has("X-Remix-Reload-Document"))i=!0;else if(h_.test(u)){const n=e.history.createURL(u);i=n.origin!==t.location.origin||null==YM(n.pathname,c)}if(i)return void(l?t.location.replace(u):t.location.assign(u))}E=null;let h=!0===l||o.response.headers.has("X-Remix-Replace")?vM.Replace:vM.Push,{formMethod:p,formAction:g,formEncType:f}=S.navigation;!s&&!a&&p&&g&&f&&(s=ek(S.navigation));let m=s||a;if(l_.has(o.response.status)&&m&&Q_(m.formMethod))await Y(h,d,{submission:wM({},m,{formAction:u}),preventScrollReset:R});else{let e=tk(d,s);await Y(h,d,{overrideNavigation:e,fetcherSubmission:a,preventScrollReset:R})}}async function X(e,t,i,n){try{let r=await T_(d,e,t,i,n,l,o);return await Promise.all(r.map(((e,o)=>{if(W_(e)){let r=e.result;return{type:AM.redirect,response:P_(r,t,i[o].route.id,n,c,p.v7_relativeSplatPath)}}return D_(e)})))}catch(Bk){return i.map((()=>({type:AM.error,error:Bk})))}}async function $(t,i,n,o,r){let[s,...a]=await Promise.all([n.length?X("loader",r,n,i):[],...o.map((t=>{if(t.matches&&t.match&&t.controller){return X("loader",M_(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:AM.error,error:V_(404,{pathname:t.path})})}))]);return await Promise.all([X_(t,n,s,s.map((()=>r.signal)),!1,S.loaderData),X_(t,o.map((e=>e.match)),a,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:s,fetcherResults:a}}function J(){M=!0,_.push(...he()),G.forEach(((e,t)=>{F.has(t)&&(k.add(t),ne(t))}))}function Z(e,t,i){void 0===i&&(i={}),S.fetchers.set(e,t),j({fetchers:new Map(S.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function ee(e,t,i,n){void 0===n&&(n={});let o=I_(S.matches,t);ie(e),j({errors:{[o.route.id]:i},fetchers:new Map(S.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function te(e){return p.v7_fetcherPersist&&(V.set(e,(V.get(e)||0)+1),H.has(e)&&H.delete(e)),S.fetchers.get(e)||c_}function ie(e){let t=S.fetchers.get(e);!F.has(e)||t&&"loading"===t.state&&O.has(e)||ne(e),G.delete(e),O.delete(e),I.delete(e),H.delete(e),k.delete(e),S.fetchers.delete(e)}function ne(e){let t=F.get(e);EM(t,"Expected fetch controller: "+e),t.abort(),F.delete(e)}function oe(e){for(let t of e){let e=nk(te(t).data);S.fetchers.set(t,e)}}function re(){let e=[],t=!1;for(let i of I){let n=S.fetchers.get(i);EM(n,"Expected fetcher: "+i),"loading"===n.state&&(I.delete(i),e.push(i),t=!0)}return oe(e),t}function se(e){let t=[];for(let[i,n]of O)if(n<e){let e=S.fetchers.get(i);EM(e,"Expected fetcher: "+i),"loading"===e.state&&(ne(i),O.delete(i),t.push(i))}return oe(t),t.length>0}function ae(e){S.blockers.delete(e),W.delete(e)}function le(e,t){let i=S.blockers.get(e)||d_;EM("unblocked"===i.state&&"blocked"===t.state||"blocked"===i.state&&"blocked"===t.state||"blocked"===i.state&&"proceeding"===t.state||"blocked"===i.state&&"unblocked"===t.state||"proceeding"===i.state&&"unblocked"===t.state,"Invalid blocker state transition: "+i.state+" -> "+t.state);let n=new Map(S.blockers);n.set(e,t),j({blockers:n})}function ue(e){let{currentLocation:t,nextLocation:i,historyAction:n}=e;if(0===W.size)return;W.size>1&&SM(!1,"A router only supports one blocker at a time");let o=Array.from(W.entries()),[r,s]=o[o.length-1],a=S.blockers.get(r);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:i,historyAction:n})?r:void 0}function ce(e){let t=V_(404,{pathname:e}),i=r||u,{matches:n,route:o}=G_(i);return he(),{notFoundMatches:n,route:o,error:t}}function de(e,t){return{boundaryId:I_(t.partialMatches).route.id,error:V_(400,{type:"route-discovery",pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function he(e){let t=[];return B.forEach(((i,n)=>{e&&!e(n)||(i.cancel(),t.push(n),B.delete(n))})),t}function pe(e,t){if(v){let i=v(e,t.map((e=>function(e,t){let{route:i,pathname:n,params:o}=e;return{id:i.id,pathname:n,params:o,data:t[i.id],handle:i.handle}}(e,S.loaderData))));return i||e.key}return e.key}function ge(e,t){if(m){let i=pe(e,t),n=m[i];if("number"===typeof n)return n}return null}function fe(e,t,i){if(h){if(!e){return{active:!0,matches:FM(t,i,c,!0)||[]}}{let n=e[e.length-1].route;if(n.path&&("*"===n.path||n.path.endsWith("/*"))){return{active:!0,matches:FM(t,i,c,!0)}}}}return{active:!1,matches:null}}async function me(e,t,i){let n=e,s=n.length>0?n[n.length-1].route:null;for(;;){let e=null==r,a=r||u;try{await E_(h,t,n,a,l,o,z,i)}catch(Bk){return{type:"error",error:Bk,partialMatches:n}}finally{e&&(u=[...u])}if(i.aborted)return{type:"aborted"};let d=kM(a,t,c),p=!1;if(d){let e=d[d.length-1].route;if(e.index)return{type:"success",matches:d};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:d};p=!0}}let g=FM(a,t,c,!0);if(!g||n.map((e=>e.route.id)).join("-")===g.map((e=>e.route.id)).join("-"))return{type:"success",matches:p?d:null};if(n=g,s=n[n.length-1].route,"*"===s.path)return{type:"success",matches:n}}}return a={get basename(){return c},get future(){return p},get state(){return S},get routes(){return u},get window(){return t},initialize:function(){if(g=e.history.listen((t=>{let{action:i,location:n,delta:o}=t;if(U)return void(U=!1);SM(0===W.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let r=ue({currentLocation:S.location,nextLocation:n,historyAction:i});return r&&null!=o?(U=!0,e.history.go(-1*o),void le(r,{state:"blocked",location:n,proceed(){le(r,{state:"proceeding",proceed:void 0,reset:void 0,location:n}),e.history.go(o)},reset(){let e=new Map(S.blockers);e.set(r,d_),j({blockers:e})}})):Y(i,n)})),i){!function(e,t){try{let i=e.sessionStorage.getItem(g_);if(i){let e=JSON.parse(i);for(let[i,n]of Object.entries(e||{}))n&&Array.isArray(n)&&t.set(i,new Set(n||[]))}}catch(Bk){}}(t,D);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,i]of t)n[e]=[...i];try{e.sessionStorage.setItem(g_,JSON.stringify(n))}catch(i){SM(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}(t,D);t.addEventListener("pagehide",e),P=()=>t.removeEventListener("pagehide",e)}return S.initialized||Y(vM.Pop,S.location,{initialHydration:!0}),a},subscribe:function(e){return f.add(e),()=>f.delete(e)},enableScrollRestoration:function(e,t,i){if(m=e,C=t,v=i||null,!y&&S.navigation===u_){y=!0;let e=ge(S.location,S.matches);null!=e&&j({restoreScrollPosition:e})}return()=>{m=null,C=null,v=null}},navigate:async function t(i,n){if("number"===typeof i)return void e.history.go(i);let o=m_(S.location,S.matches,c,p.v7_prependBasename,i,p.v7_relativeSplatPath,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:r,submission:s,error:a}=v_(p.v7_normalizeFormMethod,!1,o,n),l=S.location,u=RM(S.location,r,n&&n.state);u=wM({},u,e.history.encodeLocation(u));let d=n&&null!=n.replace?n.replace:void 0,h=vM.Push;!0===d?h=vM.Replace:!1===d||null!=s&&Q_(s.formMethod)&&s.formAction===S.location.pathname+S.location.search&&(h=vM.Replace);let g=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,f=!0===(n&&n.unstable_flushSync),m=ue({currentLocation:l,nextLocation:u,historyAction:h});if(!m)return await Y(h,u,{submission:s,pendingError:a,preventScrollReset:g,replace:n&&n.replace,enableViewTransition:n&&n.unstable_viewTransition,flushSync:f});le(m,{state:"blocked",location:u,proceed(){le(m,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(i,n)},reset(){let e=new Map(S.blockers);e.set(m,d_),j({blockers:e})}})},fetch:function(t,i,o,s){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(t)&&ne(t);let a=!0===(s&&s.unstable_flushSync),l=r||u,d=m_(S.location,S.matches,c,p.v7_prependBasename,o,p.v7_relativeSplatPath,i,null==s?void 0:s.relative),h=kM(l,d,c),g=fe(h,l,d);if(g.active&&g.matches&&(h=g.matches),!h)return void ee(t,i,V_(404,{pathname:d}),{flushSync:a});let{path:f,submission:m,error:v}=v_(p.v7_normalizeFormMethod,!0,d,s);if(v)return void ee(t,i,v,{flushSync:a});let C=Z_(h,f);R=!0===(s&&s.preventScrollReset),m&&Q_(m.formMethod)?async function(t,i,n,o,s,a,l,d){function h(e){if(!e.route.action&&!e.route.lazy){let e=V_(405,{method:d.formMethod,pathname:n,routeId:i});return ee(t,i,e,{flushSync:l}),!0}return!1}if(J(),G.delete(t),!a&&h(o))return;let g=S.fetchers.get(t);Z(t,function(e,t){let i={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return i}(d,g),{flushSync:l});let f=new AbortController,m=M_(e.history,n,f.signal,d);if(a){let e=await me(s,n,m.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:o}=de(n,e);return void ee(t,i,o,{flushSync:l})}if(!e.matches)return void ee(t,i,V_(404,{pathname:n}),{flushSync:l});if(h(o=Z_(s=e.matches,n)))return}F.set(t,f);let v=L,C=await X("action",m,[o],s),y=C[0];if(m.signal.aborted)return void(F.get(t)===f&&F.delete(t));if(p.v7_fetcherPersist&&H.has(t)){if(j_(y)||U_(y))return void Z(t,nk(void 0))}else{if(j_(y))return F.delete(t),N>v?void Z(t,nk(void 0)):(I.add(t),Z(t,ik(d)),Q(m,y,{fetcherSubmission:d}));if(U_(y))return void ee(t,i,y.error)}if(z_(y))throw V_(400,{type:"defer-action"});let w=S.navigation.location||S.location,b=M_(e.history,w,f.signal),R=r||u,T="idle"!==S.navigation.state?kM(R,S.navigation.location,c):S.matches;EM(T,"Didn't find any matches after fetcher action");let D=++L;O.set(t,D);let P=ik(d,y.data);S.fetchers.set(t,P);let[A,V]=y_(e.history,S,T,d,w,!1,p.v7_skipActionErrorRevalidation,M,_,k,H,G,I,R,c,[o.route.id,y]);V.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,i=S.fetchers.get(t),n=ik(void 0,i?i.data:void 0);S.fetchers.set(t,n),F.has(t)&&ne(t),e.controller&&F.set(t,e.controller)})),j({fetchers:new Map(S.fetchers)});let W=()=>V.forEach((e=>ne(e.key)));f.signal.addEventListener("abort",W);let{loaderResults:z,fetcherResults:U}=await $(S.matches,T,A,V,b);if(f.signal.aborted)return;f.signal.removeEventListener("abort",W),O.delete(t),F.delete(t),V.forEach((e=>F.delete(e.key)));let Y=H_([...z,...U]);if(Y){if(Y.idx>=A.length){let e=V[Y.idx-A.length].key;I.add(e)}return Q(b,Y.result)}let{loaderData:q,errors:te}=L_(S,S.matches,A,z,void 0,V,U,B);if(S.fetchers.has(t)){let e=nk(y.data);S.fetchers.set(t,e)}se(D),"loading"===S.navigation.state&&D>N?(EM(x,"Expected pending action"),E&&E.abort(),K(S.navigation.location,{matches:T,loaderData:q,errors:te,fetchers:new Map(S.fetchers)})):(j({errors:te,loaderData:N_(S.loaderData,q,T,te),fetchers:new Map(S.fetchers)}),M=!1)}(t,i,f,C,h,g.active,a,m):(G.set(t,{routeId:i,path:f}),async function(t,i,n,o,r,s,a,l){let u=S.fetchers.get(t);Z(t,ik(l,u?u.data:void 0),{flushSync:a});let c=new AbortController,d=M_(e.history,n,c.signal);if(s){let e=await me(r,n,d.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:o}=de(n,e);return void ee(t,i,o,{flushSync:a})}if(!e.matches)return void ee(t,i,V_(404,{pathname:n}),{flushSync:a});o=Z_(r=e.matches,n)}F.set(t,c);let h=L,p=await X("loader",d,[o],r),g=p[0];z_(g)&&(g=await $_(g,d.signal,!0)||g);F.get(t)===c&&F.delete(t);if(d.signal.aborted)return;if(H.has(t))return void Z(t,nk(void 0));if(j_(g))return N>h?void Z(t,nk(void 0)):(I.add(t),void await Q(d,g));if(U_(g))return void ee(t,i,g.error);EM(!z_(g),"Unhandled fetcher deferred data"),Z(t,nk(g.data))}(t,i,f,C,h,g.active,a,m))},revalidate:function(){J(),j({revalidation:"loading"}),"submitting"!==S.navigation.state&&("idle"!==S.navigation.state?Y(x||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation}):Y(S.historyAction,S.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:te,deleteFetcher:function(e){if(p.v7_fetcherPersist){let t=(V.get(e)||0)-1;t<=0?(V.delete(e),H.add(e)):V.set(e,t)}else ie(e);j({fetchers:new Map(S.fetchers)})},dispose:function(){g&&g(),P&&P(),f.clear(),E&&E.abort(),S.fetchers.forEach(((e,t)=>ie(t))),S.blockers.forEach(((e,t)=>ae(t)))},getBlocker:function(e,t){let i=S.blockers.get(e)||d_;return W.get(e)!==t&&W.set(e,t),i},deleteBlocker:ae,patchRoutes:function(e,t){let i=null==r;S_(e,t,r||u,l,o),i&&(u=[...u],j({}))},_internalFetchControllers:F,_internalActiveDeferreds:B,_internalSetRoutes:function(e){l={},r=_M(e,o,void 0,l)}},a}Symbol("deferred");function m_(e,t,i,n,o,r,s,a){let l,u;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){u=e;break}}else l=t,u=t[t.length-1];let c=XM(o||".",function(e,t){let i=QM(e);return t?i.map(((e,t)=>t===i.length-1?e.pathname:e.pathnameBase)):i.map((e=>e.pathnameBase))}(l,r),YM(e.pathname,i)||e.pathname,"path"===a);return null==o&&(c.search=e.search,c.hash=e.hash),null!=o&&""!==o&&"."!==o||!u||!u.route.index||J_(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&"/"!==i&&(c.pathname="/"===c.pathname?i:$M([i,c.pathname])),TM(c)}function v_(e,t,i,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:i};if(n.formMethod&&!q_(n.formMethod))return{path:i,error:V_(405,{method:n.formMethod})};let o,r,s=()=>({path:i,error:V_(400,{type:"invalid-body"})}),a=n.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),u=B_(i);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Q_(l))return s();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[i,n]=t;return""+e+i+"="+n+"\n"}),""):String(n.body);return{path:i,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Q_(l))return s();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:i,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(Bk){return s()}}}if(EM("function"===typeof FormData,"FormData is not available in this environment"),n.formData)o=__(n.formData),r=n.formData;else if(n.body instanceof FormData)o=__(n.body),r=n.body;else if(n.body instanceof URLSearchParams)o=n.body,r=k_(o);else if(null==n.body)o=new URLSearchParams,r=new FormData;else try{o=new URLSearchParams(n.body),r=k_(o)}catch(Bk){return s()}let c={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:r,json:void 0,text:void 0};if(Q_(c.formMethod))return{path:i,submission:c};let d=DM(i);return t&&d.search&&J_(d.search)&&o.append("index",""),d.search="?"+o,{path:TM(d),submission:c}}function C_(e,t){let i=e;if(t){let n=e.findIndex((e=>e.route.id===t));n>=0&&(i=e.slice(0,n))}return i}function y_(e,t,i,n,o,r,s,a,l,u,c,d,h,p,g,f){let m=f?U_(f[1])?f[1].error:f[1].data:void 0,v=e.createURL(t.location),C=e.createURL(o),y=f&&U_(f[1])?f[0]:void 0,w=y?C_(i,y):i,b=f?f[1].statusCode:void 0,E=s&&b&&b>=400,S=w.filter(((e,i)=>{let{route:o}=e;if(o.lazy)return!0;if(null==o.loader)return!1;if(r)return!("function"===typeof o.loader&&!o.loader.hydrate)||void 0===t.loaderData[o.id]&&(!t.errors||void 0===t.errors[o.id]);if(function(e,t,i){let n=!t||i.route.id!==t.route.id,o=void 0===e[i.route.id];return n||o}(t.loaderData,t.matches[i],e)||l.some((t=>t===e.route.id)))return!0;let s=t.matches[i],u=e;return b_(e,wM({currentUrl:v,currentParams:s.params,nextUrl:C,nextParams:u.params},n,{actionResult:m,actionStatus:b,defaultShouldRevalidate:!E&&(a||v.pathname+v.search===C.pathname+C.search||v.search!==C.search||w_(s,u))}))})),x=[];return d.forEach(((e,o)=>{if(r||!i.some((t=>t.route.id===e.routeId))||c.has(o))return;let s=kM(p,e.path,g);if(!s)return void x.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(o),d=Z_(s,e.path),f=!1;h.has(o)?f=!1:u.has(o)?(u.delete(o),f=!0):f=l&&"idle"!==l.state&&void 0===l.data?a:b_(d,wM({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:i[i.length-1].params},n,{actionResult:m,actionStatus:b,defaultShouldRevalidate:!E&&a})),f&&x.push({key:o,routeId:e.routeId,path:e.path,matches:s,match:d,controller:new AbortController})})),[S,x]}function w_(e,t){let i=e.route.path;return e.pathname!==t.pathname||null!=i&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function b_(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if("boolean"===typeof i)return i}return t.defaultShouldRevalidate}async function E_(e,t,i,n,o,r,s,a){let l=[t,...i.map((e=>e.route.id))].join("-");try{let c=s.get(l);c||(c=e({path:t,matches:i,patch:(e,t)=>{a.aborted||S_(e,t,n,o,r)}}),s.set(l,c)),c&&("object"===typeof(u=c)&&null!=u&&"then"in u)&&await c}finally{s.delete(l)}var u}function S_(e,t,i,n,o){if(e){var r;let i=n[e];EM(i,"No route found to patch children into: routeId = "+e);let s=_M(t,o,[e,"patch",String((null==(r=i.children)?void 0:r.length)||"0")],n);i.children?i.children.push(...s):i.children=s}else{let e=_M(t,o,["patch",String(i.length||"0")],n);i.push(...e)}}async function x_(e,t,i){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let o=i[e.id];EM(o,"No route found in manifest");let r={};for(let s in n){let e=void 0!==o[s]&&"hasErrorBoundary"!==s;SM(!e,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||MM.has(s)||(r[s]=n[s])}Object.assign(o,r),Object.assign(o,wM({},t(o),{lazy:void 0}))}function R_(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function T_(e,t,i,n,o,r,s,a){let l=n.reduce(((e,t)=>e.add(t.route.id)),new Set),u=new Set,c=await e({matches:o.map((e=>{let n=l.has(e.route.id);return wM({},e,{shouldLoad:n,resolve:o=>(u.add(e.route.id),n?async function(e,t,i,n,o,r,s){let a,l,u=n=>{let o,a=new Promise(((e,t)=>o=t));l=()=>o(),t.signal.addEventListener("abort",l);let u,c=o=>"function"!==typeof n?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+i.route.id+"]")):n({request:t,params:i.params,context:s},...void 0!==o?[o]:[]);return u=r?r((e=>c(e))):(async()=>{try{return{type:"data",result:await c()}}catch(Bk){return{type:"error",result:Bk}}})(),Promise.race([u,a])};try{let r=i.route[e];if(i.route.lazy)if(r){let e,[t]=await Promise.all([u(r).catch((t=>{e=t})),x_(i.route,o,n)]);if(void 0!==e)throw e;a=t}else{if(await x_(i.route,o,n),r=i.route[e],!r){if("action"===e){let e=new URL(t.url),n=e.pathname+e.search;throw V_(405,{method:t.method,pathname:n,routeId:i.route.id})}return{type:AM.data,result:void 0}}a=await u(r)}else{if(!r){let e=new URL(t.url);throw V_(404,{pathname:e.pathname+e.search})}a=await u(r)}EM(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+i.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(Bk){return{type:AM.error,result:Bk}}finally{l&&t.signal.removeEventListener("abort",l)}return a}(t,i,e,r,s,o,a):Promise.resolve({type:AM.data,result:void 0}))})})),request:i,params:o[0].params,context:a});return o.forEach((e=>EM(u.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),c.filter(((e,t)=>l.has(o[t].route.id)))}async function D_(e){let{result:t,type:i}=e;if(Y_(t)){let e;try{let i=t.headers.get("Content-Type");e=i&&/\bapplication\/json\b/.test(i)?null==t.body?null:await t.json():await t.text()}catch(Bk){return{type:AM.error,error:Bk}}return i===AM.error?{type:AM.error,error:new t_(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:AM.data,data:e,statusCode:t.status,headers:t.headers}}if(i===AM.error){if(K_(t)){var n,o;if(t.data instanceof Error)return{type:AM.error,error:t.data,statusCode:null==(o=t.init)?void 0:o.status};t=new t_((null==(n=t.init)?void 0:n.status)||500,void 0,t.data)}return{type:AM.error,error:t,statusCode:i_(t)?t.status:void 0}}var r,s,a,l;return function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:AM.deferred,deferredData:t,statusCode:null==(r=t.init)?void 0:r.status,headers:(null==(s=t.init)?void 0:s.headers)&&new Headers(t.init.headers)}:K_(t)?{type:AM.data,data:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(l=t.init)&&l.headers?new Headers(t.init.headers):void 0}:{type:AM.data,data:t}}function P_(e,t,i,n,o,r){let s=e.headers.get("Location");if(EM(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!h_.test(s)){let a=n.slice(0,n.findIndex((e=>e.route.id===i))+1);s=m_(new URL(t.url),a,o,!0,s,r),e.headers.set("Location",s)}return e}function A_(e,t,i){if(h_.test(e)){let n=e,o=n.startsWith("//")?new URL(t.protocol+n):new URL(n),r=null!=YM(o.pathname,i);if(o.origin===t.origin&&r)return o.pathname+o.search+o.hash}return e}function M_(e,t,i,n){let o=e.createURL(B_(t)).toString(),r={signal:i};if(n&&Q_(n.formMethod)){let{formMethod:e,formEncType:t}=n;r.method=e.toUpperCase(),"application/json"===t?(r.headers=new Headers({"Content-Type":t}),r.body=JSON.stringify(n.json)):"text/plain"===t?r.body=n.text:"application/x-www-form-urlencoded"===t&&n.formData?r.body=__(n.formData):r.body=n.formData}return new Request(o,r)}function __(e){let t=new URLSearchParams;for(let[i,n]of e.entries())t.append(i,"string"===typeof n?n:n.name);return t}function k_(e){let t=new FormData;for(let[i,n]of e.entries())t.append(i,n);return t}function F_(e,t,i,n,o,r){let s,a={},l=null,u=!1,c={},d=n&&U_(n[1])?n[1].error:void 0;return i.forEach(((i,n)=>{let h=t[n].route.id;if(EM(!j_(i),"Cannot handle redirect results in processLoaderData"),U_(i)){let t=i.error;if(void 0!==d&&(t=d,d=void 0),l=l||{},r)l[h]=t;else{let i=I_(e,h);null==l[i.route.id]&&(l[i.route.id]=t)}a[h]=void 0,u||(u=!0,s=i_(i.error)?i.error.status:500),i.headers&&(c[h]=i.headers)}else z_(i)?(o.set(h,i.deferredData),a[h]=i.deferredData.data,null==i.statusCode||200===i.statusCode||u||(s=i.statusCode),i.headers&&(c[h]=i.headers)):(a[h]=i.data,i.statusCode&&200!==i.statusCode&&!u&&(s=i.statusCode),i.headers&&(c[h]=i.headers))})),void 0!==d&&n&&(l={[n[0]]:d},a[n[0]]=void 0),{loaderData:a,errors:l,statusCode:s||200,loaderHeaders:c}}function L_(e,t,i,n,o,r,s,a){let{loaderData:l,errors:u}=F_(t,i,n,o,a,!1);for(let c=0;c<r.length;c++){let{key:t,match:i,controller:n}=r[c];EM(void 0!==s&&void 0!==s[c],"Did not find corresponding fetcher result");let o=s[c];if(!n||!n.signal.aborted)if(U_(o)){let n=I_(e.matches,null==i?void 0:i.route.id);u&&u[n.route.id]||(u=wM({},u,{[n.route.id]:o.error})),e.fetchers.delete(t)}else if(j_(o))EM(!1,"Unhandled fetcher revalidation redirect");else if(z_(o))EM(!1,"Unhandled fetcher deferred data");else{let i=nk(o.data);e.fetchers.set(t,i)}}return{loaderData:l,errors:u}}function N_(e,t,i,n){let o=wM({},t);for(let r of i){let i=r.route.id;if(t.hasOwnProperty(i)?void 0!==t[i]&&(o[i]=t[i]):void 0!==e[i]&&r.route.loader&&(o[i]=e[i]),n&&n.hasOwnProperty(i))break}return o}function O_(e){return e?U_(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function I_(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function G_(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function V_(e,t){let{pathname:i,routeId:n,method:o,type:r,message:s}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===r?l='Unable to match URL "'+i+'" - the `unstable_patchRoutesOnMiss()` function threw the following error:\n'+s:o&&i&&n?l="You made a "+o+' request to "'+i+'" but did not provide a `loader` for route "'+n+'", so there is no way to handle the request.':"defer-action"===r?l="defer() is not supported in actions":"invalid-body"===r&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+n+'" does not match URL "'+i+'"'):404===e?(a="Not Found",l='No route matches URL "'+i+'"'):405===e&&(a="Method Not Allowed",o&&i&&n?l="You made a "+o.toUpperCase()+' request to "'+i+'" but did not provide an `action` for route "'+n+'", so there is no way to handle the request.':o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new t_(e||500,a,new Error(l),!0)}function H_(e){for(let t=e.length-1;t>=0;t--){let i=e[t];if(j_(i))return{result:i,idx:t}}}function B_(e){return TM(wM({},"string"===typeof e?DM(e):e,{hash:""}))}function W_(e){return Y_(e.result)&&a_.has(e.result.status)}function z_(e){return e.type===AM.deferred}function U_(e){return e.type===AM.error}function j_(e){return(e&&e.type)===AM.redirect}function K_(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Y_(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function q_(e){return s_.has(e.toLowerCase())}function Q_(e){return o_.has(e.toLowerCase())}async function X_(e,t,i,n,o,r){for(let s=0;s<i.length;s++){let a=i[s],l=t[s];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!w_(u,l)&&void 0!==(r&&r[l.route.id]);if(z_(a)&&(o||c)){let e=n[s];EM(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await $_(a,e,o).then((e=>{e&&(i[s]=e||i[s])}))}}}async function $_(e,t,i){if(void 0===i&&(i=!1),!await e.deferredData.resolveData(t)){if(i)try{return{type:AM.data,data:e.deferredData.unwrappedData}}catch(Bk){return{type:AM.error,error:Bk}}return{type:AM.data,data:e.deferredData.data}}}function J_(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Z_(e,t){let i="string"===typeof t?DM(t).search:t.search;if(e[e.length-1].route.index&&J_(i||""))return e[e.length-1];let n=QM(e);return n[n.length-1]}function ek(e){let{formMethod:t,formAction:i,formEncType:n,text:o,formData:r,json:s}=e;if(t&&i&&n)return null!=o?{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:void 0,text:o}:null!=r?{formMethod:t,formAction:i,formEncType:n,formData:r,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:i,formEncType:n,formData:void 0,json:s,text:void 0}:void 0}function tk(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ik(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nk(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ok.apply(this,arguments)}const rk=e.createContext(null);const sk=e.createContext(null);const ak=e.createContext(null);const lk=e.createContext(null);const uk=e.createContext({outlet:null,matches:[],isDataRoute:!1});const ck=e.createContext(null);function dk(){return null!=e.useContext(lk)}function hk(){return dk()||EM(!1),e.useContext(lk).location}function pk(t,i,n,o){dk()||EM(!1);let{navigator:r}=e.useContext(ak),{matches:s}=e.useContext(uk),a=s[s.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,d=hk();if(i){var h;let e="string"===typeof i?DM(i):i;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||EM(!1),c=e}else c=d;let p=c.pathname||"/",g=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=kM(t,{pathname:g});let m=Ck(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:$M([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:$M([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,o);return i&&m?e.createElement(lk.Provider,{value:{location:ok({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vM.Pop}},m):m}function gk(){let t=function(){var t;let i=e.useContext(ck),n=wk(yk.UseRouteError),o=bk(yk.UseRouteError);if(void 0!==i)return i;return null==(t=n.errors)?void 0:t[o]}(),i=i_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},i),n?e.createElement("pre",{style:r},n):null,null)}const fk=e.createElement(gk,null);class mk extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(uk.Provider,{value:this.props.routeContext},e.createElement(ck.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vk(t){let{routeContext:i,match:n,children:o}=t,r=e.useContext(rk);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),e.createElement(uk.Provider,{value:i},o)}function Ck(t,i,n,o){var r;if(void 0===i&&(i=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==t){var s;if(!n)return null;if(n.errors)t=n.matches;else{if(!(null!=(s=o)&&s.v7_partialHydration&&0===i.length&&!n.initialized&&n.matches.length>0))return null;t=n.matches}}let a=t,l=null==(r=n)?void 0:r.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||EM(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&o&&o.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:i}=n,o=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||o){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((t,o,r)=>{let s,d=!1,h=null,p=null;var g;n&&(s=l&&o.route.id?l[o.route.id]:void 0,h=o.route.errorElement||fk,u&&(c<0&&0===r?(g="route-fallback",!1||Ek[g]||(Ek[g]=!0),d=!0,p=null):c===r&&(d=!0,p=o.route.hydrateFallbackElement||null)));let f=i.concat(a.slice(0,r+1)),m=()=>{let i;return i=s?h:d?p:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(vk,{match:o,routeContext:{outlet:t,matches:f,isDataRoute:null!=n},children:i})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===r)?e.createElement(mk,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var yk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yk||{});function wk(t){let i=e.useContext(sk);return i||EM(!1),i}function bk(t){let i=function(t){let i=e.useContext(uk);return i||EM(!1),i}(),n=i.matches[i.matches.length-1];return n.route.id||EM(!1),n.route.id}const Ek={};t.startTransition;function Sk(t){let{basename:i="/",children:n=null,location:o,navigationType:r=vM.Pop,navigator:s,static:a=!1,future:l}=t;dk()&&EM(!1);let u=i.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:u,navigator:s,static:a,future:ok({v7_relativeSplatPath:!1},l)})),[u,l,s,a]);"string"===typeof o&&(o=DM(o));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:f="default"}=o,m=e.useMemo((()=>{let e=YM(d,u);return null==e?null:{location:{pathname:e,search:h,hash:p,state:g,key:f},navigationType:r}}),[u,d,h,p,g,f,r]);return null==m?null:e.createElement(ak.Provider,{value:c},e.createElement(lk.Provider,{children:n,value:m}))}new Promise((()=>{}));e.Component;function xk(t){let i={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(i,{element:e.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(i,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(i,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),i}function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rk.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Bk){}function Tk(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Rk({},t,{errors:Dk(t.errors)})),t}function Dk(e){if(!e)return null;let t=Object.entries(e),i={};for(let[n,o]of t)if(o&&"RouteErrorResponse"===o.__type)i[n]=new t_(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"===typeof e)try{let t=new e(o.message);t.stack="",i[n]=t}catch(Bk){}}if(null==i[n]){let e=new Error(o.message);e.stack="",i[n]=e}}else i[n]=o;return i}const Pk=e.createContext({isTransitioning:!1});const Ak=e.createContext(new Map);const Mk=t.startTransition,_k=ly.flushSync;t.useId;function kk(e){_k?_k(e):e()}class Fk{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Lk(t){let{fallbackElement:i,router:n,future:o}=t,[r,s]=e.useState(n.state),[a,l]=e.useState(),[u,c]=e.useState({isTransitioning:!1}),[d,h]=e.useState(),[p,g]=e.useState(),[f,m]=e.useState(),v=e.useRef(new Map),{v7_startTransition:C}=o||{},y=e.useCallback((e=>{C?function(e){Mk?Mk(e):e()}(e):e()}),[C]),w=e.useCallback(((e,t)=>{let{deletedFetchers:i,unstable_flushSync:o,unstable_viewTransitionOpts:r}=t;i.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(r&&!a){if(o){kk((()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:r.currentLocation,nextLocation:r.nextLocation})}));let t=n.window.document.startViewTransition((()=>{kk((()=>s(e)))}));return t.finished.finally((()=>{kk((()=>{h(void 0),g(void 0),l(void 0),c({isTransitioning:!1})}))})),void kk((()=>g(t)))}p?(d&&d.resolve(),p.skipTransition(),m({state:e,currentLocation:r.currentLocation,nextLocation:r.nextLocation})):(l(e),c({isTransitioning:!0,flushSync:!1,currentLocation:r.currentLocation,nextLocation:r.nextLocation}))}else o?kk((()=>s(e))):y((()=>s(e)))}),[n.window,p,d,v,y]);e.useLayoutEffect((()=>n.subscribe(w)),[n,w]),e.useEffect((()=>{u.isTransitioning&&!u.flushSync&&h(new Fk)}),[u]),e.useEffect((()=>{if(d&&a&&n.window){let e=a,t=d.promise,i=n.window.document.startViewTransition((async()=>{y((()=>s(e))),await t}));i.finished.finally((()=>{h(void 0),g(void 0),l(void 0),c({isTransitioning:!1})})),g(i)}}),[y,a,d,n.window]),e.useEffect((()=>{d&&a&&r.location.key===a.location.key&&d.resolve()}),[d,p,r.location,a]),e.useEffect((()=>{!u.isTransitioning&&f&&(l(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))}),[u.isTransitioning,f]),e.useEffect((()=>{}),[]);let b=e.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,i)=>n.navigate(e,{state:t,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,t,i)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==i?void 0:i.preventScrollReset})})),[n]),E=n.basename||"/",S=e.useMemo((()=>({router:n,navigator:b,static:!1,basename:E})),[n,b,E]),x=e.useMemo((()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath})),[n.future.v7_relativeSplatPath]);return e.createElement(e.Fragment,null,e.createElement(rk.Provider,{value:S},e.createElement(sk.Provider,{value:r},e.createElement(Ak.Provider,{value:v.current},e.createElement(Pk.Provider,{value:u},e.createElement(Sk,{basename:E,location:r.location,navigationType:r.historyAction,navigator:b,future:x},r.initialized||n.future.v7_partialHydration?e.createElement(Nk,{routes:n.routes,future:n.future,state:r}):i))))),null)}const Nk=e.memo(Ok);function Ok(e){let{routes:t,future:i,state:n}=e;return pk(t,void 0,n,i)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ik,Gk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ik||(Ik={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Gk||(Gk={}));const Vk=function(){const e=function(e,t){return f_({basename:null==t?void 0:t.basename,future:Rk({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(i={window:null==t?void 0:t.window},void 0===i&&(i={}),PM((function(e,t){let{pathname:i="/",search:n="",hash:o=""}=DM(e.location.hash.substr(1));return i.startsWith("/")||i.startsWith(".")||(i="/"+i),RM("",{pathname:i,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let i=e.document.querySelector("base"),n="";if(i&&i.getAttribute("href")){let t=e.location.href,i=t.indexOf("#");n=-1===i?t:t.slice(0,i)}return n+"#"+("string"===typeof t?t:TM(t))}),(function(e,t){SM("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),i)),hydrationData:(null==t?void 0:t.hydrationData)||Tk(),routes:e,mapRouteProperties:xk,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==t?void 0:t.unstable_patchRoutesOnMiss,window:null==t?void 0:t.window}).initialize();var i}([{path:"/",element:(0,o.jsx)(r,{})},{path:"/time",element:(0,o.jsx)(s,{})},{path:"/money",element:(0,o.jsx)(Vs,{})},{path:"/social",element:(0,o.jsx)(Hs,{})},{path:"/datasheet",element:(0,o.jsx)(yM,{})}]);return(0,o.jsx)("div",{children:(0,o.jsx)(Lk,{router:e})})},Hk=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,6453)).then((t=>{let{getCLS:i,getFID:n,getFCP:o,getLCP:r,getTTFB:s}=t;i(e),n(e),o(e),r(e),s(e)}))};n.createRoot(document.getElementById("root")).render((0,o.jsx)(e.StrictMode,{children:(0,o.jsx)(Vk,{})})),Hk()})()})();
//# sourceMappingURL=main.1f0fd683.js.map